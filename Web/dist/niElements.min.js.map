{"version":3,"sources":["../../../Source/VI/HtmlControls.Design/Web/Elements/DataPipeline/niDataPipeline.js","../../../Source/VI/HtmlControls.Design/Web/Elements/DataPipeline/niGraphDataPipeline.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-web-application.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-virtual-instrument.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-visual-component.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-visual.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-boolean-control.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-boolean-button.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-numeric-control.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-numeric-text-box.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-numeric-pointer.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-linear-numeric-pointer.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-radial-numeric-pointer.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-slider.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-tank.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-gauge.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-progress-bar.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-linear-progress-bar.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-cartesian-graph-base.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-cartesian-graph.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-chart.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-intensity-graph.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-cartesian-axis.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-cartesian-plot.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-cartesian-plot-renderer.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-cursor.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-string-control.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-time-stamp-text-box.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-boolean-content-control.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-boolean-switch.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-boolean-led.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-check-box.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-hyperlink.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-text.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-label.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-path-selector.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-url-image.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-image.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-selector.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-drop-down.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-list-box.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-cluster.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-array-viewer.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-data-grid.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-data-grid-column.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-io-name-control.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-legend-helpers.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-plot-legend.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-plot-legend-helpers.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-plot-legend-item-display.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-cursor-legend.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-cursor-legend-helpers.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-cursor-legend-item-display.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-scale-legend.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-scale-legend-helpers.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-graph-tools.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-opaque-refnum.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-tab-control.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-tab-item.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-layout-panel.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-color-scale.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-numeric-value-selector.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-enum-selector.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-ring-selector.js","../../../Source/VI/HtmlControls.Design/Web/Elements/ni-radio-button-group.js"],"names":["NationalInstruments","HtmlVI","DataPipeline","GraphDataPipeline","DataTypesEnum","Object","freeze","niAnalogWaveform","niAnalogWaveformArray","XYClusterOfArrays","XYArrayOfClusters","XYArrayOfClusterOfArrays","XYArrayOfArrayOfClusters","oneDimensionNumericArray","twoDimensionsNumericArray","oneDimensionComplexArray","twoDimensionsComplexArray","empty","unknown","graphDataPipeline","ComplexNumber","NIComplex","AnalogWaveform","NIAnalogWaveform","proto","prototype","toFlot","graph","value","valueType","convertToFlotFormat","isWaveform","Array","isArray","Y","isWaveformArray","isXYClusterOfArrays","keys","length","every","key","isXYArrayOfClusters","isXYArrayOfClusterOfArrays","isXYArrayOfArrayOfClusters","is1DComplexArray","is2DComplexArray","inferDataType","data","waveformToFlotFormat","waveform","toTimeAndValueArray","xyClusterOfArraysToFlotFormat","xydata","result","count","Math","min","i","push","xyArrayOfClustersToFlotFormat","xyArrayOfClusterOfArraysToFlotFormat","xyDataArray","map","xyArrayOfArrayOfClustersToFlotFormat","dataValuesArray2D","j","dataValuesArray","channelName","updatePlotName","parseFromString","Elements","WebApplication","ServiceStateEnum","UNINITIALIZED","READY","ERROR","PanelEngineEnum","NATIVE","VIREO","PanelLocationEnum","IDE_EDIT","IDE_RUN","BROWSER","child","parent","$","Globals","jQuery","NI_SUPPORT","NISupport","inheritFromParent","SERVICE_STATE_ENUM","createWebAppFrontend","uiControls","document","createElement","classList","add","startButton","textContent","type","abortButton","appendChild","enableButtons","enableStart","enableAbort","remove","updateUIButtons","frontEndElements","serviceState","updateConnectingDialog","unblockUI","blockUI","message","ignoreIfBlocked","css","border","padding","backgroundColor","-webkit-border-radius","-moz-border-radius","opacity","color","cursor","addAllProperties","targetPrototype","call","this","addProperty","propertyName","defaultValue","fireEvent","createdCallback","_enableConnectionDialog","_frontEndElements","undefined","attachedCallback","firstCall","that","webApplicationModelsService","register","disableAutoStart","engine","location","addEventListener","contains","start","stop","propertyUpdated","detachedCallback","unregister","dispatchEvent","CustomEvent","bubbles","cancelable","detail","element","defineElementInfo","NIElement","VirtualInstrument","viReferenceService","registerVIElement","unregisterVIElement","VisualComponent","_latestSize","width","height","_temporaryModelSettingsHolder","getAttribute","setAttribute","e","parseInt","forceResize","size","Visual","isTextEditFocusable","setFont","fontSize","fontFamily","fontWeight","fontStyle","style","BooleanControl","UI_ACTIVITY_SERVICE","UIActivityService","unbindMechanicalAction","target","id","niElementInstanceId","toString","isRegistered","tryBindMechanicalAction","onPress","clickMode","isMomentary","momentary","readOnly","errorVerbose","up","evt","down","addNonSignalingProperty","isElementValueProperty","BooleanButton","widgetSettings","childElement","jqref","toggled","glyphSpan","font-family","font-size","glyph","createTextNode","String","fromCharCode","contentSpan","content","disabled","jqxToggleButton","jqx","removeHandler","mobile","getTouchEventName","addClass","firstElementChild","childNodes","font-weight","font-style","text","contentVisible","NumericControl","NUM_HELPER","NINumerics","Helpers","stringValue","numberValue","ValueTypes","DOUBLE","jqrefContent","getRange","is64BitInt","maximum","minimum","max","BigNumber","subtract","NumericTextBox","ValidateInputValue","NUM_VAL_CONVERTER","ValueConverters","NumericValueConverter","NUM_HELPERS","validateNumberValue","config","validNumberValue","isNaN","isFloat","round","validateStringValue","temp","int64min","int64max","validStringValue","compare","intPart","isComplex","error","valueAsString","valueOnControl","convertedValue","convert","newInputVal","convertFormatToOutputNotation","format","setValue","jqxFormattedInput","val","_valueChanging","fontAttr","divElement","textElement","digits","language","window","IsAttached","NIEmbeddedBrowser","navigator","culture","Globalize","numberFormat","decimalSeparator","int64","isSigned64BitInt","spinButtons","outputNotation","radix","convertBack","spinButtonsStep","interval","coerceDisplayDigits","significantDigits","precisionDigits","decimalDigits","spinMode","jqxComplexInput","on","event","args","replace","valToValidate","keyCode","blur","stopPropagation","find","widgetSetting","isSet","NumericPointer","convertFormatToRadix","LinearNumericPointer","RadialNumericPointer","Slider","ENDPOINTS_ONLY","setupWidget","step","orientation","rangeDivisionsMode","tickMode","niceInterval","tickNumber","tickLabelFormatSettings","tooltipFormatSettings","applyScaleSettings","showButtons","ticksPosition","mode","coercionMode","tooltip","jqxSlider","updateRange","settings","showTicks","scaleVisible","tickSize","majorTicksVisible","showMinorTicks","minorTicksVisible","showTickLabels","labelsVisible","updateScaleVisibility","trigger","removeChild","Tank","MINORTICKS_FOR_ENDPOINTS_ONLY","MAJOR_TICK_SIZE","MINOR_TICK_SIZE","background","visible","animationDuration","jqxLinearGauge","pointerOffset","ticksOffset","ticksMajor","ticksMinor","labels","ticksAndLabelsPosition","position","updateLabelsFontAndFormat","number","pointer","offset","formatSettings","updateDivisionsMode","Gauge","getAndSet","propName","properties","props","jqxGauge","prop","hasOwnProperty","propsToSet","showGradient","distance","ticksDistance","startAngle","endAngle","rangeDivProps","ProgressBar","LinearProgressBar","jqxProgressBar","CartesianGraphBase","plotsUpdatesEnabled","graphConfigPending","getSettings","lines","show","lineWidth","canvas","series","shadowSize","downsample","threshold","axisLabels","xaxes","yaxes","zoom","interactive","pan","selection","grid","configureGraph","cartesianGraphSettings","plotAreaMargin","margin","JSON","parse","cursors","axes","axis","a","getViewConfig","c","graphTools","allowsScrollWheelZoom","allowsPan","updateGraphConfig","plotConfig","plots","graphdiv","cartesianGraphData","createData","setHover","plot","log","getCursors","forEach","cookie","setCursor","onCursorUpdates","cursordata","updateCursorElement","throttlePlotUpdates","throttle","updateGraphConfigWhenPlotsUpdatesAreEnabled","index","name","label","dataSeries","updateData","setData","setupGrid","draw","plotLegend","cursorLegend","scaleLegend","findGraphItems_early","myChildItems","axisItemName","CartesianPlot","elementInfo","tagName","toUpperCase","plotItemName","CartesianAxis","children","resize","createGraph","uniqueId","className","bind","pos","item","seriesIndex","x","datapoint","y","hoverFormat","str","html","top","pageY","offsetTop","left","pageX","offsetLeft","fadeIn","hide","getPlaceholder","graphChildElements","addGraphItemListeners","attachLegends","childElements","splice","notifyPlotLegend","notifyScaleLegend","notifyCursorLegend","registerPlotLegend","originalSource","eventConfig","registerCursorLegend","registerScaleLegend","registerGraphTools","ranges","notifyGraphTools","graphElement","plotLegendItemName","PlotLegend","scaleLegendItemName","ScaleLegend","cursorLegendItemName","CursorLegend","graphToolsItemName","GraphTools","legendElementNames","parentElement","myLegends","indexOf","graphName","niControlId","legend","attachToGraph","arguments","match","len1","toFixed","len2","toExponential","graphData","graphSettings","isHoverable","hoverable","CartesianGraph","Chart","setHistoryBuffer","historyBuffer","getHistoryBuffer","IntensityGraph","h","w","parsedData","dataRange","dataMin","dataMax","sqrt","tempMin","tempMax","buf","autoScaleColor","intensitygraph","colorScaleMin","colorScaleMax","colorScaleLabel","colorScaleShowLabel","gradient","defaultData","markers","autoScale","range","lowColor","highColor","axisLabel","reserveSpace","labelWidth","labelHeight","graphdata","isTimeAxis","toFlotTimeFormat","nullTickFormatter","_parentGraph","sendEventToParentGraph","flotConfig","showLabel","axisPosition","logScale","timeformat","tickFormatter","getFlotAxis","getAxes","filter","options","scaleOnce","datamin","datamax","syncWithFlot","_autoScale","_minimum","_maximum","addPlotItemListeners","plotRenderer","enableHover","CartesianPlotRenderer","_parentPlot","sendEventToParentPlot","toFlotLineStyle","areaFillOpacity","lineStroke","pointColor","areaFill","barFill","fill","zero","dashes","lineStyle","points","radius","pointSize","symbol","pointShape","bars","barWidth","align","Cursor","_x","relativeX","_y","relativeY","crosshairStyle","showValuesRelativeToSeries","showValue","cursorColor","snapToPlot","snapToData","targetShape","StringControl","editingContent","attr","newVal","typeToReplace","focus","select","acceptsReturn","ctrlKey","TimeStampTextBox","serialisedTSToJsDate","NITimestamp","toDate","formatLanguage","calendar","patterns","d","T","formatString","showCalendarButton","popupEnabled","jqxDateTimeInput","date","BooleanContentControl","BooleanSwitch","createSliderButton","params","jqRef","jqxSwitchButton","setPowerButtonFontSize","line-height","createPowerButton","powerButton","powerChar","hover","toggleClass","preventDefault","createRoundButton","fontProps","labelElement","roundOffLabel","roundOnLabel","checkbox","innerText","offLabel","onLabel","checked","createWidgetSettings","trueContent","falseContent","createAndAddChildElement","shape","fontProperties","BooleanLED","updateContent","updateColors","background-color","highlight","border-color","CheckBox","animationShowDelay","animationHideDelay","innerHTML","jqxCheckBox","removeClass","lastElementChild","Hyperlink","href","firstChild","nodeValue","Text","divTag","Label","labelTag","PathSelector","PathTypeEnum","ABSOLUTE","RELATIVE","enablePopup","pathToObject","objectToPath","filterEmptyString","PATH_TYPE_ENUM","enable","_popoverTag","jqxPopover","selector","animationOpenDelay","animationCloseDelay","pathString","components","split","pathObject","join","stringify","setPath","pathValue","isNotAPath","path","setNotAPath","popover","button","pathFormat","accept","jqxPathControl","i18n","jqxButton","template","UrlImage","StretchEnum","NONE","UNIFORM","UNIFORM_TO_FILL","FILL","STRETCH_ENUM","createImage","urlImageElement","source","backgroundImage","stretch","title","alternate","Image","imageElement","Selector","DropDown","selectedIndex","autoDropDownHeight","jqxDropDownList","animationType","ListBox","SELECTION_MODE_ENUM","NIListBox","SelectionModeEnum","getJqxListBoxSelectedIndices","items","jqxListBox","obj","setJqxListBoxSelectedIndices","indices","updateModel","_isSelecting","selectedIndicesMatch","elementSelectedIndices","jqxIndices","sort","parsedIndices","ONE","updateSelectionMode","multiple","selectionMode","coerceSelection","firstSelectedIndex","coercedSelectedIndices","src","firstValidIndexArray","newSelection","revertSelection","ZERO_OR_ONE","ONE_OR_MORE","Cluster","NI_VAL_CONVERTER","ElementValueConverter","preventAttributeSync","makeValueObj","valueObj","valuePropertyDescriptor","dataLabel","getValue","childChanged","srcElement","_childValueChanging","addPropertyToValue","valueNonSignaling","removePropertyFromValue","changePropertyNameInValue","oldName","newName","_mutationObserver","_mutationLabelObserver","callChildChanged","MutationObserver","mutations","m","addedNodes","applyLabel","removedNodes","removed","eventName","removeEventListener","textMutationObserver","disconnect","observe","childList","attributes","subtree","updateChildValues","descriptor","updateLabel","attributeName","oldValue","controlId","labelId","dataEventListenerAdded","ConvertBack","Convert","ArrayViewer","CSS_PROPERTIES","getCssSelectorForNIVisual","isInArrayTemplate","isLastElement","n","curNode","getFullCssSelectorForNIVisual","arrayViewer","targetElement","targetAndDescendants","pop","concat","arrayElementSizeChanged","elementSize","controls","niControl","cssWidth","cssHeight","_elementWidth","_elementHeight","nodeCss","templateControl","jqxArray","querySelectorAll","setArrayValue","_settingArrayValue","arrayValue","_userUpdate","getArrayValue","mutationObserver","attributeMutationObserver","defineProperty","configurable","enumerable","get","set","rows","columns","_useAttributeMutationObserver","_nodeLabelMap","clearArrayType","wasInitialized","dimensions","indexerWidth","indexEditorWidth","showIndexDisplay","indexVisibility","node","parseRowsAndColumns","createArray","requestAnimationFrame","updateFromTemplate","control","updatePosition","_preventModelCreation","display","updateLabelIds","copyNIElement","newNode","cloneNode","_niTemplateId","childNode","updateTemplateCss","templateDescendant","curNodeCss","recreateCells","fullRefresh","r","cell","recreateCell","cellSelector","hasChildNodes","lastChild","_focusedColumn","_focusedRow","updateFocusedCell","setDefaultValue","modelValue","nonSignalingPropertyName","propertyNameNonSignaling","elementWidth","elementHeight","elementTemplate","div","originalEvent","supressChange","changeProperty","property","widgets","getElementValue","setElementValue","showHorizontalScrollbar","horizontalScrollbarVisibility","showVerticalScrollbar","verticalScrollbarVisibility","customWidgetDefaultValue","updateRowsAndColumns","curCell","matches","templateMatch","focusedCell","querySelector","_niFocusedCloneId","slice","rowsAndColumns","oldRows","oldColumns","DataGrid","DEFAULT_ROW_HEIGHT","ID_DATAFIELD","STRING_TEMPLATE_TYPE","NUMERIC_TEMPLATE_TYPE","CHECKBOX_TEMPLATE_TYPE","LED_TEMPLATE_TYPE","SLIDER_TEMPLATE_TYPE","PROGRESSBAR_TEMPLATE_TYPE","DROPDOWN_TEMPLATE_TYPE","JQX_MATH","math","getFalseValue","getElementHeight","elementSelector","visibility","offsetHeight","getAltRowSettings","altstart","floor","altstep","initJqxColumnWidget","dataGrid","row","column","cellElement","rowindex","visibleindex","datafield","niElement","_dataGridRow","_dataGridColumn","columnTypeHelpers","nodeName","setWidgetValue","createJqxColumnWidget","rowIndex","columnIndex","niColumn","templateType","columnTypeHelper","fontStyles","clearExtensionProperties","getComputedStyle","configureWidget","coercedRowHeight","initCustomColumnType","jqxColumn","columntype","createwidget","initwidget","cellbeginedit","getAggregateStringValue","aggregate","getDecimalNotation","Number","toPrecision","Error","aggregatesRenderer","aggregates","jqxAggregates","first","alignment","horizontalAlignment","renderstring","each","addTemplateControlMutationObserver","observer","observerConfig","columnDataField","changedAttributes","templateControlAttributeChanged","mutation","attrName","_niColumnTemplateControlObserver","removeTemplateControlMutationObserver","columnObserver","templateControlAttributeChangedNIElement","matchedControls","templateAttributeValues","hasAttribute","removeAttribute","addNumericValueChangedListener","widgetElement","templateControlValueChanged","keyDownStopPropagation","triggerResizeForWidget","initializeColumn","textNonSignaling","getDefaultValue","validateValue","templateElement","valueTypeAttr","minDimension","newSize","selectedIndexNonSignaling","appendAddRowsToolbar","innerDiv","rowCountInput","append","addRowsLabel","addButton","outerDiv","showAddRowsToolBar","addRowsToolbarRef","jqxNumberInput","inputMode","addRowsButtonLabel","addEmptyRows","selectedColumnDataField","sortedColumnIndices","parsedValue","jqxValue","columnObservers","pageSize","showAggregates","maxAggregateCountPerColumn","_coercedValueUpdate","_validState","getDefaultColumns","cellsalign","hidden","rowHeaderVisible","pinned","some","col","curValue","fieldName","updateJqxColumnConfig","newColumn","aggregateCount","sortedIndices","validState","parsedAggregates","header","aggregatesrenderer","_niColumnDefaultValue","jqxColumnConfig","jqxRow","oldLength","updateStatusBar","updatePageSize","jqxGrid","updateJqxValueFromParsedValue","curRow","initializeColumnsAndData","dataSource","datatype","localdata","dataAdapter","altRowSettings","altRowStart","altRowStep","editable","showemptyrow","selectionmode","showheader","columnHeaderVisible","columnsresize","enablehover","showsortmenuitems","sortable","allowSorting","filterable","allowFiltering","showfilterrow","pageable","allowPaging","groupable","allowGrouping","altrows","altRowColors","offsetWidth","columnsheight","rowsheight","setSelectedColumn","newSelectedDataField","columnToSelect","isInEditMode","selectedColumn","refreshSelectedColumn","leftIndex","cellclassname","updateCoercedRowHeight","rowHeight","childColumns","findInitialColumns","addColumnListeners","updatePagingSettings","origMouseEvent","handledClickEvent","dataField","newWidth","newwidth","newHeight","columnHelper","updateColumns","refreshIfValid","oldDataLength","columnItemName","DataGridColumn","sortColumns","b","requestRefresh","_refreshRequested","initialColumns","_niColumnObserver","statusBarHeight","toggle","statusbarheight","showstatusbar","showaggregates","updatePageSizeTimer","clearTimeout","setTimeout","numRows","horizScrollBar","pagesize","pagesizeoptions","pagerRef","bottom","outerHeight","_parentDataGrid","sendEventToParentDataGrid","IONameControl","sourceArray","selectedValue","newSource","LegendHelpers","helpers","legendItemDisplay","addButtons","menuItem","btn","current","cssClass","handleClick","updateShape","state","getState","addComboBox","iconWidth","init","dropDownHeight","tag","substring","itemState","getTextElementByColor","hex","nThreshold","bgDelta","g","foreColor","addColorBox","dropList","colorbox","jqxColorPicker","colorMode","jqxDropDownButton","charAt","addCheckBox","tbl","nPlots","currentExpander","PlotLegendHelpers","plotLegendItemDisplay","PlotLegendItemDisplay","uihelpers","plotAdded","createRow","addRenderer","plotRemoved","removeRow","clearRenderer","createRows","enableThrottling","overflowX","overflowY","plotToIndex","getPlotName","rendererToIndex","tr","exp","plotName","p","span","createHeaderDisplay","jqxExpander","expanded","expandAnimationDuration","collapseAnimationDuration","initContent","loadContent","expander","applyFont","titles","td1","td2","menu","jqrefItemTitle","jqrefItemContentTitle","defaultPlotColors","lineStyleValues","dot","dashdot","mediumdash","largedash","solid","renderers","getPlot","localName","getRenderer","renderer","currentRenderer","itemName","arg","initialColor","getPlotColorFromRenderer","getPlotColor","getLineWidth","getLineShape","lineShape","getLineStyle","lineStylValues","getPointShape","pointTypes","creator","createEllipseShape","createRectangleShape","createDiamondShape","createCrossShape","createPlusShape","lineTypes","createLine","createFillArea","createBars","createPoints","shapes","svgns","svg","createElementNS","setAttributeNS","shapesGroup","createLineTypes","line","bar","group","pointGroups","center","updateLinesAttributes","updatePointVisibility","currentLineShape","currentPointShape","updateVisibility","table","nCursors","selectedRow","deleteButton","centerButton","currentRow","currentBtn","CursorLegendHelpers","cursorLegendItemDisplay","CursorLegendItemDisplay","cursorAdded","cursorPositionChanged","xEl","getElementById","yEl","cursorRemoved","cursorToIndex","eq","clearShape","cursorChanged","updateName","updateVisible","buttonsRow","centerCursor","addCursor","del","deleteCursor","imageRenderer","createMainRow","createDetailsRow","getRowIndex","td0","td3","td4","showHideButton","parseFloat","createDetailsItem","subtable","td","colSpan","getMenuItem","jqrefItemName","jqrefItemX","jqrefItemY","jqrefItemDetails","defaultCursorName","nextCursorName","getCursor","changed","maxIndex","getTargetShape","getCrosshair","addShapes","makeShape","makeLine","rect","circle","getColorString","x1","y1","x2","y2","colorIndex","partIndex","crosshair","colorWithAlpha","alpha","nScales","ScaleLegendHelpers","scaleAdded","addScale","scaleRemoved","scale","toRemove","clearScale","scaleToIndex","lockButtons","setLockBackground","btnLock","btnScaleOnce","scaleName","scales","getScale","currentScale","ModeEnum","LOCKED","PAN","ZOOM","MODE_ENUM","navigationStates","updateCartesianAxesFromFlot","getXAxes","_","opts","xaxis","from","to","getYAxes","yaxis","clearSelection","setNavButtonsState","locked","navNone","btnPan","btnZoom","setMode","states","apply","btnZoomOut","OpaqueRefnum","TabControl","_validTabHeadersLength","findNonUpgradedChildTabItems","myChildTabItems","tabItemName","TabItem","createHeaderContainer","tabItemToIgnore","container","tabHeaders","tabFrames","currHeader","validTabHeadersLength","headers","tabPosition","infoVerbose","getHeaderContainer","attachHeaderContainer","oldContainer","tabStripPlacement","toLowerCase","insertBefore","jqxRibbon","applySelectedIndex","addTabItemListeners","initialTabItemsToWaitFor","newTitle","_parentTabControl","sendEventToParentTabControl","LayoutPanel","ColorScale","NumericValueSelector","UINT32","compareIndexValue","value1","value2","itemsCache","updateItemsArray","itemsArray","pushItem","newItem","cacheDirty","writeThrough","getSourceAndSelectedIndexFromSource","allowCreateNewSelectedItem","numericIndex","displayValue","selectChangedHandler","selectValue","propertyUpdatedHelper","EnumSelector","dropDownChildElement","RingSelector","jqrefNumeric","dropDownContainer","numericInput","numericWidgetSettings","allowUndefined","RadioButtonGroup","Orientation","horizontal","vertical","radioButtonClassName","thisClass","getWidgetSettings","radioButtonGroupElement","setRadioButtons","buttonCnt","setOrientation","setChildrenButtonFont","fontObject","createCheckedHandler","tempSettings","groupId","radioButtonElement","groupName","jqxRadioButton"],"mappings":"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","file":"niElements.min.js.map","sourcesContent":["//****************************************\r\n// GraphDataPipeline\r\n// common utility functions for conversion of LabVIEW datatypes flot data series\r\n// used by graphs and charts.\r\n// National Instruments Copyright 2016\r\n//****************************************\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    NationalInstruments.HtmlVI.DataPipeline = {};\r\n}());\r\n","//****************************************\r\n// GraphDataPipeline\r\n// Utility functions that convert LabVIEW datatypes allowed for graphs to flot data series\r\n// National Instruments Copyright 2016\r\n//****************************************\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    // Static private reference aliases\r\n    // None\r\n\r\n    NationalInstruments.HtmlVI.DataPipeline.GraphDataPipeline = function () {\r\n        // Private variables\r\n    };\r\n\r\n    var DataTypesEnum = Object.freeze({\r\n        niAnalogWaveform: 'niAnalogWaveform',\r\n        niAnalogWaveformArray: 'niAnalogWaveformArray',\r\n        XYClusterOfArrays: 'XYClusterOfArrays',\r\n        XYArrayOfClusters: 'XYArrayOfClusters',\r\n        XYArrayOfClusterOfArrays: 'XYArrayOfClusterOfArrays',\r\n        XYArrayOfArrayOfClusters: 'XYArrayOfArrayOfClusters',\r\n        oneDimensionNumericArray: '1DNumericArray',\r\n        twoDimensionsNumericArray: '2DNumericArray',\r\n        oneDimensionComplexArray: '1DComplexArray',\r\n        twoDimensionsComplexArray: '2DComplexArray',\r\n        empty: 'empty',\r\n        unknown: 'unknown'\r\n    });\r\n\r\n    var graphDataPipeline = NationalInstruments.HtmlVI.DataPipeline.GraphDataPipeline;\r\n    var ComplexNumber = NationalInstruments.HtmlVI.NIComplex;\r\n    var AnalogWaveform = NationalInstruments.HtmlVI.NIAnalogWaveform;\r\n\r\n    var proto = graphDataPipeline.prototype;\r\n\r\n    // Public prototype methods\r\n    proto.toFlot = function (graph, value, valueType) {\r\n        return convertToFlotFormat(graph, value, valueType);\r\n    };\r\n\r\n    // Private methods\r\n    var isWaveform = function (value) {\r\n        return (!Array.isArray(value)) && typeof value === 'object' && Array.isArray(value.Y);\r\n    };\r\n\r\n    var isWaveformArray = function (value) {\r\n        return (Array.isArray(value)) && isWaveform(value[0]);\r\n    };\r\n\r\n    var isXYClusterOfArrays = function (value) {\r\n        return (!Array.isArray(value)) && typeof value === 'object' &&\r\n            Object.keys(value).length === 2 &&\r\n            Object.keys(value).every(function (key) {\r\n            return Array.isArray(value[key]);\r\n        });\r\n    };\r\n\r\n    var isXYArrayOfClusters = function (value) {\r\n        return (Array.isArray(value)) && typeof value[0] === 'object' &&\r\n            Object.keys(value[0]).length === 2 &&\r\n            typeof value[0][Object.keys(value[0])[0]] === 'number';\r\n    };\r\n\r\n    var isXYArrayOfClusterOfArrays = function (value) {\r\n        return Array.isArray(value) && isXYClusterOfArrays(value[0]);\r\n    };\r\n\r\n    var isXYArrayOfArrayOfClusters = function (value) {\r\n        return Array.isArray(value) && isXYArrayOfClusters(value[0]);\r\n    };\r\n\r\n    var is1DComplexArray = function (value) {\r\n        return Array.isArray(value) && typeof value[0] === 'string';\r\n    };\r\n\r\n    var is2DComplexArray = function (value) {\r\n        return Array.isArray(value) && Array.isArray(value[0]) && typeof value[0][0] === 'string';\r\n    };\r\n\r\n    var inferDataType = function (data) {\r\n        if (isWaveform(data)) {\r\n            return DataTypesEnum.niAnalogWaveform;\r\n        }\r\n\r\n        if (isWaveformArray(data)) {\r\n            return DataTypesEnum.niAnalogWaveformArray;\r\n        }\r\n\r\n        if (isXYClusterOfArrays(data)) {\r\n            return DataTypesEnum.XYClusterOfArrays;\r\n        }\r\n\r\n        if (isXYArrayOfClusters(data)) {\r\n            return DataTypesEnum.XYArrayOfClusters;\r\n        }\r\n\r\n        if (!Array.isArray(data)) {\r\n            return DataTypesEnum.unknown;\r\n        }\r\n\r\n        if (data.length === 0) {\r\n            return DataTypesEnum.empty;\r\n        }\r\n\r\n        if (typeof data[0] === 'number') {\r\n            return DataTypesEnum.oneDimensionNumericArray;\r\n        }\r\n\r\n        if (isXYArrayOfClusterOfArrays(data)) {\r\n            return DataTypesEnum.XYArrayOfClusterOfArrays;\r\n        }\r\n\r\n        if (isXYArrayOfArrayOfClusters(data)) {\r\n            return DataTypesEnum.XYArrayOfArrayOfClusters;\r\n        }\r\n\r\n        if (is1DComplexArray(data)) {\r\n            return DataTypesEnum.oneDimensionComplexArray;\r\n        }\r\n\r\n        if (is2DComplexArray(data)) {\r\n            return DataTypesEnum.twoDimensionsComplexArray;\r\n        }\r\n\r\n        if (Array.isArray(data[0])) {\r\n            return DataTypesEnum.twoDimensionsNumericArray;\r\n        }\r\n\r\n        return DataTypesEnum.unknown;\r\n    };\r\n\r\n    var waveformToFlotFormat = function (waveform) {\r\n        return waveform.toTimeAndValueArray();\r\n    };\r\n\r\n    var xyClusterOfArraysToFlotFormat = function (xydata) {\r\n        var result = [];\r\n        var keys = Object.keys(xydata);\r\n        var count = Math.min(xydata[keys[0]].length, xydata[keys[1]].length);\r\n\r\n        for (var i = 0; i < count; i++) {\r\n            result.push([xydata[keys[0]][i], xydata[keys[1]][i]]);\r\n        }\r\n\r\n        return result;\r\n    };\r\n\r\n    var xyArrayOfClustersToFlotFormat = function (xydata) {\r\n        var result = [];\r\n\r\n        var keys = Object.keys(xydata[0] || {});\r\n\r\n        for (var i = 0; i < xydata.length; i++) {\r\n            result.push([xydata[i][keys[0]], xydata[i][keys[1]]]);\r\n        }\r\n\r\n        return result;\r\n    };\r\n\r\n    var xyArrayOfClusterOfArraysToFlotFormat = function (xyDataArray) {\r\n        return xyDataArray.map(function (xydata) {\r\n            return xyClusterOfArraysToFlotFormat(xydata);\r\n        });\r\n    };\r\n\r\n    var xyArrayOfArrayOfClustersToFlotFormat = function (xyDataArray) {\r\n        return xyDataArray.map(function (xydata) {\r\n            return xyArrayOfClustersToFlotFormat(xydata);\r\n        });\r\n    };\r\n\r\n    var convertToFlotFormat = function (graph, data, valueType) {\r\n        // jshint unused: vars\r\n        var dataValuesArray = [];\r\n        var dataValuesArray2D, waveform;\r\n\r\n        var i, j;\r\n\r\n        switch (inferDataType(data)) {\r\n            case DataTypesEnum.niAnalogWaveform:\r\n                waveform = new AnalogWaveform(data);\r\n                if (typeof waveform.channelName === 'string' && waveform.channelName.length > 0) {\r\n                    graph.updatePlotName(0, waveform.channelName);\r\n                }\r\n\r\n                return [waveformToFlotFormat(waveform)];\r\n            case DataTypesEnum.niAnalogWaveformArray:\r\n                dataValuesArray2D = [];\r\n                for (j = 0; j < data.length; j++) {\r\n                    waveform = new AnalogWaveform(data[j]);\r\n                    if (typeof waveform.channelName === 'string' && waveform.channelName.length > 0) {\r\n                        graph.updatePlotName(j, waveform.channelName);\r\n                    }\r\n\r\n                    dataValuesArray2D.push(waveformToFlotFormat(waveform));\r\n                }\r\n\r\n                return dataValuesArray2D;\r\n            case DataTypesEnum.XYClusterOfArrays:\r\n                return [xyClusterOfArraysToFlotFormat(data)];\r\n            case DataTypesEnum.XYArrayOfClusters:\r\n                return [xyArrayOfClustersToFlotFormat(data)];\r\n            case DataTypesEnum.XYArrayOfClusterOfArrays:\r\n                return xyArrayOfClusterOfArraysToFlotFormat(data);\r\n            case DataTypesEnum.XYArrayOfArrayOfClusters:\r\n                return xyArrayOfArrayOfClustersToFlotFormat(data);\r\n            case DataTypesEnum.oneDimensionNumericArray:\r\n                for (i = 0; i < data.length; i++) {\r\n                    dataValuesArray.push([i, data[i]]);\r\n                }\r\n\r\n                return [dataValuesArray];\r\n            case DataTypesEnum.twoDimensionsNumericArray:\r\n                dataValuesArray2D = [];\r\n                for (j = 0; j < data.length; j++) {\r\n                    dataValuesArray = [];\r\n                    for (i = 0; i < data[j].length; i++) {\r\n                        dataValuesArray.push([i, data[j][i]]);\r\n                    }\r\n\r\n                    dataValuesArray2D.push(dataValuesArray);\r\n                }\r\n\r\n                return dataValuesArray2D;\r\n            case DataTypesEnum.oneDimensionComplexArray:\r\n                for (i = 0; i < data.length; i++) {\r\n                    dataValuesArray.push(ComplexNumber.prototype.parseFromString(data[i]));\r\n                }\r\n\r\n                return [dataValuesArray];\r\n            case DataTypesEnum.twoDimensionsComplexArray:\r\n                dataValuesArray2D = [];\r\n                for (j = 0; j < data.length; j++) {\r\n                    dataValuesArray = [];\r\n                    for (i = 0; i < data[j].length; i++) {\r\n                        dataValuesArray.push(ComplexNumber.prototype.parseFromString(data[j][i]));\r\n                    }\r\n\r\n                    dataValuesArray2D.push(dataValuesArray);\r\n                }\r\n\r\n                return dataValuesArray2D;\r\n            default:\r\n        }\r\n\r\n        return dataValuesArray2D || [dataValuesArray];\r\n    };\r\n}());\r\n","//****************************************\r\n// Web Application Prototype\r\n// DOM Registration: HTMLNIWebApplication\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.WebApplication = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\nNationalInstruments.HtmlVI.Elements.WebApplication.ServiceStateEnum = Object.freeze({\r\n    UNINITIALIZED: 'UNINITIALIZED',\r\n    READY: 'READY',\r\n    ERROR: 'ERROR'\r\n});\r\n\r\n// Keep in sync with serializer in DOMModel.cs\r\nNationalInstruments.HtmlVI.Elements.WebApplication.PanelEngineEnum = Object.freeze({\r\n    NATIVE: 'NATIVE',\r\n    VIREO: 'VIREO'\r\n});\r\n\r\n// Keep in sync with serializer in DOMModel.cs\r\nNationalInstruments.HtmlVI.Elements.WebApplication.PanelLocationEnum = Object.freeze({\r\n    IDE_EDIT: 'IDE_EDIT',\r\n    IDE_RUN: 'IDE_RUN',\r\n    BROWSER: 'BROWSER'\r\n});\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    var SERVICE_STATE_ENUM = NationalInstruments.HtmlVI.Elements.WebApplication.ServiceStateEnum;\r\n\r\n    // Static Private Functions\r\n    var createWebAppFrontend = function () {\r\n        //<div class=\"ni-execution-buttons-box disabled\">\r\n        //    <button class=\"ni-execution-button ni-start-button disabled hidden\" type=\"button\">Start</button>\r\n        //    <button class=\"ni-execution-button ni-abort-button disabled hidden\" type=\"button\">Abort</button>\r\n        //</div>\r\n        var uiControls = document.createElement('div');\r\n        uiControls.classList.add('ni-execution-buttons-box');\r\n\r\n        var startButton = document.createElement('button');\r\n        startButton.textContent = 'Start';\r\n        startButton.type = 'button';\r\n        startButton.classList.add('ni-execution-button', 'ni-start-button', 'disabled');\r\n\r\n        var abortButton = document.createElement('button');\r\n        abortButton.textContent = 'Abort';\r\n        abortButton.type = 'button';\r\n        abortButton.classList.add('ni-execution-button', 'ni-abort-button', 'disabled');\r\n\r\n        uiControls.appendChild(startButton);\r\n        uiControls.appendChild(abortButton);\r\n\r\n        var enableButtons = function (enableStart, enableAbort) {\r\n            if (enableStart) {\r\n                startButton.classList.remove('disabled');\r\n            } else {\r\n                startButton.classList.add('disabled');\r\n            }\r\n\r\n            if (enableAbort) {\r\n                abortButton.classList.remove('disabled');\r\n            } else {\r\n                abortButton.classList.add('disabled');\r\n            }\r\n        };\r\n\r\n        return {\r\n            uiControls: uiControls,\r\n            startButton: startButton,\r\n            abortButton: abortButton,\r\n            enableButtons: enableButtons\r\n        };\r\n    };\r\n\r\n    var updateUIButtons = function (frontEndElements, serviceState) {\r\n        if (serviceState === 'READY') {\r\n            frontEndElements.enableButtons(true, false);\r\n        } else if (serviceState === 'RUNNING' || serviceState === 'CONNECTING' || serviceState === 'CONNECTED' || serviceState === 'LISTENING') {\r\n            frontEndElements.enableButtons(false, true);\r\n        } else {\r\n            frontEndElements.enableButtons(false, false);\r\n        }\r\n    };\r\n\r\n    var updateConnectingDialog = function (serviceState) {\r\n        if (serviceState === 'CONNECTED') {\r\n            $.unblockUI();\r\n        } else {\r\n            $.blockUI({\r\n                message: 'CONNECTING',\r\n                ignoreIfBlocked: true,\r\n                css: {\r\n                    border: 'none',\r\n                    padding: '15px',\r\n                    backgroundColor: '#000',\r\n                    '-webkit-border-radius': '10px',\r\n                    '-moz-border-radius': '10px',\r\n                    opacity: 0.5,\r\n                    color: '#fff',\r\n                    cursor: 'wait'\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'engine',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'location',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'vireoSource',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'remoteAddress',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'testMode',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'disableAutoStart',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'serviceState',\r\n            defaultValue: SERVICE_STATE_ENUM.UNINITIALIZED,\r\n            fireEvent: true\r\n        });\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        this._enableConnectionDialog = false;\r\n        this._frontEndElements = undefined;\r\n\r\n        // If the DOM had a different value, override it\r\n        this.serviceState = SERVICE_STATE_ENUM.UNINITIALIZED;\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n        var frontEndElements,\r\n            that = this;\r\n\r\n        NationalInstruments.HtmlVI.webApplicationModelsService.register(that);\r\n\r\n        if (firstCall === true) {\r\n\r\n            if (that.disableAutoStart === false && that.engine === 'NATIVE' && that.location === 'BROWSER') {\r\n                that._enableConnectionDialog = true;\r\n                updateConnectingDialog(that.serviceState);\r\n            }\r\n\r\n            if (that.disableAutoStart === true) {\r\n                frontEndElements = createWebAppFrontend();\r\n\r\n                frontEndElements.startButton.addEventListener('click', function () {\r\n                    if (frontEndElements.startButton.classList.contains('disabled') === false) {\r\n                        that.start();\r\n                    }\r\n                });\r\n\r\n                frontEndElements.abortButton.addEventListener('click', function () {\r\n                    if (frontEndElements.abortButton.classList.contains('disabled') === false) {\r\n                        that.stop();\r\n                    }\r\n                });\r\n\r\n                that._frontEndElements = frontEndElements;\r\n                updateUIButtons(that._frontEndElements, that.serviceState);\r\n                that.appendChild(frontEndElements.uiControls);\r\n            }\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n            case 'serviceState':\r\n                if (this._enableConnectionDialog === true) {\r\n                    updateConnectingDialog(this.serviceState);\r\n                }\r\n\r\n                if (this.disableAutoStart === true) {\r\n                    updateUIButtons(this._frontEndElements, this.serviceState);\r\n                }\r\n\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.detachedCallback = function () {\r\n        NationalInstruments.HtmlVI.webApplicationModelsService.unregister(this);\r\n    };\r\n\r\n    proto.start = function () {\r\n        this.dispatchEvent(new CustomEvent('requested-start', {\r\n            bubbles: true,\r\n            cancelable: true,\r\n            detail: {\r\n                element: this\r\n            }\r\n        }));\r\n    };\r\n\r\n    proto.stop = function () {\r\n        this.dispatchEvent(new CustomEvent('requested-stop', {\r\n            bubbles: true,\r\n            cancelable: true,\r\n            detail: {\r\n                element: this\r\n            }\r\n        }));\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-web-application', 'HTMLNIWebApplication');\r\n}(NationalInstruments.HtmlVI.Elements.WebApplication, NationalInstruments.HtmlVI.Elements.NIElement));\r\n","//****************************************\r\n// Virtual Instrument Prototype\r\n// DOM Registration: HTMLNIVirtualInstrument\r\n// National Instruments Copyright 2014\r\n//****************************************\r\nNationalInstruments.HtmlVI.Elements.VirtualInstrument = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'viName',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'viRef',\r\n            defaultValue: ''\r\n        });\r\n\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n\r\n        NationalInstruments.HtmlVI.viReferenceService.registerVIElement(this);\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.detachedCallback = function () {\r\n        NationalInstruments.HtmlVI.viReferenceService.unregisterVIElement(this);\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-virtual-instrument', 'HTMLNIVirtualInstrument');\r\n}(NationalInstruments.HtmlVI.Elements.VirtualInstrument, NationalInstruments.HtmlVI.Elements.NIElement));\r\n","//****************************************\r\n// Visual Component Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\n// For custom elements the constructor function is never invoked but is instead used for the prototype chain. See the createdCallback for perfoming actions on a new instance.\r\nNationalInstruments.HtmlVI.Elements.VisualComponent = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// Common use case is publically shared constant enums, ex:\r\n// NationalInstruments.HtmlVI.Elements.VisualComponent.MyValueEnum = Object.freeze({\r\n//     VALUE_1: 'VALUE_1',\r\n//     VALUE_2: 'VALUE_2',\r\n//     VALUE_3: 'VALUE_3',\r\n// });\r\n\r\n// Static Public Functions\r\n// Use case can be publically shared helper functions, ex:\r\n// NationalInstruments.HtmlVI.Elements.VisualComponent.MY_PUBLIC_HELPER_FUNCTION = function () {\r\n//     'use strict';\r\n//     return 42;\r\n// }\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    // Common use case is aliases or enums that are shared across all instances, ex:\r\n    // var MY_VALUE_ENUM = NationalInstruments.HtmlVI.NISupport.MyValueEnum;\r\n    // NOTE: SHOULD NOT REFERENCE THE 'this' VARIABLE\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // Common use case is constants or caches that are shared across all instances, ex:\r\n    // var MY_CONSTANT = 3.14;\r\n    // NOTE: SHOULD NOT REFERENCE THE 'this' VARIABLE\r\n\r\n    // Static Private Functions\r\n    // Common use case is helper functions used privately in the class and cannot be overridden by child classes, ex:\r\n    // var myHelperFunction = function () {\r\n    //     return 42;\r\n    // }\r\n    // NOTE: SHOULD NOT REFERENCE THE 'this' VARIABLE\r\n\r\n    // Public Prototype Methods\r\n    // Common use case is defining methods that are available to instances via the prototype chain and can be overriden by child classes, ex see the following prototype methods:\r\n    // NOTE: MAY REFERENCE THE 'this' VARIABLE\r\n    // addAllProperties is invoked during registration of the element to add all the properties managed by the ni-element framework. To add properties not managed by the framework see the createdCallback.\r\n    // proto.addAllProperties = function (targetPrototype) {\r\n    //     parent.prototype.addAllProperties.call(this, targetPrototype);\r\n    //\r\n    //     proto.addProperty(targetPrototype, {\r\n    //         propertyName: 'myAwesomeProp',\r\n    //         defaultValue: 'Awesome Default Value',\r\n    //         fireEvent: true,\r\n    //         addNonSignalingProperty: true\r\n    //     });\r\n    // };\r\n\r\n    // createdCallback is called once during the creation of an element. This is a good time to add additional properties to the instance but as the element may or may not be added to the DOM yet, it is probably not a good time to build internal DOM structure. To build internal DOM structure see the attachedCallback.\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        // Public Instance Properties\r\n        // Common use case is adding properties to the custom element js object that are not managed by the framework (no DOM attribute synchronization, no events on change, etc), ex:\r\n        // this.myMagicalValue = MY_VALUE_ENUM.VALUE_1;\r\n\r\n        // Private Instance Properties\r\n        // Common use case is having private per instance data. Unfortunately JavaScript cannot actually represent this type of data; the best we can do is use a convention on a public instance property, like this._myPrivateData, or instead make a static private variable table that can be indexed by a unique value given to each instance (WeakMaps would be very helpful for this in modern browsers). Ex:\r\n        // this._myNotRuntimeEnforcedSecretMagicalValue = MY_VALUE_ENUM.VALUE_1;\r\n\r\n        // Latest recorded size from resizeEventHack.\r\n        this._latestSize = { width: undefined, height: undefined };\r\n\r\n        // Used by VIModel to temporarily save settings used to initialize element in a private instance property\r\n        this._temporaryModelSettingsHolder = undefined;\r\n\r\n        // The data-ni-base-style attribute is used as a target for applying styles to all ni-visual-component elements. Currently the attribute has two values that are used:\r\n        // [data-ni-base-style] used to style all ni-visual-component elements regardless of initialization status.\r\n        // [data-ni-base-style=\"uninitialized\"] used to style ni-visual-component elements prior to the attached callback firing. This is for creating temporary styles that are on controls for first paint prior to initialization.\r\n        // NOTE: data-ni-base-style should only be used to target either all ni-visual-components or ni-visual-components that are uninitialized. It is not useful for targetting only initialized ni-visual-components, etc.\r\n        // For best user page start-up experience, elements in html should already have the data-ni-base-style attribute set to \"uninitialized\" so styles can be applied before this function runs\r\n\r\n        // Create the data-ni-base-style attribute if it does not exist\r\n        if (this.getAttribute('data-ni-base-style') === null) {\r\n            this.setAttribute('data-ni-base-style', 'uninitialized');\r\n        }\r\n    };\r\n\r\n    // attachedCallback is called every time the element instance has been inserted into the DOM. A good time to create the element's internal DOM is when the firstCall value is true\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            that = this;\r\n\r\n        if (firstCall) {\r\n            // Reset the data-ni-base-style value to empty string so it can be targetted by [data-ni-base-style]\r\n            that.setAttribute('data-ni-base-style', '');\r\n\r\n            that.addEventListener('resizeEventHack', function (e) {\r\n                var width = parseInt(e.detail.width), height = parseInt(e.detail.height);\r\n\r\n                if (that._latestSize.width !== width || that._latestSize.height !== height) {\r\n                    that._latestSize.height = height;\r\n                    that._latestSize.width = width;\r\n                    that.forceResize(that._latestSize);\r\n                }\r\n            });\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    // forceResize is called every time the resizeEventHack fires and width and height are different from the previous values.\r\n    proto.forceResize = function (size) {\r\n        //jshint unused:vars\r\n        // Do nothing.\r\n    };\r\n\r\n    // propertyUpdated is called whenever a property managed by the ni-element framework has been updated, ex:\r\n    // proto.propertyUpdated = function (propertyName) {\r\n    //     parent.prototype.propertyUpdated.call(this, propertyName);\r\n    //\r\n    //     switch (propertyName) {\r\n    //         case 'myAwesomeProp':\r\n    //             NI_SUPPORT.log('Value Changed': + this.myAwesomeProp);\r\n    //             break;\r\n    //         default:\r\n    //             break;\r\n    //     }\r\n    // };\r\n\r\n    // attributeChangedCallback is called when a DOM attribute for the element has changed. Properties managed by the ni-element framework already have automatic attribute synchronization so attributeChangedCallback is very infrequently used, ex:\r\n    // proto.attributeChangedCallback = function (attrName, oldVal, newVal) {\r\n    //     parent.prototype.attributeChangedCallback.call(this, attrName, oldVal, newVal);\r\n    // };\r\n\r\n    // detachedCallback is called AFTER an element has been removed from the DOM (every time the element is removed). It is not frequently used, ex:\r\n    // proto.detachedCallback = function () {\r\n    //     parent.prototype.detachedCallback.call(this);\r\n    // };\r\n    //\r\n\r\n}(NationalInstruments.HtmlVI.Elements.VisualComponent, NationalInstruments.HtmlVI.Elements.NIElement));\r\n","//****************************************\r\n// Visual Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.Visual = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'readOnly',\r\n            defaultValue: false\r\n        });\r\n    };\r\n\r\n    proto.isTextEditFocusable = function () {\r\n        return false;\r\n    };\r\n\r\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle) {\r\n        this.style.fontSize = fontSize;\r\n        this.style.fontFamily = fontFamily;\r\n        this.style.fontWeight = fontWeight;\r\n        this.style.fontStyle = fontStyle;\r\n    };\r\n\r\n}(NationalInstruments.HtmlVI.Elements.Visual, NationalInstruments.HtmlVI.Elements.VisualComponent));\r\n","//****************************************\r\n// Boolean Control Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.BooleanControl = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var UI_ACTIVITY_SERVICE = NationalInstruments.HtmlVI.UIActivityService;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    var unbindMechanicalAction = function (target) {\r\n        var id = target.niElementInstanceId.toString();\r\n        if (UI_ACTIVITY_SERVICE.isRegistered(id) === true) {\r\n            UI_ACTIVITY_SERVICE.unregister(id);\r\n        }\r\n    };\r\n\r\n    var tryBindMechanicalAction = function (target) {\r\n        var onPress = target.clickMode === 'press',\r\n            isMomentary = target.momentary,\r\n            id = target.niElementInstanceId.toString(),\r\n            element = target,\r\n            that = target;\r\n\r\n        if (target.readOnly === true) {\r\n            return;\r\n        }\r\n\r\n        if (isMomentary === true && onPress === true) {\r\n            NI_SUPPORT.errorVerbose('Invalid configuration, cannot have momentary true and click mode \"press\", instead using when released configuration');\r\n            isMomentary = false;\r\n            onPress = false;\r\n        }\r\n\r\n        if (isMomentary === false && onPress === false) { //When Released\r\n            UI_ACTIVITY_SERVICE.register({\r\n                element: element,\r\n                id: id,\r\n                up: function (evt) {\r\n                    // When only an up action is registered should only receive MouseEvents\r\n                    // If an event is cancelled (window focus lost, etc), then evt may be undefined\r\n                    if (evt !== undefined && element.contains(evt.target)) {\r\n                        that.value = !that.value;\r\n                    }\r\n                }\r\n            });\r\n        } else if (isMomentary === false && onPress === true) { //When Pressed\r\n            UI_ACTIVITY_SERVICE.register({\r\n                element: element,\r\n                id: id,\r\n                down: function () {\r\n                    that.value = !that.value;\r\n                }\r\n            });\r\n        } else if (isMomentary === true && onPress === false) { //Until Released\r\n            UI_ACTIVITY_SERVICE.register({\r\n                element: element,\r\n                id: id,\r\n                up: function () {\r\n                    that.value = !that.value;\r\n                },\r\n                down: function () {\r\n                    that.value = !that.value;\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'value',\r\n            defaultValue: false,\r\n            fireEvent: true,\r\n            addNonSignalingProperty: true,\r\n            isElementValueProperty: true\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'contentVisible',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'content',\r\n            defaultValue: 'Button'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'clickMode',\r\n            defaultValue: 'release'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'momentary',\r\n            defaultValue: false\r\n        });\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n\r\n        tryBindMechanicalAction(this);\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n            case 'readOnly':\r\n                if (this.readOnly === true) {\r\n                    unbindMechanicalAction(this);\r\n                } else {\r\n                    tryBindMechanicalAction(this);\r\n                }\r\n\r\n                break;\r\n            case 'clickMode':\r\n                tryBindMechanicalAction(this);\r\n                break;\r\n            case 'momentary':\r\n                tryBindMechanicalAction(this);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.detachedCallback = function () {\r\n        parent.prototype.detachedCallback.call(this);\r\n\r\n        unbindMechanicalAction(this);\r\n    };\r\n\r\n}(NationalInstruments.HtmlVI.Elements.BooleanControl, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// Boolean Button Prototype\r\n// DOM Registration: HTMLNIBooleanButton\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.BooleanButton = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'glyph',\r\n            defaultValue: 0\r\n        });\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            widgetSettings,\r\n            childElement,\r\n            jqref;\r\n\r\n        if (firstCall === true) {\r\n            widgetSettings = {};\r\n            widgetSettings.toggled = this.value;\r\n\r\n            childElement = document.createElement('button');\r\n            childElement.type = 'button';\r\n            var glyphSpan = document.createElement('span');\r\n            $(glyphSpan).css({ 'font-family': 'FontAwesome', 'font-size': $(this).css('font-size') });\r\n            var glyph = document.createTextNode(this.glyph > 0 ? String.fromCharCode(this.glyph) + ' ' : '');\r\n            glyphSpan.appendChild(glyph);\r\n            childElement.appendChild(glyphSpan);\r\n\r\n            var contentSpan = document.createElement('span');\r\n            $(contentSpan).css({ 'font-family': $(this).css('font-family'), 'font-size': $(this).css('font-size') });\r\n            var content = document.createTextNode(this.content);\r\n            contentSpan.appendChild(content);\r\n            childElement.appendChild(contentSpan);\r\n            childElement.style.width = '100%';\r\n            childElement.style.height = '100%';\r\n            widgetSettings.disabled = this.readOnly;\r\n            childElement.style.fontWeight = $(this).css('font-weight');\r\n            childElement.style.fontStyle = $(this).css('font-style');\r\n            this.appendChild(childElement);\r\n\r\n            jqref = $(childElement);\r\n            jqref.jqxToggleButton(widgetSettings);\r\n            jqref.jqxToggleButton('_removeHandlers');\r\n            // TODO mraj jqxToggleButton does not unregister touch events in _removeHandlers\r\n            // The following came from the jqxButtons.js file in the jqxButton base class _removeHandlers function\r\n            $.jqx.removeHandler(jqref, $.jqx.mobile.getTouchEventName('touchstart'), undefined);\r\n            $.jqx.removeHandler($(document), $.jqx.mobile.getTouchEventName('touchend') + '.' + childElement.id, undefined);\r\n\r\n            // Adding CSS class names\r\n            jqref.addClass('ni-boolean-box');\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle) {\r\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle);\r\n\r\n        var childElement = this.firstElementChild;\r\n        var glyphSpan, contentSpan;\r\n        glyphSpan = childElement.childNodes[0];\r\n        contentSpan = childElement.childNodes[1];\r\n\r\n        $(glyphSpan).css('font-size', fontSize);\r\n\r\n        $(contentSpan).css({ 'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle });\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqref = $(childElement);\r\n        var glyphSpan, contentSpan;\r\n        glyphSpan = childElement.childNodes[0];\r\n        contentSpan = childElement.childNodes[1];\r\n\r\n        switch (propertyName) {\r\n        case 'content':\r\n            $(contentSpan).text(this.content);\r\n            break;\r\n        case 'contentVisible':\r\n            $(contentSpan).text(this.contentVisible ? this.content : '');\r\n            break;\r\n        case 'value':\r\n            jqref.jqxToggleButton({\r\n                toggled: this.value\r\n            });\r\n            break;\r\n        case 'readOnly':\r\n            jqref.jqxToggleButton({ disabled: this.readOnly });\r\n            break;\r\n        case 'glyph':\r\n            $(glyphSpan).text(this.contentVisible && this.glyph > 0 ? String.fromCharCode(this.glyph) + ' ' : '');\r\n            break;\r\n        default:\r\n            break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-boolean-button', 'HTMLNIBooleanButton');\r\n}(NationalInstruments.HtmlVI.Elements.BooleanButton, NationalInstruments.HtmlVI.Elements.BooleanControl));\r\n","//****************************************\r\n// Boolean Control Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.NumericControl = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var NUM_HELPER = NationalInstruments.HtmlVI.NINumerics.Helpers;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'value',\r\n            defaultValue: { stringValue: '0', numberValue: 0 },\r\n            fireEvent: true,\r\n            addNonSignalingProperty: true,\r\n            isElementValueProperty: true\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'valueType',\r\n            defaultValue: NationalInstruments.HtmlVI.NINumerics.ValueTypes.DOUBLE\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'minimum',\r\n            defaultValue: { stringValue: '0', numberValue: 0 }\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'maximum',\r\n            defaultValue: { stringValue: '10', numberValue: 10 }\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'interval',\r\n            defaultValue: { stringValue: '1', numberValue: 1 }\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'significantDigits',\r\n            defaultValue: 6\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'precisionDigits',\r\n            defaultValue: -1\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'format',\r\n            defaultValue: 'floating point'\r\n        });\r\n    };\r\n\r\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle) {\r\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqrefContent = $('#' + childElement.id + ' .jqx-widget-content');\r\n\r\n        jqrefContent.css({ 'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle });\r\n    };\r\n\r\n    proto.getRange = function () {\r\n        if (NUM_HELPER.is64BitInt(this.valueType) === false) {\r\n            return this.maximum.numberValue - this.minimum.numberValue;\r\n        } else {\r\n            var max = new BigNumber(this.maximum.stringValue);\r\n            return max.subtract(new BigNumber(this.minimum.stringValue)).toString();\r\n        }\r\n    };\r\n\r\n}(NationalInstruments.HtmlVI.Elements.NumericControl, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n//Numeric TextBox Prototype\r\n// DOM Registration: HTMLNumericTextBox\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.NumericTextBox = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n// Static Public Functions\r\n\r\n// NationalInstruments.HtmlVI.Elements.NumericTextBox.ValidateInputValue(config, valueAsString)\r\n// (Returns valueAsString if it's valid, otherwise returns config.value as a string)\r\n// valueAsString: The string value to validate (representing a numeric)\r\n// config: { value, minimum, maximum, valueType }\r\n//   value, minimum, maximum are in the format { numberValue: x, stringValue: y } (same as for the element)\r\n// Note: This function is only meant to plug the gaps in the validation that the jqx controls have, not to be\r\n// a full implementation of numeric validation. For example, the jqx control will make sure a Double value\r\n// is coerced to be in-range of its min and max, so that's not checked here.\r\nNationalInstruments.HtmlVI.Elements.NumericTextBox.ValidateInputValue =\r\n    (function () {\r\n        'use strict';\r\n\r\n        var NUM_VAL_CONVERTER = NationalInstruments.HtmlVI.ValueConverters.NumericValueConverter;\r\n        var NUM_HELPERS = NationalInstruments.HtmlVI.NINumerics.Helpers;\r\n\r\n        var validateNumberValue = function (config, numberValue) {\r\n            var validNumberValue = numberValue;\r\n            if (isNaN(numberValue)) {\r\n                // This means that jqref sent a value that is actually not a number.\r\n                // So we revert to previous value.\r\n                validNumberValue = config.value.numberValue;\r\n            }\r\n\r\n            // Finally if it isn't a float, we should round the number.\r\n            if (NUM_HELPERS.isFloat(config.valueType) === false) {\r\n                validNumberValue = Math.round(validNumberValue);\r\n            }\r\n\r\n            return validNumberValue;\r\n        };\r\n\r\n        var validateStringValue = function (config, stringValue) {\r\n            var validStringValue = stringValue;\r\n            var temp, int64min, int64max;\r\n\r\n            if (NUM_HELPERS.is64BitInt(config.valueType) === true) {\r\n                temp = new BigNumber(stringValue);\r\n                int64min = new BigNumber(config.minimum.stringValue);\r\n                int64max = new BigNumber(config.maximum.stringValue);\r\n                if (temp.toString() === '0' && stringValue !== '0') {\r\n                    // This BigNumber implementation doesn't throw errors if you enter text or empty string, it sets the value to 0\r\n                    // So anytime we get 0 where the user didn't enter 0, we assume that's an invalid value, and revert\r\n                    validStringValue = config.value.stringValue;\r\n                } else {\r\n                    // Round to integer\r\n                    if (temp.compare(0) < 0) {\r\n                        temp = temp.subtract(0.5).intPart();\r\n                    } else {\r\n                        temp = temp.add(0.5).intPart();\r\n                    }\r\n                    // Coerce to be within [min, max]\r\n                    // For some reason, this BigNumber implementation doesn't always return the right compare()\r\n                    // result. For example, new BigNumber(Int64.MinValue - d).compare(new BigNumber(Int64.MinValue))\r\n                    // returns 1 instead of -1 for d > 0). So the extra subtract here works around that bug - we get\r\n                    // the delta (which is smaller), then call compare on that, which returns the expected result.\r\n                    if (temp.subtract(int64min).compare(0) < 0) {         // newVal < min\r\n                        validStringValue = config.minimum.stringValue;\r\n                    } else if (temp.subtract(int64max).compare(0) > 0) {  // newVal > max\r\n                        validStringValue = config.maximum.stringValue;\r\n                    } else {\r\n                        validStringValue = temp.toString();\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (NUM_HELPERS.isComplex(config.valueType) === true) {\r\n                // Note: Eventually this code should go away and be handled by the jqx control.\r\n                // Also, NIComplex only accepts 'Infinity' and '-Infinity', but the user would type\r\n                // Inf or -Inf instead, so this won't handle those cases correctly.\r\n                // However, none of our numerics support the user typing Infinity anyway (see\r\n                // US94177), so it's irrelevant for now.\r\n                try {\r\n                    temp = new NationalInstruments.HtmlVI.NIComplex(stringValue);\r\n                } catch (error) {\r\n                    // Invalid value, revert to previous value\r\n                    validStringValue = config.value.stringValue;\r\n                }\r\n            }\r\n\r\n            return validStringValue;\r\n        };\r\n\r\n        return function (config, valueAsString) {\r\n            var convertedValue = NUM_VAL_CONVERTER.convert(valueAsString, config.valueType, true);\r\n            var valueOnControl;\r\n\r\n            if (convertedValue.numberValue !== undefined) {\r\n                valueOnControl = validateNumberValue(config, convertedValue.numberValue);\r\n            } else if (convertedValue.stringValue !== undefined) {\r\n                valueOnControl = validateStringValue(config, convertedValue.stringValue);\r\n            }\r\n\r\n            var newInputVal = valueOnControl;\r\n            if (typeof newInputVal === 'number') {\r\n                // Since we're putting the value back on an HTML input here, we turn numeric values back to a string\r\n                // (since htmlInput.value is a string)\r\n                newInputVal = newInputVal.toString();\r\n            }\r\n\r\n            return newInputVal;\r\n        };\r\n    }());\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var NUM_VAL_CONVERTER = NationalInstruments.HtmlVI.ValueConverters.NumericValueConverter;\r\n    var NUM_HELPERS = NationalInstruments.HtmlVI.NINumerics.Helpers;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    var convertFormatToOutputNotation = function (format) {\r\n        switch (format) {\r\n            case 'floating point':\r\n                return 'default';\r\n            case 'exponential':\r\n                return 'exponential';\r\n            case 'engineering':\r\n                return 'engineering';\r\n            case 'systeminternational':\r\n                break;\r\n        }\r\n\r\n        return 'default';\r\n    };\r\n\r\n    var setValue = function (jqref, value, valueType) {\r\n        if (NUM_HELPERS.isComplex(valueType) === false) {\r\n            jqref.jqxFormattedInput('setValue', value);\r\n        } else {\r\n            jqref.val(value);\r\n        }\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    proto.isTextEditFocusable = function () {\r\n        return true;\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n        this._valueChanging = false;\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            childElement, fontAttr,\r\n            widgetSettings,\r\n            divElement,\r\n            textElement,\r\n            jqref,\r\n            digits,\r\n            that = this;\r\n\r\n        if (firstCall === true) {\r\n            widgetSettings = {};\r\n            var language = window.engine !== undefined && window.engine.IsAttached && window.NIEmbeddedBrowser !== undefined ? window.NIEmbeddedBrowser.language : window.navigator.language;\r\n            var culture = Globalize.culture(language);\r\n            if (culture !== undefined) {\r\n                var numberFormat = culture.numberFormat;\r\n                widgetSettings.decimalSeparator = numberFormat['.'];\r\n            }\r\n\r\n            if (NUM_HELPERS.isComplex(this.valueType) === false) {\r\n                widgetSettings.int64 = NUM_HELPERS.isSigned64BitInt(this.valueType) ? 's' : NUM_HELPERS.is64BitInt(this.valueType) ? 'u' : false;\r\n            }\r\n\r\n            widgetSettings.readOnly = this.readOnly;\r\n            widgetSettings.spinButtons = !this.readOnly;\r\n            if (this.format === 'floating point' || this.format === 'exponential') {\r\n                widgetSettings.outputNotation = convertFormatToOutputNotation(this.format);\r\n            } else {\r\n                widgetSettings.radix = this.format;\r\n            }\r\n\r\n            widgetSettings.value = NUM_VAL_CONVERTER.convertBack(this.value, this.valueType);\r\n            widgetSettings.max = NUM_VAL_CONVERTER.convertBack(this.maximum, this.valueType);\r\n            widgetSettings.min = NUM_VAL_CONVERTER.convertBack(this.minimum, this.valueType);\r\n\r\n            if (NUM_HELPERS.isComplex(this.valueType) === false) {\r\n                widgetSettings.spinButtonsStep = NUM_VAL_CONVERTER.convertBack(this.interval, this.valueType);\r\n            } else {\r\n                widgetSettings.interval = NUM_VAL_CONVERTER.convertBack(this.interval, this.valueType);\r\n            }\r\n\r\n            digits = NUM_HELPERS.coerceDisplayDigits(this.significantDigits, this.precisionDigits, null);\r\n            widgetSettings.digits = digits.significantDigits;\r\n            widgetSettings.decimalDigits = digits.precisionDigits;\r\n\r\n            widgetSettings.width = '100%';\r\n            widgetSettings.height = '100%';\r\n\r\n            childElement = document.createElement('div');\r\n            this.appendChild(childElement);\r\n            textElement = document.createElement('input');\r\n            textElement.type = 'text';\r\n            childElement.appendChild(textElement);\r\n            if (widgetSettings.spinButtons) {\r\n                divElement = document.createElement('div');\r\n                childElement.appendChild(divElement);\r\n            }\r\n\r\n            jqref = $(childElement);\r\n            if (NUM_HELPERS.isComplex(this.valueType) === false) {\r\n                jqref.jqxFormattedInput(widgetSettings);\r\n            } else {\r\n                widgetSettings.spinMode = 'advanced';\r\n                jqref.jqxComplexInput(widgetSettings);\r\n            }\r\n\r\n            fontAttr = $(this).css(['font-size', 'font-weight', 'font-style', 'font-family']);\r\n            $('#' + childElement.id + ' .jqx-widget-content').css(fontAttr);\r\n\r\n            jqref.on('change', function (event) {\r\n                var val;\r\n                if (event.args !== undefined) { // jqxComplexInput fires change events twice, and one doesn't have args\r\n                    val = event.args.value;\r\n                    if (NUM_HELPERS.isComplex(that.valueType) === true) {\r\n                        // The JQX control always sends complex numbers as \"a + bi\", with spaces around the +.\r\n                        // The editor does \"a+bi\" (no spaces), and thats also what our Value Type Representations doc\r\n                        // says. So here we just remove the extra spaces. If we didn't, we could end up triggering a value\r\n                        // change back to C# that's unnecessary / incorrect. (Example: User sets 2+2i as the default value,\r\n                        // we set it on the control which triggers this event, and the jqx control gives us \"2 + 2i\". Without\r\n                        // handling spaces here, we'd send this back to the editor, and set it as the current control value,\r\n                        // which is wrong.\r\n                        val = val.replace(/ /g, '');\r\n                    }\r\n\r\n                    that._valueChanging = true;\r\n                    that.value = NUM_VAL_CONVERTER.convert(val, that.valueType, true);\r\n                    that._valueChanging = false;\r\n                }\r\n            });\r\n\r\n            // We're listening to the blur event on ourselves (with useCapture = true) so we can validate the\r\n            // textbox value before jqx handles it. The jqx control has a change event, but it doesn't give you the opportunity\r\n            // to change the value (if you set it to something else while handling the change, it triggers a 2nd event and the control value\r\n            // gets out of sync from the textbox)\r\n            that.addEventListener('blur', function () {\r\n                var valToValidate = textElement.value;\r\n                var config = { value: that.value, minimum: that.minimum, maximum: that.maximum, valueType: that.valueType };\r\n                var newInputVal = NationalInstruments.HtmlVI.Elements.NumericTextBox.ValidateInputValue(config, valToValidate);\r\n\r\n                if (valToValidate !== newInputVal) {\r\n                    textElement.value = newInputVal;\r\n\r\n                    if (valToValidate === '') {\r\n                        // If the user cleared the textbox, the jqx control has a bug where the inc/ dec buttons get disabled (their state is updated on keypress, so\r\n                        // if we fix up the value, their enabled state is stale until the next user keypress).\r\n                        // Disabling and re-enabling the control causes the inc/ dec buttons to get re-enabled if they should be, so we do that here.\r\n                        // TODO remove this (it's a jqx bug workaround)\r\n                        if (NUM_HELPERS.isComplex(that.valueType) === false) {\r\n                            jqref.jqxFormattedInput({ disabled: true });\r\n                            jqref.jqxFormattedInput({ disabled: false });\r\n                        } else {\r\n                            jqref.jqxComplexInput({ disabled: true });\r\n                            jqref.jqxComplexInput({ disabled: false });\r\n                        }\r\n                    }\r\n                }\r\n            }, true);\r\n\r\n            $(textElement).on('keydown', function (e) {\r\n                if (e.keyCode === 13) { // Enter / Return\r\n                    textElement.blur(); // This commits the input's value\r\n                    return false;\r\n                }\r\n            });\r\n\r\n            jqref.on('resize', function (e) {\r\n                e.stopPropagation();\r\n            });\r\n\r\n            // Adding CSS class names\r\n            jqref.addClass('ni-numeric-box');\r\n            jqref.find(' input').addClass('ni-text-field');\r\n            jqref.find(' .jqx-formatted-input-spin-button').addClass('ni-spin-button');\r\n            jqref.find(' .jqx-input').addClass('ni-spins-box');\r\n            jqref.find(' .jqx-icon-arrow-up').addClass('ni-increment-icon');\r\n            jqref.find(' .jqx-icon-arrow-down').addClass('ni-decrement-icon');\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.forceResize = function (size) {\r\n        parent.prototype.forceResize.call(this, size);\r\n        var jqref = $(this.firstElementChild);\r\n\r\n        if (NUM_HELPERS.isComplex(this.valueType) === false) {\r\n            // TODO gleon we should call jqxFormattedInput just once for setting the size of a widget.\r\n            jqref.jqxFormattedInput({ width: size.width });\r\n            jqref.jqxFormattedInput({ height: size.height });\r\n        } else {\r\n            jqref.jqxComplexInput({ width: size.width });\r\n            jqref.jqxComplexInput({ height: size.height });\r\n        }\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqref = $(childElement),\r\n            widgetSetting = {},\r\n            digits,\r\n            isSet = false;\r\n\r\n        switch (propertyName) {\r\n            case 'maximum':\r\n                widgetSetting = {\r\n                    max: NUM_VAL_CONVERTER.convertBack(this.maximum, this.valueType)\r\n                };\r\n\r\n                isSet = true;\r\n                break;\r\n            case 'minimum':\r\n                widgetSetting = {\r\n                    min: NUM_VAL_CONVERTER.convertBack(this.minimum, this.valueType)\r\n                };\r\n\r\n                isSet = true;\r\n                break;\r\n            case 'interval':\r\n                if (NUM_HELPERS.isComplex(this.valueType) === false) {\r\n                    jqref.jqxFormattedInput({ spinButtonsStep: NUM_VAL_CONVERTER.convertBack(this.interval, this.valueType) });\r\n                } else {\r\n                    jqref.jqxComplexInput({ interval: NUM_VAL_CONVERTER.convertBack(this.interval, this.valueType) });\r\n                }\r\n\r\n                break;\r\n            case 'readOnly':\r\n                jqref.jqxFormattedInput({\r\n                    spinButtons: !this.readOnly,\r\n                    readOnly: this.readOnly\r\n                });\r\n                break;\r\n            case 'significantDigits':\r\n            case 'precisionDigits':\r\n                digits = NUM_HELPERS.coerceDisplayDigits(this.significantDigits, this.precisionDigits, null);\r\n                // Note: The order that we set digits and decimalDigits in is important here.\r\n                // Basically we just need to avoid getting in a situation where the jqx control\r\n                // temporarily has both digits and decimalDigits set to null. So we figure out\r\n                // which of digits / decimalDigits is set, and apply that first, before clearing\r\n                // the other one.\r\n                if (NUM_HELPERS.isComplex(this.valueType) === false) {\r\n                    if (digits.precisionDigits === null) {\r\n                        jqref.jqxFormattedInput({ digits: digits.significantDigits });\r\n                        jqref.jqxFormattedInput({ decimalDigits: null });\r\n                    } else {\r\n                        jqref.jqxFormattedInput({ decimalDigits: digits.precisionDigits });\r\n                        jqref.jqxFormattedInput({ digits: null });\r\n                    }\r\n\r\n                } else {\r\n                    if (digits.precisionDigits === null) {\r\n                        jqref.jqxComplexInput({ digits: digits.significantDigits });\r\n                        jqref.jqxComplexInput({ decimalDigits: null });\r\n                    } else {\r\n                        jqref.jqxComplexInput({ decimalDigits: digits.precisionDigits });\r\n                        jqref.jqxComplexInput({ digits: null });\r\n                    }\r\n                }\r\n\r\n                break;\r\n            case 'format':\r\n                if (this.format === 'floating point' || this.format === 'exponential') {\r\n                    widgetSetting.outputNotation = convertFormatToOutputNotation(this.format);\r\n                } else {\r\n                    widgetSetting.radix = this.format;\r\n                }\r\n\r\n                isSet = true;\r\n                break;\r\n            case 'value':\r\n                if (this._valueChanging === false) {\r\n                    var value = NUM_VAL_CONVERTER.convertBack(this.value, this.valueType);\r\n                    setValue(jqref, value, this.valueType);\r\n                }\r\n\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n\r\n        if (isSet === true) {\r\n            if (NUM_HELPERS.isComplex(this.valueType) === false) {\r\n                jqref.jqxFormattedInput(widgetSetting);\r\n            } else {\r\n                jqref.jqxComplexInput(widgetSetting);\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-numeric-text-box', 'HTMLNINumericTextBox');\r\n}(NationalInstruments.HtmlVI.Elements.NumericTextBox, NationalInstruments.HtmlVI.Elements.NumericControl));\r\n","/*jslint nomen: true, devel:true*/\r\n/*global NationalInstruments*/\r\n//****************************************\r\n// Boolean Control Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.NumericPointer = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'scaleVisible',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'majorTicksVisible',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'minorTicksVisible',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'labelsVisible',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'coercionMode',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'rangeDivisionsMode',\r\n            defaultValue: 'auto'\r\n        });\r\n    };\r\n\r\n    proto.convertFormatToRadix = function (format) {\r\n        switch (format) {\r\n            case 'hexadecimal':\r\n                return 16;\r\n            case 'octal':\r\n                return 8;\r\n            case 'binary':\r\n                return 2;\r\n        }\r\n\r\n        return undefined;\r\n    };\r\n\r\n}(NationalInstruments.HtmlVI.Elements.NumericPointer, NationalInstruments.HtmlVI.Elements.NumericControl));\r\n","/*jslint nomen: true, devel:true*/\r\n/*global NationalInstruments*/\r\n//****************************************\r\n// Boolean Control Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.LinearNumericPointer = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'orientation',\r\n            defaultValue: 'horizontal'\r\n        });\r\n    };\r\n\r\n}(NationalInstruments.HtmlVI.Elements.LinearNumericPointer, NationalInstruments.HtmlVI.Elements.NumericPointer));\r\n","/*jslint nomen: true, devel:true*/\r\n/*global NationalInstruments*/\r\n//****************************************\r\n// Boolean Control Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.RadialNumericPointer = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'startAngle',\r\n            defaultValue: 0\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'endAngle',\r\n            defaultValue: 180\r\n        });\r\n\r\n    };\r\n\r\n}(NationalInstruments.HtmlVI.Elements.RadialNumericPointer, NationalInstruments.HtmlVI.Elements.NumericPointer));\r\n","//****************************************\r\n// Numeric Slider\r\n// DOM Registration: HTMLSlider\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.Slider = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var NUM_VAL_CONVERTER = NationalInstruments.HtmlVI.ValueConverters.NumericValueConverter;\r\n    var NUM_HELPER = NationalInstruments.HtmlVI.NINumerics.Helpers;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    var ENDPOINTS_ONLY = 1;\r\n\r\n    // Static Private Functions\r\n    var setupWidget = function (target) {\r\n        var widgetSettings,\r\n            childElement,\r\n            jqref,\r\n            min,\r\n            max,\r\n            digits,\r\n            that = target;\r\n\r\n        widgetSettings = {};\r\n        widgetSettings.width = '100%';\r\n        widgetSettings.height = '100%';\r\n\r\n        widgetSettings.int64 = NUM_HELPER.isSigned64BitInt(that.valueType) ? 's' : NUM_HELPER.is64BitInt(that.valueType) ? 'u' : false;\r\n        widgetSettings.step = NUM_VAL_CONVERTER.convertBack(that.interval, that.valueType);\r\n        widgetSettings.orientation = that.orientation;\r\n        max = NUM_VAL_CONVERTER.convertBack(that.maximum, that.valueType);\r\n        min = NUM_VAL_CONVERTER.convertBack(that.minimum, that.valueType);\r\n\r\n        widgetSettings.min = min;\r\n        widgetSettings.max = max;\r\n        if (that.rangeDivisionsMode === 'auto') {\r\n            widgetSettings.tickMode = 'default';\r\n            widgetSettings.niceInterval = true;\r\n        } else {\r\n            widgetSettings.tickMode = 'tickNumber';\r\n            widgetSettings.niceInterval = false;\r\n            widgetSettings.tickNumber = ENDPOINTS_ONLY;\r\n        }\r\n\r\n        digits = NUM_HELPER.coerceDisplayDigits(that.significantDigits, that.precisionDigits);\r\n\r\n        widgetSettings.padding = 1;\r\n        widgetSettings.tickLabelFormatSettings = {\r\n            outputNotation: that.format === 'floating point' ? 'decimal' : 'exponential',\r\n            radix: that.convertFormatToRadix(that.format),\r\n            digits: digits.significantDigits,\r\n            decimalDigits: digits.precisionDigits\r\n        };\r\n        widgetSettings.tooltipFormatSettings = {\r\n            outputNotation: that.format === 'floating point' ? 'decimal' : 'exponential',\r\n            radix: that.convertFormatToRadix(that.format),\r\n            digits: digits.significantDigits,\r\n            decimalDigits: digits.precisionDigits\r\n        };\r\n\r\n        that.applyScaleSettings(widgetSettings);\r\n\r\n        widgetSettings.showButtons = false;\r\n        widgetSettings.ticksPosition = 'bottom';\r\n        widgetSettings.mode = that.coercionMode ? 'fixedRange' : 'default';\r\n        widgetSettings.tooltip = true;\r\n        widgetSettings.value = NUM_VAL_CONVERTER.convertBack(that.value, that.valueType);\r\n\r\n        childElement = document.createElement('div');\r\n        childElement.style.width = '100%';\r\n        childElement.style.height = '100%';\r\n\r\n        that.appendChild(childElement);\r\n\r\n        jqref = $(childElement);\r\n\r\n        jqref.jqxSlider(widgetSettings);\r\n        jqref.css('font-size', $(that).css('font-size'));\r\n        jqref.css('font-family', $(that).css('font-family'));\r\n        jqref.css('font-weight', $(that).css('font-weight'));\r\n        jqref.css('font-style', $(that).css('font-style'));\r\n        jqref.on('change', function (event) {\r\n            that.value = NUM_VAL_CONVERTER.convert(event.args.value, that.valueType, true);\r\n        });\r\n        jqref.on('resize', function (event) {\r\n            event.stopPropagation();\r\n        });\r\n\r\n        // Adding CSS class names\r\n        jqref.addClass('ni-slider-box');\r\n        jqref.find(' .jqx-slider-tickscontainer').addClass('ni-ticks');\r\n        jqref.find(' .jqx-slider-slider').addClass('ni-thumb');\r\n        jqref.find(' .jqx-slider-tick').addClass('ni-tick');\r\n        jqref.find(' .jqx-slider-track ').addClass('ni-track');\r\n        jqref.find(' .jqx-slider-rangebar').addClass('ni-range-bar');\r\n    };\r\n\r\n    proto.forceResize = function (size) {\r\n        parent.prototype.forceResize.call(this, size);\r\n        $(this.firstElementChild).jqxSlider(size);\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    proto.updateRange = function (jqref) {\r\n        var settings = { int64: NUM_HELPER.isSigned64BitInt(this.valueType) ? 's' : NUM_HELPER.is64BitInt(this.valueType) ? 'u' : false};\r\n        settings.min = NUM_VAL_CONVERTER.convertBack(this.minimum, this.valueType);\r\n        settings.max = NUM_VAL_CONVERTER.convertBack(this.maximum, this.valueType);\r\n        settings.value = NUM_VAL_CONVERTER.convertBack(this.value, this.valueType);\r\n        settings.step = NUM_VAL_CONVERTER.convertBack(this.interval, this.valueType);\r\n\r\n        jqref.jqxSlider(settings);\r\n    };\r\n\r\n    proto.applyScaleSettings = function (settings) {\r\n        settings.showTicks = this.scaleVisible;\r\n        settings.tickSize = this.majorTicksVisible ? 7 : 0;\r\n        settings.showMinorTicks = this.minorTicksVisible && this.scaleVisible;\r\n        settings.showTickLabels = this.labelsVisible && this.scaleVisible;\r\n    };\r\n\r\n    proto.updateScaleVisibility = function (jqref) {\r\n        var settings = { };\r\n        this.applyScaleSettings(settings);\r\n        jqref.jqxSlider(settings);\r\n    };\r\n\r\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle) {\r\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqref = $(childElement);\r\n\r\n        jqref.css({ 'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n        $(childElement).trigger('refresh');\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n\r\n        if (firstCall === true) {\r\n            setupWidget(this);\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqref = $(childElement),\r\n            digits;\r\n\r\n        switch (propertyName) {\r\n            case 'valueType':\r\n                this.updateRange(jqref);\r\n                break;\r\n            case 'value':\r\n                jqref.jqxSlider({ value: NUM_VAL_CONVERTER.convertBack(this.value, this.valueType) });\r\n                break;\r\n            case 'minimum':\r\n                this.updateRange(jqref);\r\n                break;\r\n            case 'maximum':\r\n                this.updateRange(jqref);\r\n                break;\r\n            case 'interval':\r\n                this.updateRange(jqref);\r\n                break;\r\n            case 'orientation':\r\n                this.removeChild(childElement);\r\n                setupWidget(this);\r\n                break;\r\n            case 'scaleVisible':\r\n                this.updateScaleVisibility(jqref);\r\n                break;\r\n            case 'majorTicksVisible':\r\n                this.updateScaleVisibility(jqref);\r\n                break;\r\n            case 'minorTicksVisible':\r\n                this.updateScaleVisibility(jqref);\r\n                break;\r\n            case 'labelsVisible':\r\n                this.updateScaleVisibility(jqref);\r\n                break;\r\n            case 'coercionMode':\r\n                jqref.jqxSlider({ mode: this.coercionMode ? 'fixedRange' : 'default' });\r\n                break;\r\n            case 'rangeDivisionsMode':\r\n                jqref.jqxSlider({ tickMode: this.rangeDivisionsMode === 'auto' || this.rangeDivisionsMode === 'none' ? 'default' : 'tickNumber' });\r\n                jqref.jqxSlider({ niceInterval: this.rangeDivisionsMode === 'auto' || this.rangeDivisionsMode === 'none' ? true : false });\r\n                if (this.rangeDivisionsMode !== 'auto' && this.rangeDivisionsMode !== 'none') {\r\n                    jqref.jqxSlider({ tickNumber: ENDPOINTS_ONLY });\r\n                }\r\n\r\n                break;\r\n            case 'format':\r\n            case 'significantDigits':\r\n            case 'precisionDigits':\r\n                digits = NUM_HELPER.coerceDisplayDigits(this.significantDigits, this.precisionDigits);\r\n                jqref.jqxSlider({\r\n                    tickLabelFormatSettings: {\r\n                        outputNotation: this.format === 'floating point' ? 'decimal' : 'exponential',\r\n                        radix: this.convertFormatToRadix(this.format),\r\n                        digits: digits.significantDigits,\r\n                        decimalDigits: digits.precisionDigits\r\n                    }\r\n                });\r\n                jqref.jqxSlider({\r\n                    tooltipFormatSettings: {\r\n                        outputNotation: this.format === 'floating point' ? 'decimal' : 'exponential',\r\n                        radix: this.convertFormatToRadix(this.format),\r\n                        digits: digits.significantDigits,\r\n                        decimalDigits: digits.precisionDigits\r\n                    }\r\n                });\r\n\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-slider', 'HTMLNISlider');\r\n}(NationalInstruments.HtmlVI.Elements.Slider, NationalInstruments.HtmlVI.Elements.LinearNumericPointer));\r\n","//****************************************\r\n// Tank Prototype\r\n// DOM Registration: HTMLTank\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.Tank = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static private reference aliases\r\n    var NUM_VAL_CONVERTER = NationalInstruments.HtmlVI.ValueConverters.NumericValueConverter;\r\n    var NUM_HELPER = NationalInstruments.HtmlVI.NINumerics.Helpers;\r\n\r\n    // Static Private Variables\r\n    var ENDPOINTS_ONLY = 1;\r\n    var MINORTICKS_FOR_ENDPOINTS_ONLY = 10;\r\n    var MAJOR_TICK_SIZE = '10px';\r\n    var MINOR_TICK_SIZE = '5px';\r\n\r\n    // Static Private Functions\r\n    var setupWidget = function (target) {\r\n        var widgetSettings,\r\n            childElement,\r\n            jqref,\r\n            that = target;\r\n\r\n        widgetSettings = {};\r\n\r\n        widgetSettings.int64 = NUM_HELPER.isSigned64BitInt(that.valueType) ? 's' : NUM_HELPER.is64BitInt(that.valueType) ? 'u' : false;\r\n        widgetSettings.background = { visible: false };\r\n        widgetSettings.animationDuration = 0;\r\n\r\n        that.applyScaleSettings(widgetSettings);\r\n\r\n        widgetSettings.orientation = that.orientation;\r\n        var max = NUM_VAL_CONVERTER.convertBack(that.maximum, that.valueType);\r\n        var min = NUM_VAL_CONVERTER.convertBack(that.minimum, that.valueType);\r\n\r\n        widgetSettings.min = min;\r\n        widgetSettings.max = max;\r\n        widgetSettings.value = NUM_VAL_CONVERTER.convertBack(that.value, that.valueType);\r\n        childElement = document.createElement('div');\r\n        childElement.style.width = '100%';\r\n        childElement.style.height = '100%';\r\n\r\n        that.appendChild(childElement);\r\n\r\n        jqref = $(childElement);\r\n        jqref.jqxLinearGauge(widgetSettings);\r\n\r\n        // Adding CSS class names\r\n        jqref.addClass('ni-tank-box');\r\n    };\r\n\r\n    proto.forceResize = function (size) {\r\n        parent.prototype.forceResize.call(this, size);\r\n        $(this.firstElementChild).jqxLinearGauge(size);\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    proto.applyScaleSettings = function (settings) {\r\n        var pointerOffset,\r\n            ticksOffset,\r\n            ticksMajor = (typeof settings.ticksMajor !== 'object' || settings.ticksMajor === null) ? {} : settings.ticksMajor,\r\n            ticksMinor = (typeof settings.ticksMinor !== 'object' || settings.ticksMinor === null) ? {} : settings.ticksMinor,\r\n            labels = (typeof settings.labels !== 'object' || settings.labels === null) ? {} : settings.labels,\r\n            ticksAndLabelsPosition = 'near';\r\n\r\n        if (this.orientation === 'vertical') {\r\n            ticksOffset = ['20%', '5%'];\r\n            pointerOffset = '5%';\r\n        } else {\r\n            ticksOffset = ['5%', '20%'];\r\n            pointerOffset = '105%';\r\n        }\r\n\r\n        ticksMajor.size = MAJOR_TICK_SIZE;\r\n        ticksMajor.visible = this.majorTicksVisible && this.scaleVisible;\r\n\r\n        ticksMinor.size = MINOR_TICK_SIZE;\r\n        ticksMinor.visible = this.minorTicksVisible && this.scaleVisible;\r\n\r\n        labels.position = ticksAndLabelsPosition;\r\n        labels.visible = this.labelsVisible && this.scaleVisible;\r\n        this.updateLabelsFontAndFormat(labels);\r\n        labels.interval = NUM_VAL_CONVERTER.convertBack(this.interval, this.valueType);\r\n\r\n        if (this.rangeDivisionsMode === 'auto') {\r\n            settings.tickMode = 'default';\r\n            settings.niceInterval = true;\r\n        } else {\r\n            settings.tickMode = 'tickNumber';\r\n            settings.niceInterval = false;\r\n            ticksMajor.number = ENDPOINTS_ONLY;\r\n            ticksMinor.number = MINORTICKS_FOR_ENDPOINTS_ONLY;\r\n            labels.number = ENDPOINTS_ONLY;\r\n        }\r\n\r\n        settings.ticksMajor = ticksMajor;\r\n        settings.ticksMinor = ticksMinor;\r\n        settings.ticksOffset = ticksOffset;\r\n        settings.labels = labels;\r\n        settings.ticksPosition = ticksAndLabelsPosition;\r\n        settings.pointer = { size: '100%' };\r\n        settings.pointer.offset = pointerOffset;\r\n        settings.int64 = NUM_HELPER.isSigned64BitInt(this.valueType) ? 's' : NUM_HELPER.is64BitInt(this.valueType) ? 'u' : false;\r\n    };\r\n\r\n    proto.updateScaleVisibility = function (jqref) {\r\n        var settings = {};\r\n        settings.ticksMajor = jqref.jqxLinearGauge('ticksMajor');\r\n        settings.ticksMinor = jqref.jqxLinearGauge('ticksMinor');\r\n        settings.labels = jqref.jqxLinearGauge('labels');\r\n        this.applyScaleSettings(settings);\r\n        jqref.jqxLinearGauge(settings);\r\n    };\r\n\r\n    proto.updateRange = function (jqref) {\r\n        var settings = { int64: NUM_HELPER.isSigned64BitInt(this.valueType) ? 's' : NUM_HELPER.is64BitInt(this.valueType) ? 'u' : false};\r\n        settings.min = NUM_VAL_CONVERTER.convertBack(this.minimum, this.valueType);\r\n        settings.max = NUM_VAL_CONVERTER.convertBack(this.maximum, this.valueType);\r\n        settings.value = NUM_VAL_CONVERTER.convertBack(this.value, this.valueType);\r\n\r\n        jqref.jqxLinearGauge(settings);\r\n    };\r\n\r\n    proto.updateLabelsFontAndFormat = function (labels) {\r\n        var jqref = $(this), digits;\r\n        labels = labels || jqref.jqxLinearGauge('labels');\r\n        labels.fontSize = jqref.css('font-size');\r\n        labels.fontFamily = jqref.css('font-family');\r\n        labels.fontStyle = jqref.css('font-style');\r\n        labels.fontWeight = jqref.css('font-weight');\r\n        digits = NUM_HELPER.coerceDisplayDigits(this.significantDigits, this.precisionDigits);\r\n        labels.formatSettings = {\r\n            outputNotation: this.format === 'floating point' ? 'decimal' : 'exponential',\r\n            radix: this.convertFormatToRadix(this.format),\r\n            digits: digits.significantDigits,\r\n            decimalDigits: digits.precisionDigits\r\n        };\r\n    };\r\n\r\n    proto.updateDivisionsMode = function (jqref) {\r\n        var interval, settings = {};\r\n\r\n        settings.ticksMajor = jqref.jqxLinearGauge('ticksMajor');\r\n        settings.ticksMinor = jqref.jqxLinearGauge('ticksMinor');\r\n        settings.labels = jqref.jqxLinearGauge('labels');\r\n\r\n        if (this.rangeDivisionsMode === 'auto') {\r\n            settings.labels.number = undefined;\r\n            settings.ticksMinor.number = undefined;\r\n            settings.ticksMajor.number = undefined;\r\n            settings.tickMode = 'default';\r\n            settings.niceInterval = true;\r\n        } else {\r\n            interval = this.getRange();\r\n            settings.labels.interval = interval;\r\n            settings.labels.number = ENDPOINTS_ONLY;\r\n            settings.ticksMinor.number = MINORTICKS_FOR_ENDPOINTS_ONLY;\r\n            settings.ticksMajor.number = ENDPOINTS_ONLY;\r\n            settings.ticksMajor.interval = interval;\r\n            settings.ticksMinor.interval = interval;\r\n            settings.tickMode = 'tickNumber';\r\n            settings.niceInterval = false;\r\n        }\r\n\r\n        jqref.jqxLinearGauge(settings);\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n\r\n        if (firstCall === true) {\r\n            setupWidget(this);\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle) {\r\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqref = $(childElement), labels;\r\n\r\n        labels = jqref.jqxLinearGauge('labels');\r\n        this.updateLabelsFontAndFormat(labels);\r\n        jqref.jqxLinearGauge({ labels: labels });\r\n        jqref.jqxLinearGauge('refresh', false);\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        var childElement = this.firstElementChild,\r\n            ticksMinor, ticksMajor,\r\n            jqref = $(childElement), labels;\r\n\r\n        switch (propertyName) {\r\n            case 'valueType':\r\n                this.updateRange(jqref);\r\n                break;\r\n            case 'value':\r\n                jqref.jqxLinearGauge({ value: NUM_VAL_CONVERTER.convertBack(this.value, this.valueType) });\r\n                break;\r\n            case 'minimum':\r\n                this.updateRange(jqref);\r\n                break;\r\n            case 'maximum':\r\n                this.updateRange(jqref);\r\n                break;\r\n            case 'interval':\r\n                this.updateRange(jqref);\r\n                break;\r\n            case 'scaleVisible':\r\n                this.updateScaleVisibility(jqref);\r\n                break;\r\n            case 'labelsVisible':\r\n                labels = jqref.jqxLinearGauge('labels');\r\n                labels.visible = this.labelsVisible && this.scaleVisible;\r\n                jqref.jqxLinearGauge({ labels: labels });\r\n                jqref.jqxLinearGauge('refresh', false);\r\n                break;\r\n            case 'majorTicksVisible':\r\n                ticksMajor = jqref.jqxLinearGauge('ticksMajor');\r\n                ticksMajor.visible = this.majorTicksVisible && this.scaleVisible;\r\n                jqref.jqxLinearGauge({ ticksMajor: ticksMajor });\r\n                jqref.jqxLinearGauge('refresh', false);\r\n                break;\r\n            case 'minorTicksVisible':\r\n                ticksMinor = jqref.jqxLinearGauge('ticksMinor');\r\n                ticksMinor.visible = this.minorTicksVisible && this.scaleVisible;\r\n                jqref.jqxLinearGauge({ ticksMinor: ticksMinor });\r\n                jqref.jqxLinearGauge('refresh', false);\r\n                break;\r\n            case 'rangeDivisionsMode':\r\n                this.updateDivisionsMode(jqref);\r\n                break;\r\n            case 'format':\r\n            case 'significantDigits':\r\n            case 'precisionDigits':\r\n                labels = jqref.jqxLinearGauge('labels');\r\n                this.updateLabelsFontAndFormat(labels);\r\n                jqref.jqxLinearGauge({ labels: labels });\r\n                jqref.jqxLinearGauge('refresh', false);\r\n                break;\r\n            case 'orientation':\r\n                this.removeChild(childElement);\r\n                setupWidget(this);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-tank', 'HTMLNITank');\r\n}(NationalInstruments.HtmlVI.Elements.Tank, NationalInstruments.HtmlVI.Elements.LinearNumericPointer));\r\n","//****************************************\r\n//Numeric TextBox Prototype\r\n// DOM Registration: HTMLGauge\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.Gauge = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var NUM_VAL_CONVERTER = NationalInstruments.HtmlVI.ValueConverters.NumericValueConverter;\r\n    var NUM_HELPER = NationalInstruments.HtmlVI.NINumerics.Helpers;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    var ENDPOINTS_ONLY = 1;\r\n    var MINORTICKS_FOR_ENDPOINTS_ONLY = 5;\r\n    var MAJOR_TICK_SIZE = '10%';\r\n    var MINOR_TICK_SIZE = '5%';\r\n\r\n    // Static Private Functions\r\n    // There are some bugs with the same root cause from jqWidgets, basically, setting\r\n    // any property on the Gauge resets other properties asociated with it.\r\n    // e.g. setting the fontSize would require only to do something like:\r\n    //\r\n    //      jqref.jqxGauge({labels: {fontSize: '12px'}});\r\n    //\r\n    // if we now want to set the fontStyle, calling jqref.jqxGauge({labels: {fontStyle: 'italic'}});\r\n    // would reset the fontSize since it was not specified this time.\r\n    // The fix is for each high level property we want to modify, first we need to get the internal\r\n    // state of the property, modify that object, and then pass it to the jqref using their API.\r\n    var getAndSet = function (jqref, propName, properties) {\r\n        var props = jqref.jqxGauge(propName);\r\n        for (var prop in properties) {\r\n            if (properties.hasOwnProperty(prop)) {\r\n                props[prop] = properties[prop];\r\n            }\r\n        }\r\n\r\n        var propsToSet = {};\r\n        propsToSet[propName] = props;\r\n        jqref.jqxGauge(propsToSet);\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            widgetSettings,\r\n            labels,\r\n            ticksMajor,\r\n            ticksMinor,\r\n            digits,\r\n            childElement,\r\n            jqref;\r\n\r\n        if (firstCall === true) {\r\n            widgetSettings = {};\r\n            widgetSettings.width = '100%';\r\n            widgetSettings.height = '100%';\r\n            widgetSettings.animationDuration = 0;\r\n            widgetSettings.border = {size: '1%', showGradient: false};\r\n            // Update the model\r\n            digits = NUM_HELPER.coerceDisplayDigits(this.significantDigits, this.precisionDigits);\r\n            labels = {\r\n                interval: 1,\r\n                visible: true,\r\n                distance: '30%',\r\n                fontSize: $(this).css('font-size'),\r\n                fontFamily: $(this).css('font-family'),\r\n                fontStyle: $(this).css('font-style'),\r\n                fontWeight: $(this).css('font-weight'),\r\n                formatSettings: {\r\n                    outputNotation: this.format === 'floating point' ? 'decimal' : 'exponential',\r\n                    radix: this.convertFormatToRadix(this.format),\r\n                    digits: digits.significantDigits,\r\n                    decimalDigits: digits.precisionDigits\r\n                }\r\n            };\r\n            ticksMajor = {\r\n                visible: this.majorTicksVisible && this.scaleVisible,\r\n                size: MAJOR_TICK_SIZE\r\n            };\r\n            ticksMinor = {\r\n                visible: this.minorTicksVisible && this.scaleVisible,\r\n                size: MINOR_TICK_SIZE\r\n            };\r\n\r\n            labels.interval = NUM_VAL_CONVERTER.convertBack(this.interval, this.valueType);\r\n            labels.visible = this.labelsVisible && this.scaleVisible;\r\n            widgetSettings.labels = labels;\r\n            if (this.rangeDivisionsMode === 'auto') {\r\n                widgetSettings.tickMode = 'default';\r\n                widgetSettings.niceInterval = true;\r\n            } else {\r\n                widgetSettings.tickMode = 'tickNumber';\r\n                widgetSettings.niceInterval = false;\r\n                ticksMajor.number = ENDPOINTS_ONLY;\r\n                ticksMinor.number = MINORTICKS_FOR_ENDPOINTS_ONLY;\r\n                labels.number = ENDPOINTS_ONLY;\r\n            }\r\n\r\n            widgetSettings.ticksMajor = ticksMajor;\r\n            widgetSettings.ticksMinor = ticksMinor;\r\n            widgetSettings.ticksDistance = '5%';\r\n\r\n            widgetSettings.max = NUM_VAL_CONVERTER.convertBack(this.maximum, this.valueType);\r\n            widgetSettings.min = NUM_VAL_CONVERTER.convertBack(this.minimum, this.valueType);\r\n\r\n            widgetSettings.startAngle = this.startAngle;\r\n            widgetSettings.endAngle = this.endAngle;\r\n\r\n            widgetSettings.value = NUM_VAL_CONVERTER.convertBack(this.value, this.valueType);\r\n            widgetSettings.int64 = NUM_HELPER.isSigned64BitInt(this.valueType) ? 's' : NUM_HELPER.is64BitInt(this.valueType) ? 'u' : false;\r\n\r\n            childElement = document.createElement('div');\r\n            childElement.style.width = '100%';\r\n            childElement.style.height = '100%';\r\n\r\n            this.appendChild(childElement);\r\n\r\n            jqref = $(childElement);\r\n\r\n            jqref.jqxGauge(widgetSettings);\r\n            jqref.on('resize', function (event) {\r\n                event.stopPropagation();\r\n            });\r\n\r\n            // Adding CSS class names\r\n            jqref.addClass('ni-gauge-box');\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.forceResize = function (size) {\r\n        parent.prototype.forceResize.call(this, size);\r\n        $(this.firstElementChild).jqxGauge(size);\r\n    };\r\n\r\n    proto.updateRange = function (jqref) {\r\n        var settings = { int64: NUM_HELPER.isSigned64BitInt(this.valueType) ? 's' : NUM_HELPER.is64BitInt(this.valueType) ? 'u' : false };\r\n        settings.min = NUM_VAL_CONVERTER.convertBack(this.minimum, this.valueType);\r\n        settings.max = NUM_VAL_CONVERTER.convertBack(this.maximum, this.valueType);\r\n        settings.value = NUM_VAL_CONVERTER.convertBack(this.value, this.valueType);\r\n\r\n        jqref.jqxGauge(settings);\r\n    };\r\n\r\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle) {\r\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqref = $(childElement);\r\n\r\n        getAndSet(jqref, 'labels', {\r\n            fontSize: fontSize,\r\n            fontFamily: fontFamily,\r\n            fontStyle: fontStyle,\r\n            fontWeight: fontWeight\r\n        });\r\n        jqref.jqxGauge('refresh');\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        var childElement = this.firstElementChild,\r\n            ticksMajor,\r\n            ticksMinor,\r\n            digits,\r\n            jqref = $(childElement);\r\n\r\n        switch (propertyName) {\r\n            case 'valueType':\r\n                this.updateRange(jqref);\r\n                break;\r\n            case 'startAngle':\r\n                jqref.jqxGauge({startAngle: this.startAngle});\r\n                break;\r\n            case 'endAngle':\r\n                jqref.jqxGauge({endAngle: this.endAngle});\r\n                break;\r\n            case 'maximum':\r\n                this.updateRange(jqref);\r\n                break;\r\n            case 'minimum':\r\n                this.updateRange(jqref);\r\n                break;\r\n            case 'value':\r\n                jqref.jqxGauge({ value: NUM_VAL_CONVERTER.convertBack(this.value, this.valueType) });\r\n                break;\r\n            case 'interval':\r\n                this.updateRange(jqref);\r\n                break;\r\n            case 'scaleVisible':\r\n                getAndSet(jqref, 'ticksMajor', {visible: this.majorTicksVisible && this.scaleVisible });\r\n                getAndSet(jqref, 'ticksMinor', {visible: this.minorTicksVisible && this.scaleVisible });\r\n                jqref.jqxGauge('refresh');\r\n                break;\r\n            case 'labelsVisible':\r\n                getAndSet(jqref, 'labels', { visible: this.labelsVisible && this.scaleVisible });\r\n                jqref.jqxGauge('refresh');\r\n                break;\r\n            case 'majorTicksVisible':\r\n                getAndSet(jqref, 'ticksMajor', {visible: this.majorTicksVisible && this.scaleVisible });\r\n                jqref.jqxGauge('refresh');\r\n                break;\r\n            case 'minorTicksVisible':\r\n                getAndSet(jqref, 'ticksMinor', {visible: this.minorTicksVisible && this.scaleVisible });\r\n                jqref.jqxGauge('refresh');\r\n                break;\r\n            case 'rangeDivisionsMode':\r\n                // For the gauge we have to retrieve the current state of the objects inside it.\r\n                // If not we lose all other properties not set by this procedure.\r\n                var interval, rangeDivProps = {};\r\n                var labels = jqref.jqxGauge('labels');\r\n                ticksMajor = jqref.jqxGauge('ticksMajor');\r\n                ticksMinor = jqref.jqxGauge('ticksMinor');\r\n\r\n                // Update labels and scale visibility.\r\n                labels.visible = this.labelsVisible && this.scaleVisible;\r\n                ticksMajor.visible = this.majorTicksVisible && this.scaleVisible;\r\n                ticksMinor.visible = this.minorTicksVisible && this.scaleVisible;\r\n\r\n                // This the object that sets all updated properties on the jqxGauge.\r\n                rangeDivProps.labels = labels;\r\n                rangeDivProps.ticksMajor = ticksMajor;\r\n                rangeDivProps.ticksMinor = ticksMinor;\r\n\r\n                if (this.rangeDivisionsMode === 'auto') {\r\n                    // Show all\r\n                    rangeDivProps.tickMode = 'default';\r\n                    rangeDivProps.niceInterval = true;\r\n                } else {\r\n                    // Show Endpoints only\r\n                    interval = this.getRange();\r\n                    labels.number = ENDPOINTS_ONLY;\r\n                    ticksMajor.interval = interval;\r\n                    ticksMajor.number = ENDPOINTS_ONLY;\r\n\r\n                    ticksMinor.interval = interval;\r\n                    ticksMinor.number = MINORTICKS_FOR_ENDPOINTS_ONLY;\r\n\r\n                    rangeDivProps.tickMode = 'tickNumber';\r\n                    rangeDivProps.niceInterval = false;\r\n                }\r\n\r\n                jqref.jqxGauge(rangeDivProps);\r\n                jqref.jqxGauge('refresh');\r\n                break;\r\n            case 'format':\r\n            case 'significantDigits':\r\n            case 'precisionDigits':\r\n                digits = NUM_HELPER.coerceDisplayDigits(this.significantDigits, this.precisionDigits);\r\n                getAndSet(jqref, 'labels', {\r\n                    formatSettings: {\r\n                            outputNotation: this.format === 'floating point' ? 'decimal' : 'exponential',\r\n                            radix: this.convertFormatToRadix(this.format),\r\n                            digits: digits.significantDigits,\r\n                            decimalDigits: digits.precisionDigits\r\n                        }\r\n                });\r\n                jqref.jqxGauge('refresh');\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-gauge', 'HTMLNIGauge');\r\n}(NationalInstruments.HtmlVI.Elements.Gauge, NationalInstruments.HtmlVI.Elements.RadialNumericPointer));\r\n","/*jslint nomen: true, devel:true*/\r\n/*global NationalInstruments*/\r\n//****************************************\r\n// Boolean Control Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.ProgressBar = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'value',\r\n            defaultValue: 0,\r\n            fireEvent: true,\r\n            addNonSignalingProperty: true,\r\n            isElementValueProperty: true\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'minimum',\r\n            defaultValue: 0\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'maximum',\r\n            defaultValue: 10\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'orientation',\r\n            defaultValue: 'horizontal'\r\n        });\r\n    };\r\n\r\n}(NationalInstruments.HtmlVI.Elements.ProgressBar, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// Linear Progress Bar Prototype\r\n// DOM Registration: HTMLLinearProgressBar\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.LinearProgressBar = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            widgetSettings,\r\n            childElement,\r\n            jqref;\r\n\r\n        if (firstCall === true) {\r\n            widgetSettings = {};\r\n            widgetSettings.animationDuration = 0;\r\n            widgetSettings.max = this.maximum;\r\n            widgetSettings.min = this.minimum;\r\n            widgetSettings.orientation = this.orientation;\r\n            widgetSettings.value = this.value;\r\n\r\n            childElement = document.createElement('div');\r\n            childElement.style.width = '100%';\r\n            childElement.style.height = '100%';\r\n\r\n            this.appendChild(childElement);\r\n\r\n            jqref = $(childElement);\r\n            jqref.jqxProgressBar(widgetSettings);\r\n\r\n            // Adding CSS class names\r\n            jqref.addClass('ni-track');\r\n            jqref.find(' .jqx-progressbar-value').addClass('ni-range-bar');\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqref = $(childElement);\r\n\r\n        switch (propertyName) {\r\n        case 'maximum':\r\n            jqref.jqxProgressBar({ max: this.maximum });\r\n            break;\r\n        case 'minimum':\r\n            jqref.jqxProgressBar({ min: this.minimum });\r\n            break;\r\n        case 'orientation':\r\n            jqref.jqxProgressBar({ orientation: this.orientation });\r\n            break;\r\n        case 'value':\r\n            jqref.jqxProgressBar({ value: this.value });\r\n            break;\r\n        default:\r\n            break;\r\n        }\r\n    };\r\n\r\n    proto.forceResize = function (size) {\r\n        var childElement = this.firstElementChild,\r\n            jqref = $(childElement);\r\n\r\n        parent.prototype.forceResize.call(this, size);\r\n\r\n        jqref.jqxProgressBar(size);\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-linear-progress-bar', 'HTMLNILinearProgressBar');\r\n}(NationalInstruments.HtmlVI.Elements.LinearProgressBar, NationalInstruments.HtmlVI.Elements.ProgressBar));\r\n","//****************************************\r\n// Cartesian Graph Base Prototype\r\n// DOM Registration: HTMLNICartesianGraph\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.CartesianGraphBase = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var graphDataPipeline = NationalInstruments.HtmlVI.DataPipeline.GraphDataPipeline;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n    var plotsUpdatesEnabled = true;\r\n    var graphConfigPending = false;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.getSettings = function () {\r\n        var settings = {\r\n            lines: {\r\n                show: true,\r\n                lineWidth: 1\r\n            },\r\n            canvas: true,\r\n            series: {\r\n                shadowSize: 0, // Drawing is faster without shadows\r\n                downsample: {\r\n                    threshold: 1000\r\n                }\r\n            },\r\n            axisLabels: {\r\n                show: true\r\n            },\r\n            xaxes: [{}],\r\n            yaxes: [{}],\r\n            zoom: {\r\n                interactive: true,\r\n                trigger: null\r\n            },\r\n            pan: {\r\n                interactive: true\r\n            },\r\n            selection: {\r\n                mode: null\r\n            },\r\n            grid: {\r\n                backgroundColor: '#FFFFFF'\r\n            }\r\n        };\r\n\r\n        return settings;\r\n    };\r\n\r\n    proto.configureGraph = function () {\r\n        var i;\r\n        var cartesianGraphSettings = this.getSettings();\r\n        if (this.plotAreaMargin !== '') {\r\n            if (cartesianGraphSettings.grid === undefined) {\r\n                cartesianGraphSettings.grid = {};\r\n            }\r\n\r\n            cartesianGraphSettings.grid.margin = JSON.parse(this.plotAreaMargin);\r\n        }\r\n\r\n        // Apply Settings from host\r\n        cartesianGraphSettings.xaxes = [];\r\n        cartesianGraphSettings.yaxes = [];\r\n        cartesianGraphSettings.cursors = [];\r\n\r\n        for (i = 0; i < this.axes.length; i++) {\r\n            var axis = this.axes[i];\r\n            var a = axis.getViewConfig();\r\n\r\n            if (a) {\r\n                if (a.position && ((a.position === 'left') || (a.position === 'right'))) {\r\n                    cartesianGraphSettings.yaxes.push(a);\r\n                }\r\n\r\n                if (a.position && ((a.position === 'top') || (a.position === 'bottom'))) {\r\n                    cartesianGraphSettings.xaxes.push(a);\r\n                }\r\n            }\r\n        }\r\n\r\n        for (i = 0; i < this.cursors.length; i++) {\r\n            var cursor = this.cursors[i];\r\n            var c = cursor.getViewConfig();\r\n            cartesianGraphSettings.cursors.push(c);\r\n        }\r\n\r\n        if (this.graphTools) {\r\n            cartesianGraphSettings.zoom.interactive = this.graphTools.allowsScrollWheelZoom();\r\n            cartesianGraphSettings.pan.interactive = this.graphTools.allowsPan();\r\n            cartesianGraphSettings.selection.mode = this.graphTools.mode === 'zoom' ? 'smart' : null;\r\n        }\r\n\r\n        return cartesianGraphSettings;\r\n    };\r\n\r\n    proto.updateGraphConfig = function () {\r\n        var plotConfig;\r\n        if (this.plots.length > 0) {\r\n            plotConfig = this.plots[0].getViewConfig();\r\n        }\r\n\r\n        var childElement = this.graphdiv;\r\n        if (childElement === undefined) {\r\n            return; // not ready yet\r\n        }\r\n\r\n        var cartesianGraphData = this.createData(this.plots, this.convertToFlotFormat(JSON.parse(this.value)));\r\n        var cartesianGraphSettings = this.configureGraph();\r\n        this.setHover(cartesianGraphData, cartesianGraphSettings);\r\n\r\n        try {\r\n            this.graph = $.plot(childElement, cartesianGraphData, cartesianGraphSettings);\r\n        } catch (error) {\r\n            NI_SUPPORT.log(error.message);\r\n        }\r\n\r\n        var that = this;\r\n        this.graph.getCursors().forEach(function (cursor, i) {\r\n            /* place a cookie on the cursor */\r\n            cursor.cookie = that.cursors[i];\r\n            that.cursors[i].setCursor(cursor);\r\n        });\r\n    };\r\n\r\n    proto.onCursorUpdates = function (event, cursordata) {\r\n        cursordata.forEach(function (cursor, i) {\r\n            cursor.target.cookie.updateCursorElement(cursordata[i]);\r\n        });\r\n    };\r\n\r\n    proto.throttlePlotUpdates = function (throttle) {\r\n        plotsUpdatesEnabled = !throttle;\r\n        if (plotsUpdatesEnabled && graphConfigPending) {\r\n            this.updateGraphConfig(); // keep the graph in sync\r\n            graphConfigPending = false;\r\n        }\r\n    };\r\n\r\n    proto.updateGraphConfigWhenPlotsUpdatesAreEnabled = function () {\r\n        if (plotsUpdatesEnabled) {\r\n            this.updateGraphConfig();\r\n            graphConfigPending = false;\r\n        } else {\r\n            graphConfigPending = true;\r\n        }\r\n    };\r\n\r\n    proto.convertToFlotFormat = function (value) {\r\n        return graphDataPipeline.prototype.toFlot(this, value);\r\n    };\r\n\r\n    proto.updatePlotName = function (index, name) {\r\n        if (name) {\r\n            if (this.plots[index]) {\r\n                this.plots[index].label = name;\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.createData = function (plots, dataSeries) {\r\n        var plotConfig = [];\r\n\r\n        dataSeries.forEach(function (data, i) {\r\n            var plot = plots[i];\r\n            if (plot) {\r\n                plotConfig[i] = plot.getViewConfig();\r\n            } else {\r\n                plotConfig[i] = {};\r\n            }\r\n\r\n            plotConfig[i].data = data.length > 0 ? data : [];\r\n        });\r\n\r\n        return plotConfig;\r\n    };\r\n\r\n    proto.updateData = function () {\r\n        var graph = this.graph;\r\n\r\n        graph.setData(this.createData(this.plots, this.convertToFlotFormat(JSON.parse(this.value))));\r\n        graph.setupGrid();\r\n        graph.draw();\r\n    };\r\n\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'value',\r\n            defaultValue: '[]'\r\n        });\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'plotAreaMargin',\r\n            defaultValue: ''\r\n        });\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        // Public Instance Properties\r\n        this.plots = [];\r\n        this.axes = [];\r\n        this.cursors = [];\r\n        this.plotLegend = null;\r\n        this.cursorLegend = null;\r\n        this.scaleLegend = null;\r\n        this.graphTools = null;\r\n        this.graphdiv = undefined;\r\n        this.tooltip = null;\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    proto.findGraphItems_early = function () {\r\n        var myChildItems = [],\r\n            axisItemName = NationalInstruments.HtmlVI.Elements.CartesianPlot.prototype.elementInfo.tagName.toUpperCase(),\r\n            plotItemName = NationalInstruments.HtmlVI.Elements.CartesianAxis.prototype.elementInfo.tagName.toUpperCase(),\r\n            i;\r\n\r\n        for (i = 0; i < this.children.length; i++) {\r\n            if (this.children[i].tagName === plotItemName) {\r\n                myChildItems.push(this.children[i]);\r\n            } else if (this.children[i].tagName === axisItemName) {\r\n                myChildItems.push(this.children[i]);\r\n            }\r\n        }\r\n\r\n        return myChildItems;\r\n    };\r\n\r\n    proto.forceResize = function (size) {\r\n        parent.prototype.forceResize.call(this, size);\r\n        var plot = this.graph;\r\n        if (plot !== undefined) {\r\n            plot.resize();\r\n            plot.setupGrid();\r\n            plot.draw();\r\n        }\r\n    };\r\n\r\n    proto.createGraph = function () {\r\n        var that = this;\r\n        var childElement = document.createElement('div');\r\n        childElement.style.width = '100%';\r\n        childElement.style.height = '100%';\r\n        this.appendChild(childElement);\r\n        var tooltip = document.createElement('div');\r\n        tooltip.id = 'tooltip' + NI_SUPPORT.uniqueId();\r\n        tooltip.className = 'ni-graph-tooltip';\r\n        this.appendChild(tooltip);\r\n        this.tooltip = tooltip;\r\n\r\n        this.graphdiv = childElement;\r\n\r\n        var cartesianGraphData = this.createData(this.plots, this.convertToFlotFormat(JSON.parse(this.value)));\r\n        var cartesianGraphSettings = this.configureGraph();\r\n        this.setHover(cartesianGraphData, cartesianGraphSettings);\r\n\r\n        try {\r\n            this.graph = $.plot(childElement, cartesianGraphData, cartesianGraphSettings);\r\n        } catch (e) {\r\n            NI_SUPPORT.log('Failed to create a flot chart. Make sure that the placeholder element has a non-zero size !');\r\n        }\r\n\r\n        $(childElement).bind('plothover', function (event, pos, item) {\r\n            if (item && that.plots[item.seriesIndex]) {\r\n                var x = item.datapoint[0],\r\n                    y = item.datapoint[1],\r\n                    hoverFormat = that.plots[item.seriesIndex].hoverFormat || '{0}, {1}',\r\n                    str = that.format(hoverFormat, x, y);\r\n\r\n                $(tooltip).html(str)\r\n                    .css({ top: item.pageY - that.offsetTop + 5, left: item.pageX - that.offsetLeft + 5 })\r\n                    .fadeIn(100);\r\n            } else {\r\n                $(tooltip).hide();\r\n            }\r\n        });\r\n\r\n        try {\r\n            this.graph.getPlaceholder().bind('cursorupdates', this.onCursorUpdates);\r\n            this.graph.getCursors().forEach(function (cursor, i) {\r\n                /* place a cookie on the cursor */\r\n                cursor.cookie = that.cursors[i];\r\n                that.cursors[i].setCursor(cursor);\r\n            });\r\n        } catch (e) { }\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this), graphChildElements;\r\n\r\n        if (firstCall === true) {\r\n            graphChildElements = this.findGraphItems_early();\r\n            this.addGraphItemListeners(graphChildElements);\r\n            this.createGraph();\r\n            this.attachLegends();\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.addGraphItemListeners = function (childElements) {\r\n        var that = this;\r\n        that.addEventListener('ni-cartesian-plot-attached', function (evt) {\r\n            var i;\r\n\r\n            if (evt.target === that) {\r\n                that.plots.push(evt.detail.element);\r\n                for (i = 0; i < childElements.length; i++) {\r\n                    if (childElements[i] === evt.detail.element) {\r\n                        childElements.splice(i, 1);\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                that.updateGraphConfigWhenPlotsUpdatesAreEnabled();\r\n                that.notifyPlotLegend('ni-cartesian-plot-attached', evt.detail.element);\r\n            }\r\n        });\r\n\r\n        that.addEventListener('ni-cartesian-plot-detached', function (evt) {\r\n            var i;\r\n\r\n            that.notifyPlotLegend('ni-cartesian-plot-detached', evt.detail.element);\r\n\r\n            if (evt.target === that) {\r\n                for (i = 0; i < that.plots.length; i++) {\r\n                    if (that.plots[i] === evt.detail.element) {\r\n                        that.plots.splice(i, 1);\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                that.updateGraphConfigWhenPlotsUpdatesAreEnabled();\r\n            }\r\n        });\r\n\r\n        that.addEventListener('ni-cartesian-axis-attached', function (evt) {\r\n            var i;\r\n\r\n            if (evt.target === that) {\r\n                if (typeof that.axes === 'string') {\r\n                    that.axes = [];\r\n                }\r\n\r\n                if (typeof that.plots === 'string') {\r\n                    that.plots = [];\r\n                }\r\n\r\n                that.axes.push(evt.detail.element);\r\n                for (i = 0; i < childElements.length; i++) {\r\n                    if (childElements[i] === evt.detail.element) {\r\n                        childElements.splice(i, 1);\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                that.updateGraphConfig();\r\n                that.notifyScaleLegend('ni-cartesian-axis-attached', evt.detail.element);\r\n            }\r\n        });\r\n\r\n        that.addEventListener('ni-cartesian-axis-detached', function (evt) {\r\n            var i;\r\n\r\n            if (evt.target === that) {\r\n                for (i = 0; i < that.axes.length; i++) {\r\n                    if (that.axes[i] === evt.detail.element) {\r\n                        that.axes.splice(i, 1);\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                that.updateGraphConfig();\r\n                that.notifyScaleLegend('ni-cartesian-axis-detached', evt.detail.element);\r\n            }\r\n        });\r\n\r\n        that.addEventListener('ni-cursor-attached', function (evt) {\r\n            var i;\r\n\r\n            if (evt.target === that) {\r\n                if (typeof that.cursors === 'string') {\r\n                    that.cursors = [];\r\n                }\r\n\r\n                that.cursors.push(evt.detail.element);\r\n                for (i = 0; i < childElements.length; i++) {\r\n                    if (childElements[i] === evt.detail.element) {\r\n                        childElements.splice(i, 1);\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                that.updateGraphConfig();\r\n                that.notifyCursorLegend('ni-cursor-attached', evt.detail.element);\r\n            }\r\n        });\r\n\r\n        that.addEventListener('ni-cursor-detached', function (evt) {\r\n            var i;\r\n\r\n            if (evt.target === that) {\r\n                for (i = 0; i < that.cursors.length; i++) {\r\n                    if (that.cursors[i] === evt.detail.element) {\r\n                        that.cursors.splice(i, 1);\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                that.updateGraphConfig();\r\n                that.notifyCursorLegend('ni-cursor-detached', evt.detail.element);\r\n            }\r\n        });\r\n\r\n        that.addEventListener('ni-axis-changed', function (evt) {\r\n            that.updateGraphConfig();\r\n            that.notifyScaleLegend('ni-axis-changed', evt.detail.element);\r\n        });\r\n\r\n        that.addEventListener('ni-cursor-changed', function (evt) {\r\n            that.updateGraphConfig();\r\n            that.notifyCursorLegend('ni-cursor-changed', evt.detail.element);\r\n        });\r\n\r\n        that.addEventListener('ni-cartesian-plot-changed', function (evt) {\r\n            that.updateGraphConfigWhenPlotsUpdatesAreEnabled();\r\n            that.notifyPlotLegend('ni-cartesian-plot-changed', evt.detail.element);\r\n        });\r\n\r\n        that.addEventListener('ni-cartesian-plot-renderer-changed', function (evt) {\r\n            that.updateGraphConfigWhenPlotsUpdatesAreEnabled();\r\n            that.notifyPlotLegend('ni-cartesian-plot-renderer-changed', evt.detail.element);\r\n        });\r\n\r\n        that.addEventListener('ni-cartesian-plot-renderer-attached', function (evt) {\r\n            that.updateGraphConfigWhenPlotsUpdatesAreEnabled();\r\n            that.notifyPlotLegend('ni-cartesian-plot-renderer-attached', evt.detail.element);\r\n        });\r\n\r\n        that.addEventListener('ni-cartesian-plot-renderer-detached', function (evt) {\r\n            that.updateGraphConfigWhenPlotsUpdatesAreEnabled();\r\n            that.notifyPlotLegend('ni-cartesian-plot-renderer-detached', evt.detail.element);\r\n        });\r\n\r\n        that.addEventListener('ni-graph-tools-changed', function () {\r\n            that.updateGraphConfig();\r\n        });\r\n    };\r\n\r\n    proto.registerPlotLegend = function (plotLegend) {\r\n        this.plotLegend = plotLegend;\r\n    };\r\n\r\n    proto.notifyPlotLegend = function (name, originalSource) {\r\n        var eventConfig;\r\n\r\n        if (this.plotLegend !== null) {\r\n            eventConfig = {\r\n                bubbles: true,\r\n                cancelable: true,\r\n                detail: {\r\n                    element: this,\r\n                    originalSource: originalSource\r\n                }\r\n            };\r\n\r\n            this.plotLegend.dispatchEvent(new CustomEvent(name, eventConfig));\r\n        }\r\n    };\r\n\r\n    proto.registerCursorLegend = function (cursorLegend) {\r\n        var i;\r\n        this.cursorLegend = cursorLegend;\r\n        if (this.cursors.length > 0) {\r\n            for (i = 0; i < this.cursors.length; i++) {\r\n                this.notifyCursorLegend('ni-cursor-attached', this.cursors[i]);\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.notifyCursorLegend = function (name, originalSource) {\r\n        var eventConfig;\r\n\r\n        if (this.cursorLegend !== null) {\r\n            eventConfig = {\r\n                bubbles: true,\r\n                cancelable: true,\r\n                detail: {\r\n                    element: this,\r\n                    originalSource: originalSource\r\n                }\r\n            };\r\n\r\n            this.cursorLegend.dispatchEvent(new CustomEvent(name, eventConfig));\r\n        }\r\n    };\r\n\r\n    proto.registerScaleLegend = function (scaleLegend) {\r\n        var i;\r\n        this.scaleLegend = scaleLegend;\r\n        if (this.axes.length > 0) {\r\n            for (i = 0; i < this.axes.length; i++) {\r\n                this.notifyScaleLegend('ni-cartesian-axis-attached', this.axes[i]);\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.notifyScaleLegend = function (name, originalSource) {\r\n        var eventConfig;\r\n\r\n        if (this.scaleLegend !== null) {\r\n            eventConfig = {\r\n                bubbles: true,\r\n                cancelable: true,\r\n                detail: {\r\n                    element: this,\r\n                    originalSource: originalSource\r\n                }\r\n            };\r\n\r\n            this.scaleLegend.dispatchEvent(new CustomEvent(name, eventConfig));\r\n        }\r\n    };\r\n\r\n    proto.registerGraphTools = function (graphTools) {\r\n        var that = this;\r\n        this.graphTools = graphTools;\r\n\r\n        this.updateGraphConfig();\r\n\r\n        $(this.graphdiv).on('plotselected', function (event, ranges) {\r\n            that.notifyGraphTools('ni-cartesian-graph-box-selected', { ranges: ranges });\r\n        });\r\n\r\n        $(this.graphdiv).on('plotpan', function (event, ranges) {\r\n            that.notifyGraphTools('ni-cartesian-graph-interaction', { ranges: ranges });\r\n        });\r\n\r\n        $(this.graphdiv).on('plotzoom', function (event, ranges) {\r\n            that.notifyGraphTools('ni-cartesian-graph-interaction', { ranges: ranges });\r\n        });\r\n\r\n        $(this.graphdiv).on('re-center', function (event) {\r\n            that.notifyGraphTools('ni-cartesian-graph-reCenter', event);\r\n        });\r\n    };\r\n\r\n    proto.notifyGraphTools = function (name, originalSource) {\r\n        var eventConfig;\r\n\r\n        if (this.graphTools !== null) {\r\n            eventConfig = {\r\n                bubbles: true,\r\n                cancelable: true,\r\n                detail: {\r\n                    element: this,\r\n                    originalSource: originalSource\r\n                }\r\n            };\r\n\r\n            this.graphTools.dispatchEvent(new CustomEvent(name, eventConfig));\r\n        }\r\n    };\r\n\r\n    // find the graph legend elements that were created before the graph element and attach them\r\n    proto.attachLegends = function () {\r\n        var graphElement = this;\r\n        var plotLegendItemName = NationalInstruments.HtmlVI.Elements.PlotLegend.prototype.elementInfo.tagName.toUpperCase(),\r\n            scaleLegendItemName = NationalInstruments.HtmlVI.Elements.ScaleLegend.prototype.elementInfo.tagName.toUpperCase(),\r\n            cursorLegendItemName = NationalInstruments.HtmlVI.Elements.CursorLegend.prototype.elementInfo.tagName.toUpperCase(),\r\n            graphToolsItemName = NationalInstruments.HtmlVI.Elements.GraphTools.prototype.elementInfo.tagName.toUpperCase();\r\n\r\n        var legendElementNames = [plotLegendItemName, scaleLegendItemName, cursorLegendItemName, graphToolsItemName];\r\n\r\n        var children = this.parentElement.children;\r\n        var myLegends = [];\r\n\r\n        for (var i = 0; i < children.length; i++) {\r\n            var element = children[i];\r\n            if ((legendElementNames.indexOf(element.tagName) !== -1) && (element.graphName === this.niControlId)) {\r\n                // this is a legend element that references this graph element\r\n                myLegends.push(element);\r\n            }\r\n        }\r\n\r\n        myLegends.forEach(function (legend) {\r\n            legend.attachToGraph(graphElement);\r\n        });\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n            case 'value':\r\n                this.updateData();\r\n                break;\r\n            case 'plotAreaMargin':\r\n                this.updateGraphConfig();\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.format = function () {\r\n        var args = arguments;\r\n        var str = args[0];\r\n        return str.replace(/{(\\d+)}/g, function (match, number) {\r\n            var index = parseInt(number) + 1;\r\n            var item = args[index];\r\n\r\n            if (typeof item !== 'undefined') {\r\n                var len1 = item.toFixed(2).length;\r\n                var len2 = item.toExponential(2).length;\r\n                if (len1 < len2) {\r\n                    return item.toFixed(2);\r\n                } else {\r\n                    return item.toExponential(2);\r\n                }\r\n            } else {\r\n                return match;\r\n            }\r\n        });\r\n    };\r\n\r\n    proto.setHover = function (graphData, graphSettings) {\r\n        var i,\r\n            isHoverable = false;\r\n\r\n        for (i = 0; i < graphData.length; i++) {\r\n            if (graphData[i].hoverable) {\r\n                isHoverable = true;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (isHoverable === true) {\r\n            if (graphSettings.grid === undefined) {\r\n                graphSettings.grid = {};\r\n            }\r\n\r\n            graphSettings.grid.hoverable = isHoverable;\r\n        } else {\r\n            if (this.tooltip !== null) {\r\n                $(this.tooltip).hide();\r\n            }\r\n        }\r\n    };\r\n}(NationalInstruments.HtmlVI.Elements.CartesianGraphBase, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// Cartesian Graph Prototype\r\n// DOM Registration: HTMLNICartesianGraph\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.CartesianGraph = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.updateGraphConfig = function () {\r\n        var childElement = this.graphdiv;\r\n        if (childElement === undefined) {\r\n            return; // not ready yet\r\n        }\r\n\r\n        var cartesianGraphData = this.createData(this.plots, this.convertToFlotFormat(JSON.parse(this.value)));\r\n        var cartesianGraphSettings = this.configureGraph();\r\n        this.setHover(cartesianGraphData, cartesianGraphSettings);\r\n        try {\r\n            this.graph = $.plot(childElement, cartesianGraphData, cartesianGraphSettings);\r\n            var that = this;\r\n            this.graph.getCursors().forEach(function (cursor, i) {\r\n                /* place a cookie on the cursor */\r\n                cursor.cookie = that.cursors[i];\r\n                that.cursors[i].setCursor(cursor);\r\n            });\r\n        } catch (error) {}\r\n    };\r\n\r\n    proto.updateData = function () {\r\n        var graph = this.graph;\r\n\r\n        graph.setData(this.createData(this.plots, this.convertToFlotFormat(JSON.parse(this.value))));\r\n        graph.setupGrid();\r\n        graph.draw();\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-cartesian-graph', 'HTMLNICartesianGraph');\r\n}(NationalInstruments.HtmlVI.Elements.CartesianGraph, NationalInstruments.HtmlVI.Elements.CartesianGraphBase));\r\n","//****************************************\n// Chart Prototype\n// DOM Registration: HTMLNIChart\n// National Instruments Copyright 2015\n//****************************************\n\n// Constructor Function: Empty (Not Invoked)\nNationalInstruments.HtmlVI.Elements.Chart = function () {\n    'use strict';\n};\n\n// Static Public Variables\n// None\n\n(function (child, parent) {\n    'use strict';\n    // Static Private Reference Aliases\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\n\n    NI_SUPPORT.inheritFromParent(child, parent);\n    var proto = child.prototype;\n\n    // Static Private Variables\n    // None\n\n    // Static Private Functions\n    // None\n\n    // Public Prototype Methods\n    proto.setHistoryBuffer = function (historyBuffer) {\n        this.historyBuffer = historyBuffer;\n    };\n\n    proto.getHistoryBuffer = function () {\n        return this.historyBuffer;\n    };\n\n    proto.createdCallback = function () {\n        parent.prototype.createdCallback.call(this);\n\n        // Public Instance Properties\n        this.historyBuffer = null;\n\n        // Private Instance Properties\n        // None\n    };\n\n    proto.getSettings = function () {\n        var settings = parent.prototype.getSettings.call(this);\n\n        settings.series.historyBuffer = this.historyBuffer;\n\n        return settings;\n    };\n\n    proto.addAllProperties = function (targetPrototype) {\n        parent.prototype.addAllProperties.call(this, targetPrototype);\n\n        proto.addProperty(targetPrototype, {\n            propertyName: 'bufferSize',\n            defaultValue: 1024\n        });\n    };\n\n    proto.defineElementInfo(proto, 'ni-chart', 'HTMLNIChart');\n}(NationalInstruments.HtmlVI.Elements.Chart, NationalInstruments.HtmlVI.Elements.CartesianGraphBase));\n","//****************************************\r\n// IntensityGraph Prototype\r\n// DOM Registration: HTMLNIIntensityGraph\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.IntensityGraph = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    var h = 50;\r\n    var w = 100;\r\n    var parsedData = null;\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.dataRange = function () {\r\n        if (parsedData === null || parsedData.length === 0) {\r\n            return { dataMin: 0, dataMax: Math.sqrt(h * h + w * w) };\r\n        } else {\r\n            var tempMin = Math.min();\r\n            var tempMax = Math.max();\r\n            for (var i = 0; i < parsedData.length; i++) {\r\n                var buf = parsedData[i];\r\n                for (var j = 0; j < buf.length; j++) {\r\n                    if (buf[j] > tempMax) {\r\n                        tempMax = buf[j];\r\n                    }\r\n\r\n                    if (buf[j] < tempMin) {\r\n                        tempMin = buf[j];\r\n                    }\r\n                }\r\n            }\r\n\r\n            return { dataMin: tempMin, dataMax: tempMax };\r\n        }\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        // Public Instance Properties\r\n        this.autoScaleColor = false;\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    proto.getSettings = function () {\r\n        var settings = {\r\n            series: {\r\n                intensitygraph: {\r\n                    show: true,\r\n                    legend: true\r\n                }\r\n            },\r\n            axisLabels: {\r\n                show: true\r\n            },\r\n            grid: {\r\n                backgroundColor: '#FFFFFF'\r\n            },\r\n            xaxes: [{}],\r\n            yaxes: [{}]\r\n        };\r\n\r\n        return settings;\r\n    };\r\n\r\n    proto.configureGraph = function () {\r\n        var i, j, gradient = [];\r\n        var colorScaleMin, colorScaleMax, colorScaleLabel, colorScaleShowLabel;\r\n        var cartesianGraphSettings = this.getSettings();\r\n        if (this.plotAreaMargin !== '') {\r\n            if (cartesianGraphSettings.grid === undefined) {\r\n                cartesianGraphSettings.grid = {};\r\n            }\r\n\r\n            cartesianGraphSettings.grid.margin = JSON.parse(this.plotAreaMargin);\r\n        }\r\n\r\n        var data = JSON.parse(this.value);\r\n        cartesianGraphSettings.series.intensitygraph.data =  data.length > 0 ? data : this.defaultData();\r\n        cartesianGraphSettings.xaxes = [];\r\n        cartesianGraphSettings.yaxes = [];\r\n        for (i = 0; i < this.axes.length; i++) {\r\n            var axis = this.axes[i];\r\n            var a = axis.getViewConfig();\r\n\r\n            if (a) {\r\n                if (a.position && a.position === 'left') {\r\n                    cartesianGraphSettings.yaxes.push(a);\r\n                }\r\n\r\n                if (a.position && a.position === 'bottom') {\r\n                    cartesianGraphSettings.xaxes.push(a);\r\n                }\r\n\r\n                if (a.position && a.position === 'right') {\r\n                    // this is the color scale\r\n                    var markers = JSON.parse(a.markers);\r\n                    for (j = 0; j < markers.length; j++) {\r\n                        gradient[j] = { value: markers[j].value, color: markers[j].color };\r\n                    }\r\n\r\n                    if (a.autoScale === false) {\r\n                        colorScaleMin = markers[0].value;\r\n                        colorScaleMax = markers[markers.length - 1].value;\r\n                        cartesianGraphSettings.series.intensitygraph.min = colorScaleMin;\r\n                        cartesianGraphSettings.series.intensitygraph.max = colorScaleMax;\r\n                    } else {\r\n                        this.autoScaleColor = true;\r\n                        var range = this.dataRange();\r\n                        colorScaleMin = range.dataMin;\r\n                        colorScaleMax = range.dataMax;\r\n                        cartesianGraphSettings.series.intensitygraph.min = range.dataMin;\r\n                        cartesianGraphSettings.series.intensitygraph.max = range.dataMax;\r\n                    }\r\n\r\n                    cartesianGraphSettings.series.intensitygraph.gradient = gradient;\r\n                    cartesianGraphSettings.series.intensitygraph.lowColor = a.lowColor;\r\n                    cartesianGraphSettings.series.intensitygraph.highColor = a.highColor;\r\n\r\n                    colorScaleLabel = a.axisLabel;\r\n                    colorScaleShowLabel = a.show;\r\n                }\r\n            }\r\n        }\r\n\r\n        // add color scale\r\n        cartesianGraphSettings.yaxes.push({\r\n            position: 'right',\r\n            show: false,\r\n            min: -0,\r\n            max: 50,\r\n            reserveSpace: true,\r\n            labelWidth: 30,\r\n            labelHeight: 50\r\n        });\r\n        cartesianGraphSettings.yaxes.push({\r\n            position: 'right',\r\n            min: colorScaleMin,\r\n            max: colorScaleMax,\r\n            axisLabel: colorScaleLabel,\r\n            show: colorScaleShowLabel\r\n        });\r\n\r\n        return cartesianGraphSettings;\r\n    };\r\n\r\n    proto.defaultData = function () {\r\n        return [[]];\r\n    };\r\n\r\n    proto.createData = function (plots, data) {\r\n        var plotConfig = {};\r\n\r\n        if (plots.length > 0) {\r\n            plotConfig = plots[0].getViewConfig();\r\n        }\r\n\r\n        // the data is placed in the config not the series because it does not match the series data type (and converting it might be expensive)\r\n        var graphdata = data.length > 0 ? data : this.defaultData();\r\n        parsedData = graphdata;\r\n        plotConfig.data = graphdata;\r\n        var cartesianGraphData = [plotConfig];\r\n\r\n        return cartesianGraphData;\r\n    };\r\n\r\n    proto.updateData = function () {\r\n        var graph = this.graph;\r\n        var data = this.createData(this.plots, JSON.parse(this.value));\r\n\r\n        if (!this.autoScaleColor) {\r\n            graph.setData(data);\r\n            graph.setupGrid();\r\n        } else {\r\n            this.updateGraphConfig();\r\n        }\r\n\r\n        graph.draw();\r\n    };\r\n\r\n    proto.convertToFlotFormat = function (data) {\r\n        return data;\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-intensity-graph', 'HTMLNIIntensityGraph');\r\n}(NationalInstruments.HtmlVI.Elements.IntensityGraph, NationalInstruments.HtmlVI.Elements.CartesianGraphBase));\r\n","/*jslint nomen: true, devel:true*/\r\n/*global NationalInstruments*/\r\n//****************************************\r\n// Cartesian Axis Custom Element\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.CartesianAxis = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    var isTimeAxis = function (format) {\r\n        return (format.indexOf('LVTime') === 0) || (format.indexOf('LVRelativeTime') === 0);\r\n    };\r\n\r\n    var toFlotTimeFormat = function (format) {\r\n        if (format.indexOf('LVTime') === 0) {\r\n            return '%A';\r\n        }\r\n\r\n        if (format.indexOf('LVRelativeTime') === 0) {\r\n            return '%r';\r\n        }\r\n\r\n        return null;\r\n    };\r\n\r\n    var nullTickFormatter = function () {\r\n        return '';\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'show',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'label',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'axisPosition',\r\n            defaultValue: 'left'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'showLabel',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'minimum',\r\n            defaultValue: 0\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'maximum',\r\n            defaultValue: 1\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'autoScale',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'logScale',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'format',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'showTickLabels',\r\n            defaultValue: false\r\n        });\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        this._parentGraph = undefined;\r\n    };\r\n\r\n    proto.sendEventToParentGraph = function (name) {\r\n        var eventConfig;\r\n\r\n        if (this._parentGraph !== undefined) {\r\n            eventConfig = {\r\n                bubbles: true,\r\n                cancelable: true,\r\n                detail: {\r\n                    element: this\r\n                }\r\n            };\r\n\r\n            this._parentGraph.dispatchEvent(new CustomEvent(name, eventConfig));\r\n        }\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n\r\n        if (this.parentElement instanceof NationalInstruments.HtmlVI.Elements.CartesianGraphBase) {\r\n            this._parentGraph = this.parentElement;\r\n            this.sendEventToParentGraph('ni-cartesian-axis-attached');\r\n        } else {\r\n            NI_SUPPORT.error('Axis with following id does not have a parentGraph', this.niControlId);\r\n            this._parentGraph = undefined;\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        this.sendEventToParentGraph('ni-axis-changed');\r\n    };\r\n\r\n    proto.detachedCallback = function () {\r\n        parent.prototype.detachedCallback.call(this);\r\n\r\n        this.sendEventToParentGraph('ni-cartesian-axis-detached');\r\n        this._parentGraph = undefined;\r\n    };\r\n\r\n    // here we transform the configuration from the one used by the custom element to the one understood by Flot\r\n    proto.getViewConfig = function () {\r\n        var flotConfig = {\r\n            'axisLabel': this.showLabel ? this.label : undefined,\r\n            'show': this.show,\r\n            'position': this.axisPosition,\r\n            'min': this.autoScale ? undefined : this.minimum,\r\n            'max': this.autoScale ? undefined : this.maximum,\r\n            'mode': this.logScale ? 'log' : 'linear',\r\n            'element': this,\r\n            'format': isTimeAxis(this.format) ? 'time' : null,\r\n            'timeformat': toFlotTimeFormat(this.format)\r\n        };\r\n\r\n        if (!this.showTickLabels) {\r\n            flotConfig.tickFormatter = nullTickFormatter;\r\n        }\r\n\r\n        return flotConfig;\r\n    };\r\n\r\n    // get the flot axis coresponding to this element\r\n    proto.getFlotAxis = function () {\r\n        var graph = this._parentGraph.graph;\r\n        var axes = graph.getAxes();\r\n        var that = this;\r\n\r\n        var key =  Object.keys(axes).filter(function (axis) {\r\n            return axes[axis].options.element === that;\r\n        })[0];\r\n\r\n        return axes[key];\r\n    };\r\n\r\n    // set the axis min and max to the data min and max\r\n    proto.scaleOnce = function () {\r\n        var axis = this.getFlotAxis();\r\n\r\n        this.minimum = typeof axis.datamin === 'number' ? axis.datamin : this.minimum;\r\n        this.maximum = typeof axis.datamax === 'number' ? axis.datamax : this.maximum;\r\n    };\r\n\r\n    // called after an user interacts with the plot so the attributes of the element are in sync with the plot\r\n    proto.syncWithFlot = function () {\r\n        var axis = this.getFlotAxis();\r\n\r\n        // if axis.options.min isn't set it means this axis is in autoscale mode\r\n        if (typeof axis.options.min === 'number') {\r\n            this._autoScale = false;\r\n            this._minimum = axis.options.min;\r\n            this._maximum = axis.options.max;\r\n        } else {\r\n            this._autoScale = true;\r\n        }\r\n\r\n        if (this._parentGraph !== undefined) {\r\n            this._parentGraph.notifyScaleLegend('ni-axis-changed', this);\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-cartesian-axis', 'HTMLNICartesianAxis');\r\n}(NationalInstruments.HtmlVI.Elements.CartesianAxis, NationalInstruments.HtmlVI.Elements.Visual));\r\n","/*jslint nomen: true, devel:true*/\r\n/*global NationalInstruments*/\r\n//****************************************\r\n// Boolean Content Control Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.CartesianPlot = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'show',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'label',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'xaxis',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'yaxis',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'enableHover',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'hoverFormat',\r\n            defaultValue: ''\r\n        });\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        this._parentGraph = undefined;\r\n    };\r\n\r\n    proto.sendEventToParentGraph = function (name, originalSource) {\r\n        var eventConfig;\r\n\r\n        if (this._parentGraph !== undefined) {\r\n            eventConfig = {\r\n                bubbles: true,\r\n                cancelable: true,\r\n                detail: {\r\n                    element: this,\r\n                    originalSource: originalSource\r\n                }\r\n            };\r\n\r\n            this._parentGraph.dispatchEvent(new CustomEvent(name, eventConfig));\r\n        }\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n\r\n        if (this.parentElement instanceof NationalInstruments.HtmlVI.Elements.CartesianGraph || this.parentElement instanceof NationalInstruments.HtmlVI.Elements.Chart) {\r\n            this._parentGraph = this.parentElement;\r\n            this.addPlotItemListeners();\r\n            this.sendEventToParentGraph('ni-cartesian-plot-attached');\r\n        } else {\r\n            NI_SUPPORT.error('Plot with following id does not have a parentGraph', this.niControlId);\r\n            this._parentGraph = undefined;\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.addPlotItemListeners = function () {\r\n        var that = this;\r\n        that.addEventListener('ni-cartesian-plot-renderer-attached', function (evt) {\r\n            if (evt.target === that) {\r\n                this.plotRenderer = evt.detail.element;\r\n                this.sendEventToParentGraph('ni-cartesian-plot-renderer-attached');\r\n            }\r\n        });\r\n\r\n        that.addEventListener('ni-cartesian-plot-renderer-detached', function (evt) {\r\n            if (evt.target === that) {\r\n                this.plotRenderer = undefined;\r\n                this.sendEventToParentGraph('ni-cartesian-plot-renderer-detached');\r\n            }\r\n        });\r\n\r\n        that.addEventListener('ni-cartesian-plot-renderer-changed', function (evt) {\r\n            if (evt.target === that) {\r\n                this.sendEventToParentGraph('ni-cartesian-plot-renderer-changed', evt.detail.element);\r\n            }\r\n        });\r\n    };\r\n\r\n    proto.detachedCallback = function () {\r\n        parent.prototype.detachedCallback.call(this);\r\n\r\n        this.sendEventToParentGraph('ni-cartesian-plot-detached');\r\n        this._parentGraph = undefined;\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        this.sendEventToParentGraph('ni-cartesian-plot-changed');\r\n    };\r\n\r\n    proto.getViewConfig = function () {\r\n        var plotConfig = {};\r\n        if (this.plotRenderer !== undefined) {\r\n            plotConfig = this.plotRenderer.getViewConfig();\r\n        }\r\n\r\n        plotConfig.hoverable = this.enableHover;\r\n\r\n        return plotConfig;\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-cartesian-plot', 'HTMLNICartesianPlot');\r\n}(NationalInstruments.HtmlVI.Elements.CartesianPlot, NationalInstruments.HtmlVI.Elements.Visual));\r\n","/*jslint nomen: true, devel:true*/\r\n/*global NationalInstruments*/\r\n//****************************************\r\n// Boolean Content Control Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.CartesianPlotRenderer = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'lineWidth',\r\n            defaultValue: 1\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'lineStyle',\r\n            defaultValue: 'solid'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'lineStroke',\r\n            defaultValue: '#ff0000'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'pointColor',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'areaFill',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'barFill',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'areaBaseLine',\r\n            defaultValue: 'zero'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'pointSize',\r\n            defaultValue: 1\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'pointShape',\r\n            defaultValue: 'ellipse'\r\n        });\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        this._parentPlot = undefined;\r\n    };\r\n\r\n    proto.sendEventToParentPlot = function (name) {\r\n        var eventConfig;\r\n\r\n        if (this._parentPlot !== undefined) {\r\n            eventConfig = {\r\n                bubbles: true,\r\n                cancelable: true,\r\n                detail: {\r\n                    element: this\r\n                }\r\n            };\r\n\r\n            this._parentPlot.dispatchEvent(new CustomEvent(name, eventConfig));\r\n        }\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n\r\n        if (this.parentElement instanceof NationalInstruments.HtmlVI.Elements.CartesianPlot) {\r\n            this._parentPlot = this.parentElement;\r\n            this.sendEventToParentPlot('ni-cartesian-plot-renderer-attached');\r\n        } else {\r\n            NI_SUPPORT.error('Plot renderer with following id does not have a parentPlot', this.niControlId);\r\n            this._parentPlot = undefined;\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        this.sendEventToParentPlot('ni-cartesian-plot-renderer-changed');\r\n    };\r\n\r\n    proto.detachedCallback = function () {\r\n        parent.prototype.detachedCallback.call(this);\r\n\r\n        this.sendEventToParentPlot('ni-cartesian-plot-renderer-detached');\r\n    };\r\n\r\n    proto.toFlotLineStyle = function (style) {\r\n        switch (style) {\r\n            case 'solid':\r\n                return undefined;\r\n            case 'dot':\r\n                return [this.lineWidth, this.lineWidth * 2];\r\n            case 'mediumdash':\r\n                return [this.lineWidth * 3, this.lineWidth * 2];\r\n            case 'dashdot':\r\n                return [this.lineWidth * 3, this.lineWidth * 2, this.lineWidth, this.lineWidth * 2];\r\n            case 'largedash':\r\n                return [this.lineWidth * 5, this.lineWidth * 3];\r\n            default:\r\n                return undefined;\r\n        }\r\n    };\r\n\r\n    var areaFillOpacity = 0.6;\r\n\r\n    proto.getViewConfig = function () {\r\n        return {\r\n            color: this.lineStroke || this.pointColor || this.areaFill || this.barFill,\r\n            lines: {\r\n                show: this.lineStroke !== '' || this.areaFill !== '',\r\n                lineWidth: this.lineWidth,\r\n                fill: this.areaFill !== '' ? areaFillOpacity : false,\r\n                zero: false,\r\n                dashes: this.toFlotLineStyle(this.lineStyle)\r\n            },\r\n            points: {\r\n                show: this.pointColor !== '',\r\n                radius: this.pointSize ? this.pointSize / 2 : 2,\r\n                symbol: this.pointShape\r\n            },\r\n            bars: {\r\n                show: this.barFill !== '',\r\n                barWidth: 0.75, // TODO this is only valid if the distance between points is 1\r\n                align: 'center',\r\n                zero: false\r\n            }\r\n        };\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-cartesian-plot-renderer', 'HTMLNICartesianPlotRenderer');\r\n}(NationalInstruments.HtmlVI.Elements.CartesianPlotRenderer, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// Cursor Custom Element\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.Cursor = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'label',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'targetShape',\r\n            defaultValue: 'ellipse'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'cursorColor',\r\n            defaultValue: '#d42243'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'crosshairStyle',\r\n            defaultValue: 'both'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'show',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'showLabel',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'showValue',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'snapToData',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'x',\r\n            defaultValue: 0.5\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'y',\r\n            defaultValue: 0.5\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'fontFamily',\r\n            defaultValue: 'sans-serif'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'fontSize',\r\n            defaultValue: '10px'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'fontStyle',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'fontWeight',\r\n            defaultValue: ''\r\n        });\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        // Public Instance Properties\r\n        this.cursor = null;\r\n\r\n        // Private Instance Properties\r\n        this._parentGraph = undefined;\r\n    };\r\n\r\n    proto.sendEventToParentGraph = function (name) {\r\n        var eventConfig;\r\n\r\n        if (this._parentGraph !== undefined) {\r\n            eventConfig = {\r\n                bubbles: true,\r\n                cancelable: true,\r\n                detail: {\r\n                    element: this\r\n                }\r\n            };\r\n\r\n            this._parentGraph.dispatchEvent(new CustomEvent(name, eventConfig));\r\n        }\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n\r\n        if (this.parentElement instanceof NationalInstruments.HtmlVI.Elements.CartesianGraph ||\r\n            this.parentElement instanceof NationalInstruments.HtmlVI.Elements.Chart) {\r\n            this._parentGraph = this.parentElement;\r\n            this.sendEventToParentGraph('ni-cursor-attached');\r\n        } else {\r\n            NI_SUPPORT.error('Cursor with the following id does not have a parentGraph', this.niControlId);\r\n            this._parentGraph = undefined;\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        this.sendEventToParentGraph('ni-cursor-changed');\r\n    };\r\n\r\n    proto.detachedCallback = function () {\r\n        parent.prototype.detachedCallback.call(this);\r\n\r\n        this.sendEventToParentGraph('ni-cursor-detached');\r\n        this._parentGraph = undefined;\r\n    };\r\n\r\n    proto.setCursor = function (cursor) {\r\n        this.cursor = cursor;\r\n    };\r\n\r\n    proto.updateCursorElement = function (data) {\r\n        // TODO mraj this._x and this._y are underlying private properties and should not be assigned to directly\r\n        this._x = this.cursor.position.relativeX;\r\n        this._y = this.cursor.position.relativeY;\r\n        $(this).trigger('cursorUpdated', data);\r\n    };\r\n\r\n    proto.getViewConfig = function () {\r\n        var crosshairStyle =  this.crosshairStyle;\r\n        var mode;\r\n\r\n        if (crosshairStyle === 'both') {\r\n            mode = 'xy';\r\n        } else if (crosshairStyle === 'horizontal') {\r\n            mode = 'y';\r\n        } else if (crosshairStyle === 'vertical') {\r\n            mode = 'x';\r\n        } else {\r\n            mode = null;\r\n        }\r\n\r\n        return {\r\n            'show': this.show,\r\n            'showLabel': this.showLabel,\r\n            'showValuesRelativeToSeries': this.showValue ? 0 : undefined,\r\n            'name': this.label,\r\n            'color': this.cursorColor,\r\n            'snapToPlot': this.snapToData ? 0 : undefined,\r\n            'mode': mode,\r\n            'symbol': this.targetShape,\r\n            'fontSize': this.fontSize,\r\n            'fontFamily': this.fontFamily,\r\n            'fontStyle': this.fontStyle,\r\n            'fontWeight': this.fontWeight,\r\n            'position': {\r\n                'relativeX': this.x,\r\n                'relativeY': this.y\r\n            }\r\n        };\r\n    };\r\n\r\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle) {\r\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle);\r\n        this.fontFamily = fontFamily;\r\n        this.fontSize = fontSize;\r\n        this.fontWeight = fontWeight;\r\n        this.fontStyle = fontStyle;\r\n        this.sendEventToParentGraph('ni-cursor-changed');\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-cursor', 'HTMLNICursor');\r\n}(NationalInstruments.HtmlVI.Elements.Cursor, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// String Control Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.StringControl = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'text',\r\n            defaultValue: '',\r\n            fireEvent: true,\r\n            addNonSignalingProperty: true,\r\n            isElementValueProperty: true\r\n        });\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'acceptsReturn',\r\n            defaultValue: false\r\n        });\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'typeToReplace',\r\n            defaultValue: false\r\n        });\r\n    };\r\n\r\n    proto.isTextEditFocusable = function () {\r\n        return true;\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var childElement,\r\n            jqref,\r\n            that = this,\r\n            editingContent = false;\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n\r\n        if (firstCall === true) {\r\n            childElement = document.createElement('textarea');\r\n            childElement.style.width = '100%';\r\n            childElement.style.height = '100%';\r\n\r\n            this.appendChild(childElement);\r\n\r\n            jqref = $(childElement);\r\n            jqref.val(this.text);\r\n            jqref.attr('disabled', this.readOnly);\r\n            jqref.css('font-size', $(this).css('font-size'));\r\n            jqref.css('font-family', $(this).css('font-family'));\r\n            jqref.css('font-weight', $(this).css('font-weight'));\r\n            jqref.css('font-style', $(this).css('font-style'));\r\n            jqref.css('resize', 'none');\r\n            jqref.on('change', function () {\r\n                var newVal = jqref.val();\r\n                if (that.text !== newVal) {\r\n                    that.text = newVal;\r\n                }\r\n            });\r\n            jqref.on('click', function () {\r\n                if (that.typeToReplace && !editingContent) {\r\n                    editingContent = true;\r\n                    this.focus();\r\n                    this.select();\r\n                }\r\n            });\r\n            jqref.on('blur', function () {\r\n                var newVal = jqref.val();\r\n                editingContent = false;\r\n                if (that.text !== newVal) {\r\n                    that.text = newVal;\r\n                }\r\n            });\r\n            jqref.on('keydown', function (e) {\r\n                if ((that.acceptsReturn === false || e.ctrlKey === true) && e.keyCode === 13) {\r\n                    jqref.blur();\r\n                    return false;\r\n                }\r\n            });\r\n\r\n            // Adding CSS class names\r\n            jqref.addClass('ni-text-field');\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle) {\r\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqref = $(childElement);\r\n\r\n        jqref.css({ 'font-size': fontSize,\r\n                   'font-family': fontFamily,\r\n                   'font-weight': fontWeight,\r\n                   'font-style': fontStyle });\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqref = $(childElement);\r\n\r\n        switch (propertyName) {\r\n            case 'readOnly':\r\n                jqref.attr({disabled: this.readOnly});\r\n                break;\r\n            case 'text':\r\n                jqref.val(this.text);\r\n                break;\r\n            case 'acceptsReturn':\r\n                break;\r\n            case 'typeToReplace':\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-string-control', 'HTMLNIStringControl');\r\n}(NationalInstruments.HtmlVI.Elements.StringControl, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// Time Stamp Text Box Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.TimeStampTextBox = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    var serialisedTSToJsDate = function (value) {\r\n        return (new NationalInstruments.HtmlVI.NITimestamp(value)).toDate();\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'value',\r\n            defaultValue: '0:0',\r\n            fireEvent: true,\r\n            addNonSignalingProperty: true,\r\n            isElementValueProperty: true\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'minimum',\r\n            defaultValue: '-9223372036854775808:0'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'maximum',\r\n            defaultValue: '9223372036854775807:0'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'showCalendarButtonOnControl',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'popupEnabled',\r\n            defaultValue: false\r\n        });\r\n    };\r\n\r\n    proto.isTextEditFocusable = function () {\r\n        return true;\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            widgetSettings, fontAttr,\r\n            childElement,\r\n            jqref,\r\n            that = this;\r\n\r\n        if (firstCall === true) {\r\n            var format = 'MM/dd/yyyy hh:mm:ss tt';\r\n            var culture = Globalize.culture(window.NIEmbeddedBrowser.formatLanguage);\r\n            if (culture !== undefined) {\r\n                var calendar = culture.calendar;\r\n                format = calendar.patterns.d + ' ' + calendar.patterns.T;\r\n            }\r\n\r\n            widgetSettings = {\r\n                disabled: this.readOnly,\r\n                culture: window.NIEmbeddedBrowser.formatLanguage,\r\n                formatString: format,\r\n                min: serialisedTSToJsDate(this.minimum),\r\n                max: serialisedTSToJsDate(this.maximum),\r\n                showCalendarButton: !this.readOnly && this.popupEnabled\r\n            };\r\n            childElement = document.createElement('div');\r\n            childElement.style.width = '100%';\r\n            childElement.style.height = '100%';\r\n\r\n            this.appendChild(childElement);\r\n\r\n            jqref = $(childElement);\r\n            jqref.jqxDateTimeInput(widgetSettings);\r\n            jqref.jqxDateTimeInput('setDate', serialisedTSToJsDate(this.value));\r\n            jqref.on('valueChanged', function (event) {\r\n                that.value = (new NationalInstruments.HtmlVI.NITimestamp(event.args.date)).toString();\r\n            });\r\n\r\n            jqref.on('keydown', function (e) {\r\n                if (e.keyCode === 13) { // Enter / Return\r\n                    jqref.find(' input').blur(); // This commits the input's value\r\n                    return false;\r\n                }\r\n            });\r\n\r\n            fontAttr = $(this).css(['font-size', 'font-family', 'font-weight', 'font-style']);\r\n            $('#' + childElement.id + ' .jqx-widget-content').css(fontAttr);\r\n\r\n            // Adding CSS class names\r\n            jqref.addClass('ni-time-stamp-box');\r\n            jqref.find(' input').addClass('ni-text-field');\r\n            jqref.find(' .jqx-action-button').addClass('ni-calendar-button');\r\n            jqref.find(' .jqx-icon-calendar').addClass('ni-calendar-icon');\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.forceResize = function (size) {\r\n        parent.prototype.forceResize.call(this, size);\r\n        $(this.firstElementChild).jqxDateTimeInput(size);\r\n    };\r\n\r\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle) {\r\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqrefContent = $('#' + childElement.id + ' .jqx-widget-content');\r\n\r\n        jqrefContent.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqref = $(childElement);\r\n\r\n        switch (propertyName) {\r\n            case 'value':\r\n                jqref.jqxDateTimeInput('setDate', serialisedTSToJsDate(this.value));\r\n                break;\r\n            case 'minimum':\r\n                jqref.jqxDateTimeInput({'min': serialisedTSToJsDate(this.minimum)});\r\n                break;\r\n            case 'maximum':\r\n                jqref.jqxDateTimeInput({'max': serialisedTSToJsDate(this.maximum)});\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-time-stamp-text-box', 'HTMLNITimeStampTextBox');\r\n    // Inheritance is different from C# view (where time stamp is a numeric) so that min/max/value properties can have a different datatype\r\n}(NationalInstruments.HtmlVI.Elements.TimeStampTextBox, NationalInstruments.HtmlVI.Elements.Visual));\r\n","/*jslint nomen: true, devel:true*/\r\n/*global NationalInstruments*/\r\n//****************************************\r\n// Boolean Content Control Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.BooleanContentControl = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'trueContent',\r\n            defaultValue: 'on'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'falseContent',\r\n            defaultValue: 'off'\r\n        });\r\n    };\r\n\r\n}(NationalInstruments.HtmlVI.Elements.BooleanContentControl, NationalInstruments.HtmlVI.Elements.BooleanControl));\r\n","//****************************************\r\n// Boolean Switch Prototype\r\n// DOM Registration: HTMLNIBooleanSwitch\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.BooleanSwitch = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    var createSliderButton = function (target, params, childElement) {\r\n        var that = target,\r\n            jqRef;\r\n\r\n        jqRef = $(childElement);\r\n        params.animationDuration = 25;\r\n        jqRef.jqxSwitchButton(params);\r\n\r\n        // TODO use an undocumented funtion mraj\r\n        jqRef.jqxSwitchButton('_removeEventHandlers');\r\n        jqRef.find(' .jqx-switchbutton-label').css('font-size', $(that).css('font-size'));\r\n        jqRef.find(' .jqx-switchbutton-label').css('font-family', $(that).css('font-family'));\r\n        jqRef.find(' .jqx-switchbutton-label').css('font-weight', $(that).css('font-weight'));\r\n        jqRef.find(' .jqx-switchbutton-label').css('font-style', $(that).css('font-style'));\r\n\r\n        // Adding CSS class names\r\n        jqRef.addClass('ni-boolean-box');\r\n        jqRef.find(' .jqx-switchbutton-label-on').addClass('ni-on-label');\r\n        jqRef.find(' .jqx-switchbutton-label-off').addClass('ni-off-label');\r\n        jqRef.find(' .jqx-switchbutton-wrapper').addClass('ni-thumb-box');\r\n        jqRef.find(' .jqx-switchbutton-thumb').addClass('ni-thumb');\r\n    };\r\n\r\n    // TODO gleon we shouldn't be using this function, we should use CSS directly.\r\n    var setPowerButtonFontSize = function (jqref, height) {\r\n        var fontSize = height * 0.67;\r\n        jqref.css({ 'font-size': fontSize + 'px', 'line-height': height + 'px' });\r\n    };\r\n\r\n    var createPowerButton = function (target, params, childElement) {\r\n        var that = target;\r\n        var powerButton = childElement;\r\n        powerButton.classList.add('ni-boolean-box');\r\n        var powerChar = '\\uF011';\r\n        var text = document.createTextNode(powerChar);\r\n        powerButton.appendChild(text);\r\n\r\n        setPowerButtonFontSize($(powerButton), $(that).height());\r\n\r\n        $(that).hover(function () {\r\n            $(powerButton).toggleClass('hover');\r\n        }, function () {\r\n            $(powerButton).toggleClass('hover');\r\n        });\r\n        $(that).on('click', function (evt) {\r\n            evt.preventDefault();\r\n        });\r\n    };\r\n\r\n    var createRoundButton = function (target, params, childElement) {\r\n        var that = target, fontProps;\r\n        var divElement = document.createElement('div'),\r\n            labelElement = document.createElement('label');\r\n\r\n        var roundOffLabel = document.createElement('label');\r\n        var roundOnLabel = document.createElement('label');\r\n        var checkbox = document.createElement('input');\r\n\r\n        // Need to prevent default checkbox behavior so mechanical actions can takeover\r\n        checkbox.addEventListener('click', function (evt) {\r\n            evt.preventDefault();\r\n        });\r\n\r\n        // Add off and on labels\r\n        fontProps = $(that).css(['font-size', 'font-family', 'font-weight', 'font-style']);\r\n        roundOffLabel.classList.add('ni-off-label');\r\n        roundOffLabel.innerText = params.offLabel;\r\n        $(roundOffLabel).css(fontProps);\r\n        divElement.appendChild(roundOffLabel);\r\n        roundOnLabel.classList.add('ni-on-label');\r\n        roundOnLabel.innerText = params.onLabel;\r\n        $(roundOnLabel).css(fontProps);\r\n        divElement.appendChild(roundOnLabel);\r\n        childElement.appendChild(divElement);\r\n\r\n        // Add the checkbox\r\n        checkbox.type = 'checkbox';\r\n        checkbox.checked = params.checked;\r\n        childElement.appendChild(checkbox);\r\n\r\n        // Add the label \"knob\"\r\n        labelElement.classList.add('ni-knob');\r\n        childElement.appendChild(labelElement);\r\n    };\r\n\r\n    var createWidgetSettings = function (target) {\r\n        var that = target,\r\n            widgetSettings = {};\r\n        widgetSettings.checked = that.value;\r\n        widgetSettings.onLabel = that.contentVisible ? that.trueContent : '';\r\n        widgetSettings.offLabel = that.contentVisible ? that.falseContent : '';\r\n        widgetSettings.orientation = that.orientation;\r\n        widgetSettings.disabled = that.readOnly;\r\n        return widgetSettings;\r\n    };\r\n\r\n    var createAndAddChildElement = function (target) {\r\n        var that = target,\r\n            childElement = document.createElement('div');\r\n        childElement.style.width = '100%';\r\n        childElement.style.height = '100%';\r\n        that.appendChild(childElement);\r\n\r\n        return childElement;\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'shape',\r\n            defaultValue: 'slider'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'orientation',\r\n            defaultValue: 'horizontal'\r\n        });\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n\r\n        if (firstCall === true) {\r\n\r\n            var widgetSettings = createWidgetSettings(this);\r\n            var childElement = createAndAddChildElement(this);\r\n\r\n            switch (this.shape) {\r\n            case 'round':\r\n                createRoundButton(this, widgetSettings, childElement);\r\n                break;\r\n            case 'slider':\r\n                createSliderButton(this, widgetSettings, childElement);\r\n                break;\r\n            case 'power':\r\n                createPowerButton(this, widgetSettings, childElement);\r\n                break;\r\n            }\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle) {\r\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle);\r\n\r\n        var childElement = this.firstElementChild, jqrefContent,\r\n            fontProperties = { 'font-size': fontSize,\r\n                'font-family': fontFamily,\r\n                'font-weight': fontWeight,\r\n                'font-style': fontStyle };\r\n\r\n        // We do not use text content for power controls\r\n        if (this.shape === 'round') {\r\n            $('.ni-off-label').css(fontProperties);\r\n            $('.ni-on-label').css(fontProperties);\r\n        }\r\n\r\n        if (this.shape === 'slider') {\r\n            jqrefContent = $(childElement).find(' .jqx-switchbutton-label');\r\n            $(jqrefContent).css(fontProperties);\r\n        }\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n        var childElement = this.firstElementChild,\r\n            jqref = $(childElement),\r\n            that = this;\r\n\r\n        switch (propertyName) {\r\n        case 'readOnly':\r\n            if (this.shape === 'round') {\r\n                childElement.setAttribute('disabled', that.readOnly);\r\n            } else if (this.shape === 'slider') {\r\n                jqref.jqxSwitchButton({\r\n                    disabled: that.readOnly\r\n                });\r\n            } else if (this.shape === 'power') {\r\n                childElement.setAttribute('disabled', that.readOnly);\r\n            }\r\n\r\n            break;\r\n        case 'orientation':\r\n            if (this.shape === 'slider') {\r\n                // Orientation changes mess with the entire DOM and\r\n                // reattaching it is the best option.\r\n                this.removeChild(this.firstElementChild);\r\n\r\n                var widgetSettings = createWidgetSettings(this);\r\n\r\n                // Ok to use parent syle, as the removal and re-addition is completely\r\n                // internal. Also, since the resizeHack does not fire, we need this.\r\n                widgetSettings.width = this.style.width;\r\n                widgetSettings.height = this.style.height;\r\n\r\n                childElement = createAndAddChildElement(this);\r\n\r\n                createSliderButton(this, widgetSettings, childElement);\r\n            }\r\n\r\n            break;\r\n        case 'trueContent':\r\n            // We do not use text content for power controls\r\n\r\n            if (this.shape === 'round') {\r\n                $('.ni-on-label').html(this.trueContent);\r\n            }\r\n\r\n            if (this.shape === 'slider') {\r\n                jqref.jqxSwitchButton({\r\n                    onLabel: that.trueContent\r\n                });\r\n            }\r\n\r\n            break;\r\n        case 'falseContent':\r\n            // We do not use text content for power controls\r\n            if (this.shape === 'round') {\r\n                $('.ni-off-label').html(this.falseContent);\r\n            }\r\n\r\n            if (this.shape === 'slider') {\r\n                jqref.jqxSwitchButton({\r\n                    offLabel: that.falseContent\r\n                });\r\n            }\r\n\r\n            break;\r\n        case 'contentVisible':\r\n            // We do not use text content for power controls\r\n            if (this.shape === 'round') {\r\n                $('.ni-off-label').html(this.contentVisible ? this.falseContent : '');\r\n            }\r\n\r\n            if (this.shape === 'round') {\r\n                $('.ni-on-label').html(this.contentVisible ? this.trueContent : '');\r\n            }\r\n\r\n            if (this.shape === 'slider') {\r\n                jqref.jqxSwitchButton({\r\n                    onLabel: that.contentVisible ? that.trueContent : '',\r\n                    offLabel: that.contentVisible ? that.falseContent : ''\r\n                });\r\n            }\r\n\r\n            break;\r\n        case 'value':\r\n            if (this.shape === 'slider') {\r\n                jqref.jqxSwitchButton({\r\n                    checked: that.value\r\n                });\r\n            }\r\n\r\n            break;\r\n        default:\r\n            break;\r\n        }\r\n    };\r\n\r\n    proto.forceResize = function (size) {\r\n        parent.prototype.forceResize.call(this, size);\r\n        var childElement = this.firstElementChild,\r\n            jqRef = $(childElement);\r\n        if (this.shape === 'slider') {\r\n            jqRef.jqxSwitchButton(size);\r\n        }\r\n\r\n        if (this.shape === 'power') {\r\n            // TODO gleon we shouldn't be doing this. Use CSS directly.\r\n            setPowerButtonFontSize(jqRef, size.height);\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-boolean-switch', 'HTMLNIBooleanSwitch');\r\n})(NationalInstruments.HtmlVI.Elements.BooleanSwitch, NationalInstruments.HtmlVI.Elements.BooleanContentControl);\r\n","//****************************************\r\n// Boolean LED Prototype\r\n// DOM Registration: HTMLNIBooleanLED\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.BooleanLED = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        // Valid values:\r\n        // round, square\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'shape',\r\n            defaultValue: 'round'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'highlight',\r\n            defaultValue: ''\r\n        });\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            widgetSettings,\r\n            childElement,\r\n            jqref;\r\n\r\n        if (firstCall === true) {\r\n            widgetSettings = {};\r\n            widgetSettings.toggled = this.value;\r\n\r\n            childElement = document.createElement('input');\r\n            childElement.type = 'button';\r\n            childElement.style.width = '100%';\r\n            childElement.style.height = '100%';\r\n            widgetSettings.disabled = this.readOnly;\r\n            this.appendChild(childElement);\r\n\r\n            jqref = $(childElement);\r\n            jqref.jqxToggleButton(widgetSettings);\r\n            jqref.jqxToggleButton('_removeHandlers');\r\n\r\n            this.updateContent(this, jqref);\r\n\r\n            if (this.value === true) {\r\n                jqref.jqxToggleButton('check');\r\n            } else {\r\n                jqref.jqxToggleButton('unCheck');\r\n            }\r\n\r\n            this.updateColors(childElement);\r\n\r\n            // Adding CSS class names\r\n            jqref.addClass('ni-boolean-box');\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.updateContent = function (that, jqref) {\r\n        if (that.contentVisible === true) {\r\n            jqref.attr('value', that.value ? that.trueContent : that.falseContent);\r\n        } else {\r\n            jqref.attr('value', '');\r\n        }\r\n    };\r\n\r\n    proto.updateColors = function (childElement) {\r\n        if (this.value === true) {\r\n            $(childElement).css({ 'background-color': this.highlight, 'border-color': '#000000' });\r\n        } else {\r\n            $(childElement).css({ 'border-color': this.highlight, 'background-color': '#ffffff' });\r\n        }\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqref = $(childElement);\r\n\r\n        switch (propertyName) {\r\n            case 'value':\r\n                jqref.jqxToggleButton({\r\n                    toggled: this.value\r\n                });\r\n                this.updateContent(this, jqref);\r\n                this.updateColors(childElement);\r\n                break;\r\n            case 'readOnly':\r\n                jqref.jqxToggleButton({ disabled: this.readOnly });\r\n                break;\r\n            case 'contentVisible':\r\n            case 'trueContent':\r\n            case 'falseContent':\r\n                this.updateContent(this, jqref);\r\n                break;\r\n            case 'highlight':\r\n                this.updateColors(childElement);\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-boolean-led', 'HTMLNIBooleanLED');\r\n})(NationalInstruments.HtmlVI.Elements.BooleanLED, NationalInstruments.HtmlVI.Elements.BooleanContentControl);\r\n","//****************************************\r\n// CheckBox Prototype\r\n// DOM Registration: HTMLNICheckBox\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.CheckBox = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            widgetSettings,\r\n            childElement,\r\n            jqref;\r\n\r\n        if (firstCall === true) {\r\n            widgetSettings = {};\r\n            widgetSettings.checked = this.value;\r\n            widgetSettings.animationShowDelay = 0;\r\n            widgetSettings.animationHideDelay = 0;\r\n\r\n            childElement = document.createElement('div');\r\n            this.appendChild(childElement);\r\n\r\n            var textContent = document.createElement('label');\r\n            this.appendChild(textContent);\r\n            textContent.innerHTML = this.contentVisible ? this.content : '';\r\n            textContent.style.fontSize = $(this).css('font-size');\r\n            textContent.style.fontFamily =  $(this).css('font-family');\r\n            textContent.style.fontWeight =  $(this).css('font-weight');\r\n            textContent.style.fontStyle =  $(this).css('font-style');\r\n            jqref = $(childElement);\r\n            jqref.jqxCheckBox(widgetSettings);\r\n            jqref.jqxCheckBox('_removeHandlers');\r\n\r\n            // Associate the textContent with the jqxWidget\r\n            textContent.setAttribute('for', childElement.id);\r\n\r\n            if (this.value === true) {\r\n                jqref.jqxCheckBox('check');\r\n                jqref.find(' .jqx-checkbox-check-checked').addClass('ni-check-mark-icon');\r\n            } else {\r\n                jqref.jqxCheckBox('unCheck');\r\n                jqref.find(' .jqx-checkbox-check-checked').removeClass('ni-check-mark-icon');\r\n            }\r\n\r\n            // Adding CSS class names\r\n            jqref.addClass('ni-boolean-box');\r\n            jqref.find(' .jqx-checkbox-default').addClass('ni-check-mark-box');\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle) {\r\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle);\r\n\r\n        var textContent = this.lastElementChild;\r\n\r\n        $(textContent).css({ 'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle });\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        var childElement = this.firstElementChild,\r\n            textContent = this.lastElementChild,\r\n            jqref = $(childElement),\r\n            that = this;\r\n\r\n        switch (propertyName) {\r\n        case 'content':\r\n            textContent.innerHTML = this.contentVisible ? this.content : '';\r\n            break;\r\n        case 'contentVisible':\r\n            textContent.innerHTML = this.contentVisible ? this.content : '';\r\n            break;\r\n        case 'value':\r\n            jqref.jqxCheckBox({\r\n                checked: that.value\r\n            });\r\n            if (that.value === true) {\r\n                jqref.find(' .jqx-checkbox-check-checked').addClass('ni-check-mark-icon');\r\n            } else {\r\n                jqref.find(' .jqx-checkbox-check-checked').removeClass('ni-check-mark-icon');\r\n            }\r\n\r\n            break;\r\n        default:\r\n            break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-check-box', 'HTMLNICheckBox');\r\n}(NationalInstruments.HtmlVI.Elements.CheckBox, NationalInstruments.HtmlVI.Elements.BooleanControl));\r\n","//****************************************\r\n// Hyperlink Control Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.Hyperlink = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'href',\r\n            defaultValue: '',\r\n            isElementValueProperty: true\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'content',\r\n            defaultValue: ''\r\n        });\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            childElement;\r\n\r\n        if (firstCall === true) {\r\n            childElement = document.createElement('a');\r\n            childElement.appendChild(document.createTextNode(''));\r\n            childElement.style.width = '100%';\r\n            childElement.style.height = '100%';\r\n            childElement.style.margin = '0px';\r\n\r\n            childElement.setAttribute('href', this.href);\r\n            childElement.setAttribute('target', '_blank'); // We want to open the link in a new tab/window. devdocs.io/html/element/a#attr-target\r\n            childElement.firstChild.nodeValue = this.content;\r\n            childElement.style.color = this.style.color;\r\n\r\n            this.appendChild(childElement);\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        var childElement = this.firstElementChild;\r\n\r\n        switch (propertyName) {\r\n            case 'href':\r\n                childElement.setAttribute('href', this.href);\r\n                break;\r\n            case 'content':\r\n                childElement.firstChild.nodeValue = this.content;\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-hyperlink', 'HTMLNIHyperlink');\r\n}(NationalInstruments.HtmlVI.Elements.Hyperlink, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// Text Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.Text = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'text',\r\n            defaultValue: ''\r\n        });\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            divTag;\r\n\r\n        if (firstCall === true) {\r\n            divTag = document.createElement('div');\r\n            divTag.innerHTML = this.text;\r\n            this.appendChild(divTag);\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        var divElement = this.firstElementChild;\r\n\r\n        switch (propertyName) {\r\n            case 'text':\r\n                divElement.innerHTML = this.text;\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-text', 'HTMLNIText');\r\n}(NationalInstruments.HtmlVI.Elements.Text, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// Label Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.Label = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'text',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'controlId',\r\n            defaultValue: ''\r\n        });\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            labelTag;\r\n\r\n        if (firstCall === true) {\r\n            labelTag = document.createElement('label');\r\n            this.appendChild(labelTag);\r\n            labelTag.innerHTML = this.text;\r\n            // We want to eventually associate labels with their widgets so that screen readers can associate them.\r\n            // This is sort of how we would do it, but this doesn't work because the id that htmlFor points to\r\n            // needs to be an input, which our controls are not (the have children that are inputs)\r\n            // labelTag.htmlFor = this.controlId;\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        var labelElement = this.firstElementChild;\r\n\r\n        switch (propertyName) {\r\n            case 'text':\r\n                labelElement.innerHTML = this.text;\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-label', 'HTMLNILabel');\r\n}(NationalInstruments.HtmlVI.Elements.Label, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// Path Selector Control Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.PathSelector = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\nNationalInstruments.HtmlVI.Elements.PathSelector.PathTypeEnum = Object.freeze({\r\n    ABSOLUTE: 'absolute',\r\n    RELATIVE: 'relative'\r\n});\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype, enablePopup,\r\n        pathToObject, objectToPath, filterEmptyString;\r\n\r\n    // Static Private Variables\r\n    var PATH_TYPE_ENUM = NationalInstruments.HtmlVI.Elements.PathSelector.PathTypeEnum;\r\n\r\n    // Static Private Functions\r\n    enablePopup = function (target, enable) {\r\n        var jqref = $(target.firstElementChild);\r\n        if (enable === true) {\r\n            $(target._popoverTag).jqxPopover({\r\n                selector: jqref.find('.ni-selector-button'),\r\n                position: 'right',\r\n                animationOpenDelay: 0,\r\n                animationCloseDelay: 0\r\n            });\r\n        } else {\r\n            $(target._popoverTag).jqxPopover('destroy');\r\n        }\r\n\r\n    };\r\n\r\n    filterEmptyString = function (str) {\r\n        return str.length !== 0;\r\n    };\r\n\r\n    pathToObject = function (pathString) {\r\n\r\n        var components = pathString.split('/'), // unix format expected.\r\n            type;\r\n        if (components[0].length === 0) {\r\n            type = PATH_TYPE_ENUM.ABSOLUTE;\r\n        } else {\r\n            type = PATH_TYPE_ENUM.RELATIVE;\r\n        }\r\n\r\n        components = components.filter(filterEmptyString);\r\n        return { components: components, type: type };\r\n    };\r\n\r\n    objectToPath = function (pathObject) {\r\n\r\n        pathObject = JSON.parse(pathObject);\r\n\r\n        if (pathObject === undefined || pathObject.components === undefined) {\r\n            return '';\r\n        }\r\n\r\n        var pathString = pathObject.components.join('/');\r\n        if (pathObject.type === PATH_TYPE_ENUM.ABSOLUTE) {\r\n            pathString = '/' + pathString;\r\n            // jqwidgets bug. not possible to set an absolute path containing only\r\n            // one segment in unix format.\r\n            if (pathObject.components.length === 1) {\r\n                pathString += '/';\r\n            }\r\n        }\r\n\r\n        return pathString;\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'path',\r\n            defaultValue: JSON.stringify({ components: [], type: PATH_TYPE_ENUM.ABSOLUTE }), // not a path.\r\n            fireEvent: true,\r\n            addNonSignalingProperty: true,\r\n            isElementValueProperty: true\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'format',\r\n            defaultValue: 'windows'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'popupEnabled',\r\n            defaultValue: false\r\n        });\r\n    };\r\n\r\n    proto.isTextEditFocusable = function () {\r\n        return true;\r\n    };\r\n\r\n    proto.setPath = function (pathValue) {\r\n        // We don't want to fire more events for re-setting the path\r\n        // once we cleared the value.\r\n        if (!(this.isNotAPath() && pathValue === '')) {\r\n            this.path = JSON.stringify(pathToObject(pathValue));\r\n        }\r\n    };\r\n\r\n    proto.setNotAPath = function () {\r\n        this.path = JSON.stringify({ components: [], type: PATH_TYPE_ENUM.ABSOLUTE });\r\n    };\r\n\r\n    proto.isNotAPath = function () {\r\n        var pathValue = JSON.parse(this.path);\r\n        if (pathValue === undefined || pathValue === null || pathValue.components === undefined) {\r\n            return true;\r\n        }\r\n\r\n        return pathValue.components.length === 0 && pathValue.type === PATH_TYPE_ENUM.ABSOLUTE;\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        this._popoverTag = undefined;\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            widgetSettings, fontAttr,\r\n            childElement,\r\n            jqref,\r\n            popover,\r\n            button,\r\n            that = this;\r\n\r\n        if (firstCall === true) {\r\n            widgetSettings = {};\r\n            widgetSettings.readOnly = this.readOnly;\r\n            widgetSettings.pathFormat = this.format;\r\n            widgetSettings.accept = '*';\r\n\r\n            childElement = document.createElement('div');\r\n            childElement.style.width = '100%';\r\n            childElement.style.height = '100%';\r\n\r\n            this.appendChild(childElement);\r\n\r\n            jqref = $(childElement);\r\n            jqref.jqxPathControl(widgetSettings);\r\n            jqref.jqxPathControl('val', objectToPath(this.path));\r\n\r\n            // Adding CSS class names\r\n            jqref.find(' .jqx-path-control-input').addClass('ni-text-field');\r\n            jqref.find(' .jqx-path-control-button').addClass('ni-selector-button');\r\n\r\n            this._popoverTag = document.createElement('div');\r\n            button = document.createElement('input');\r\n\r\n            $(button).attr('type', 'button');\r\n            $(button).attr('value', NI_SUPPORT.i18n('msg_SET_TO_NOT_A_PATH'));\r\n            $(button).jqxButton({template: 'link'});\r\n            $(button).on('click', function () {\r\n                $(popover).jqxPopover('close');\r\n                that.setNotAPath();\r\n            });\r\n\r\n            this._popoverTag.appendChild(button);\r\n            enablePopup(this, this.popupEnabled);\r\n\r\n            fontAttr = $(this).css(['font-size', 'font-family', 'font-weight', 'font-style']);\r\n            jqref.find('.ni-text-field').css(fontAttr);\r\n\r\n            jqref.on('change', function () {\r\n                that.setPath(jqref.val('unix')); // because is easier to convert to object.\r\n            });\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.forceResize = function (size) {\r\n        parent.prototype.forceResize.call(this, size);\r\n        $(this.firstElementChild).jqxPathControl(size);\r\n    };\r\n\r\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle) {\r\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqref = $(childElement);\r\n\r\n        jqref.find('.ni-text-field').css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqref = $(childElement);\r\n\r\n        switch (propertyName) {\r\n            case 'readOnly':\r\n                jqref.jqxPathControl({ readOnly: this.readOnly });\r\n                break;\r\n            case 'path':\r\n                if (this.isNotAPath()) {\r\n                    jqref.jqxPathControl('clear');\r\n                } else {\r\n                    jqref.jqxPathControl('val', objectToPath(this.path));\r\n                }\r\n\r\n                break;\r\n            case 'format':\r\n                jqref.jqxPathControl({ pathFormat: this.format });\r\n                break;\r\n            case 'popupEnabled':\r\n                enablePopup(this, this.popupEnabled);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-path-selector', 'HTMLNIPathSelector');\r\n}(NationalInstruments.HtmlVI.Elements.PathSelector, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// Url Image Control Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.UrlImage = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\nNationalInstruments.HtmlVI.Elements.UrlImage.StretchEnum = Object.freeze({\r\n    NONE: 'none',                     // Size at the images natural size (Size to actual image size)\r\n    UNIFORM: 'uniform',               // Stretch but maintain aspect ratio (Fit image in space)\r\n    UNIFORM_TO_FILL: 'uniformtofill', // Size respecting aspect ratio, but fill given space (Fit but maintain aspect ratio)\r\n    FILL: 'fill'                      // Size so that the image fills the space ignoring aspect ratio (Stretch to fill space)\r\n});\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var STRETCH_ENUM = NationalInstruments.HtmlVI.Elements.UrlImage.StretchEnum;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    var createImage = function (urlImageElement) {\r\n        var that = urlImageElement;\r\n\r\n        // A div element with background css is used instead of an img element because the img element does not support the different stretch modes\r\n        // but background images with css do support the different stretch modes\r\n        var childElement = document.createElement('div');\r\n        childElement.classList.add('ni-image-box');\r\n        childElement.style.width = '100%';\r\n        childElement.style.height = '100%';\r\n\r\n        if (that.source !== '') {\r\n            childElement.style.backgroundImage = 'url(' + that.source + ')';\r\n        }\r\n\r\n        // TODO mraj should validate enum value? currently assumes valid string\r\n        if (that.stretch !== '' && that.stretch !== STRETCH_ENUM.NONE) {\r\n            childElement.classList.add('ni-stretch-' + that.stretch);\r\n        }\r\n\r\n        childElement.title = that.alternate;\r\n        that.innerHTML = '';\r\n        that.appendChild(childElement);\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'source',\r\n            defaultValue: '',\r\n            isElementValueProperty: true\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'alternate',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'stretch',\r\n            defaultValue: STRETCH_ENUM.UNIFORM\r\n        });\r\n\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n\r\n        if (firstCall === true) {\r\n            createImage(this);\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n            case 'source':\r\n                createImage(this);\r\n                break;\r\n            case 'alternate':\r\n                createImage(this);\r\n                break;\r\n            case 'stretch':\r\n                createImage(this);\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-url-image', 'HTMLNIUrlImage');\r\n}(NationalInstruments.HtmlVI.Elements.UrlImage, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// Image Control Prototype\r\n// DOM Registration: Yes\r\n// National Instruments Copyright 2016\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.Image = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\nNationalInstruments.HtmlVI.Elements.Image.StretchEnum = Object.freeze({\r\n    NONE: 'none',                     // Size at the images natural size (Size to actual image size)\r\n    UNIFORM: 'uniform',               // Stretch but maintain aspect ratio (Fit image in space)\r\n    UNIFORM_TO_FILL: 'uniformtofill', // Size respecting aspect ratio, but fill given space (Fit but maintain aspect ratio)\r\n    FILL: 'fill'                      // Size so that the image fills the space ignoring aspect ratio (Stretch to fill space)\r\n});\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var STRETCH_ENUM = NationalInstruments.HtmlVI.Elements.Image.StretchEnum;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    var createImage = function (imageElement) {\r\n        var that = imageElement;\r\n\r\n        // A div element with background css is used instead of an img element because the img element does not support the different stretch modes\r\n        // but background images with css do support the different stretch modes\r\n        var childElement = document.createElement('div');\r\n        childElement.classList.add('ni-image-box');\r\n        childElement.style.width = '100%';\r\n        childElement.style.height = '100%';\r\n\r\n        if (that.source !== '') {\r\n            childElement.style.backgroundImage = 'url(data:;base64,' + that.source + ')';\r\n        }\r\n\r\n        // TODO mraj should validate enum value? currently assumes valid string\r\n        if (that.stretch !== '' && that.stretch !== STRETCH_ENUM.NONE) {\r\n            childElement.classList.add('ni-stretch-' + that.stretch);\r\n        }\r\n\r\n        that.innerHTML = '';\r\n        that.appendChild(childElement);\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'source',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'stretch',\r\n            defaultValue: STRETCH_ENUM.UNIFORM\r\n        });\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n\r\n        if (firstCall === true) {\r\n            createImage(this);\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n            case 'source':\r\n                createImage(this);\r\n                break;\r\n            case 'stretch':\r\n                createImage(this);\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-image', 'HTMLNIImage');\r\n}(NationalInstruments.HtmlVI.Elements.Image, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// Selector\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.Selector = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'source',\r\n            defaultValue: '[]'\r\n        });\r\n    };\r\n\r\n}(NationalInstruments.HtmlVI.Elements.Selector, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// DropDown Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.DropDown = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'selectedIndex',\r\n            defaultValue: -1,\r\n            fireEvent: true,\r\n            addNonSignalingProperty: true,\r\n            isElementValueProperty: true\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'popupEnabled',\r\n            defaultValue: false\r\n        });\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            widgetSettings,\r\n            childElement,\r\n            jqref,\r\n            that = this;\r\n\r\n        if (firstCall === true) {\r\n            widgetSettings = {\r\n                source: JSON.parse(this.source),\r\n                selectedIndex: this.selectedIndex,\r\n                autoDropDownHeight: true,\r\n                disabled: this.readOnly\r\n            };\r\n\r\n            childElement = document.createElement('div');\r\n            childElement.style.width = '100%';\r\n            childElement.style.height = '100%';\r\n            childElement.style.fontSize = $(this).css('font-size');\r\n            childElement.style.fontFamily = $(this).css('font-family');\r\n            childElement.style.fontWeight = $(this).css('font-weight');\r\n            childElement.style.fontStyle = $(this).css('font-style');\r\n            this.appendChild(childElement);\r\n\r\n            jqref = $(childElement);\r\n            jqref.jqxDropDownList(widgetSettings);\r\n            jqref.on('change', function (event) {\r\n                that.selectedIndex = event.args.index;\r\n            });\r\n\r\n            // TODO: gleon check with jqWidgets about this hack.\r\n            if (this.popupEnabled === false) {\r\n                jqref.on('open', function () {\r\n                    jqref.jqxDropDownList('close');\r\n                });\r\n                jqref.jqxDropDownList({animationType: 'none'});\r\n            }\r\n\r\n            // Add CSS class names\r\n            jqref.addClass('ni-expand-button');\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.forceResize = function (size) {\r\n        parent.prototype.forceResize.call(this, size);\r\n        $(this.firstElementChild).jqxDropDownList(size);\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqref = $(childElement);\r\n\r\n        switch (propertyName) {\r\n            case 'source':\r\n                jqref.jqxDropDownList({ source: JSON.parse(this.source) });\r\n                break;\r\n            case 'selectedIndex':\r\n                jqref.jqxDropDownList({ selectedIndex: this.selectedIndex });\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-drop-down', 'HTMLNIDropDown');\r\n}(NationalInstruments.HtmlVI.Elements.DropDown, NationalInstruments.HtmlVI.Elements.Selector));\r\n","//****************************************\r\n// ListBox\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.ListBox = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n// Static Public Functions\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var SELECTION_MODE_ENUM = NationalInstruments.HtmlVI.NIListBox.SelectionModeEnum;\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    var getJqxListBoxSelectedIndices = function (jqref) {\r\n        var items = jqref.jqxListBox('getSelectedItems');\r\n        if (items.length === 0 || (items.length === 1 && items[0] === undefined)) {\r\n            return [];\r\n        }\r\n\r\n        return items.map(function (obj) {\r\n            return obj.index;\r\n        });\r\n    };\r\n\r\n    var setJqxListBoxSelectedIndices = function (target, indices, updateModel) {\r\n        var i;\r\n        target._isSelecting = true;\r\n        target.jqref.jqxListBox('clearSelection');\r\n        for (i = 0; i < indices.length; i++) {\r\n            target.jqref.jqxListBox('selectIndex', indices[i]);\r\n        }\r\n\r\n        target._isSelecting = false;\r\n\r\n        if (updateModel === true) {\r\n            target.selectedIndex = JSON.stringify(indices);\r\n        }\r\n    };\r\n\r\n    var selectedIndicesMatch = function (jqref, elementSelectedIndices) {\r\n        var i, jqxIndices = getJqxListBoxSelectedIndices(jqref).sort(), parsedIndices = JSON.parse(elementSelectedIndices).sort();\r\n        if (jqxIndices.length !== parsedIndices.length) {\r\n            return false;\r\n        }\r\n\r\n        for (i = 0; i < jqxIndices.length; i++) {\r\n            if (jqxIndices[i] !== parsedIndices[i]) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'selectedIndex',\r\n            defaultValue: '[]',\r\n            fireEvent: true,\r\n            addNonSignalingProperty: true,\r\n            isElementValueProperty: true\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'selectionMode',\r\n            defaultValue: SELECTION_MODE_ENUM.ONE\r\n        });\r\n    };\r\n\r\n    proto.updateSelectionMode = function (jqref) {\r\n        var settings = {\r\n            multiple: this.selectionMode !== SELECTION_MODE_ENUM.ONE\r\n        };\r\n\r\n        jqref.jqxListBox(settings);\r\n    };\r\n\r\n    proto.coerceSelection = function (jqref) {\r\n        var selectedIndex = JSON.parse(this.selectedIndex);\r\n        var items = getJqxListBoxSelectedIndices(jqref);\r\n        var newSelection = items.filter(function (a) {\r\n            return selectedIndex.indexOf(a) === -1;\r\n        });\r\n        var revertSelection = (items.length > 1 && (this.selectionMode === SELECTION_MODE_ENUM.ONE || this.selectionMode === SELECTION_MODE_ENUM.ZERO_OR_ONE)) ||\r\n                              (items.length === 0 && (this.selectionMode === SELECTION_MODE_ENUM.ONE || this.selectionMode === SELECTION_MODE_ENUM.ONE_OR_MORE));\r\n        var firstSelectedIndex, coercedSelectedIndices, src, firstValidIndexArray;\r\n        if (revertSelection) {\r\n            src = JSON.parse(this.source);\r\n            firstValidIndexArray = Array.isArray(src) && src.length > 0 ? [0] : [];\r\n            if (newSelection.length > 0) {\r\n                firstSelectedIndex = [newSelection[0]];\r\n            } else {\r\n                firstSelectedIndex = selectedIndex.length > 0 ? [selectedIndex[0]] : [];\r\n            }\r\n\r\n            switch (this.selectionMode) {\r\n                case SELECTION_MODE_ENUM.ZERO_OR_ONE:\r\n                    coercedSelectedIndices = firstSelectedIndex;\r\n                    break;\r\n                case SELECTION_MODE_ENUM.ONE:\r\n                    coercedSelectedIndices = firstSelectedIndex.length === 1 ? firstSelectedIndex : firstValidIndexArray;\r\n                    break;\r\n                case SELECTION_MODE_ENUM.ONE_OR_MORE:\r\n                    coercedSelectedIndices = selectedIndex.length > 0 ? selectedIndex : firstValidIndexArray;\r\n                    break;\r\n            }\r\n\r\n            setJqxListBoxSelectedIndices(this, coercedSelectedIndices, true);\r\n        } else {\r\n            this.selectedIndex = JSON.stringify(items);\r\n        }\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            widgetSettings,\r\n            childElement,\r\n            that = this;\r\n\r\n        if (firstCall === true) {\r\n            widgetSettings = {};\r\n\r\n            childElement = document.createElement('div');\r\n            childElement.style.width = '100%';\r\n            childElement.style.height = '100%';\r\n            childElement.style.fontSize = $(this).css('font-size');\r\n            childElement.style.fontFamily = $(this).css('font-family');\r\n            childElement.style.fontWeight = $(this).css('font-weight');\r\n            childElement.style.fontStyle = $(this).css('font-style');\r\n            this.appendChild(childElement);\r\n\r\n            this.jqref = $(childElement);\r\n            widgetSettings.source = JSON.parse(this.source);\r\n            this.jqref.jqxListBox(widgetSettings);\r\n            setJqxListBoxSelectedIndices(this, this.selectedIndex);\r\n            this.updateSelectionMode(this.jqref);\r\n            this.jqref.on('change', function () {\r\n                if (!selectedIndicesMatch(that.jqref, that.selectedIndex) && that._isSelecting !== true) {\r\n                    that.coerceSelection(that.jqref);\r\n                }\r\n            });\r\n\r\n            // Add CSS class names\r\n            this.jqref.addClass('ni-list-box-container');\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.forceResize = function (size) {\r\n        parent.prototype.forceResize.call(this, size);\r\n        this.jqref.jqxListBox(size);\r\n    };\r\n\r\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle) {\r\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle);\r\n\r\n        this.jqref.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n            case 'source':\r\n                this.jqref.jqxListBox({ source: JSON.parse(this.source) });\r\n                break;\r\n            case 'selectedIndex':\r\n                if (!selectedIndicesMatch(this.jqref, this.selectedIndex)) {\r\n                    setJqxListBoxSelectedIndices(this, JSON.parse(this.selectedIndex));\r\n                }\r\n\r\n                break;\r\n            case 'selectionMode':\r\n                this.updateSelectionMode(this.jqref);\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-list-box', 'HTMLNIListBox');\r\n}(NationalInstruments.HtmlVI.Elements.ListBox, NationalInstruments.HtmlVI.Elements.Selector));\r\n","//**************************************\r\n//Cluster Control Prototype\r\n// DOM Registration: No\r\n//National Instruments Copyright 2014\r\n//**************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.Cluster = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var NI_VAL_CONVERTER = NationalInstruments.HtmlVI.ValueConverters.ElementValueConverter;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'value',\r\n            defaultValue: '{}',\r\n            fireEvent: true,\r\n            addNonSignalingProperty: true,\r\n            preventAttributeSync: true,\r\n            isElementValueProperty: true\r\n        });\r\n    };\r\n\r\n    proto.makeValueObj = function () {\r\n        var i;\r\n        var valueObj = {};\r\n        for (i = 0; i < this.childNodes.length; i++) {\r\n            if (this.childNodes[i] instanceof NationalInstruments.HtmlVI.Elements.VisualComponent === true && this.childNodes[i].tagName !== 'NI-LABEL' && this.childNodes[i].elementInfo.valuePropertyDescriptor !== undefined) {\r\n                var propertyName = this.childNodes[i].elementInfo.valuePropertyDescriptor.propertyName;\r\n                valueObj[this.childNodes[i].dataLabel] = this.getValue(this.childNodes[i], propertyName);\r\n            }\r\n        }\r\n\r\n        return valueObj;\r\n    };\r\n\r\n    proto.childChanged = function (evt) {\r\n        if (evt.srcElement === evt.target && this._childValueChanging === false) {\r\n            var valueObj = this.makeValueObj();\r\n            this._childValueChanging = true;\r\n            this.value = JSON.stringify(valueObj);\r\n            this._childValueChanging = false;\r\n        }\r\n    };\r\n\r\n    proto.addPropertyToValue = function (name, value) {\r\n        var valueObj = JSON.parse(this.value);\r\n        valueObj[name] = value;\r\n        this.valueNonSignaling = JSON.stringify(valueObj);\r\n    };\r\n\r\n    proto.removePropertyFromValue = function (name) {\r\n        var valueObj = JSON.parse(this.value);\r\n        delete valueObj[name];\r\n        this.valueNonSignaling = JSON.stringify(valueObj);\r\n    };\r\n\r\n    proto.changePropertyNameInValue = function (oldName, newName) {\r\n        var valueObj = JSON.parse(this.value);\r\n        var temp = valueObj[oldName];\r\n        delete valueObj[oldName];\r\n        valueObj[newName] = temp;\r\n        this.valueNonSignaling = JSON.stringify(valueObj);\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        // Private Instance Properties\r\n        this._childValueChanging = false;\r\n        this._mutationObserver = null;\r\n        this._mutationLabelObserver = null;\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n        var that = this, i;\r\n        var callChildChanged = function (evt) {\r\n            that.childChanged(evt);\r\n        };\r\n\r\n        if (firstCall) {\r\n            this._mutationObserver = new window.MutationObserver(function (mutations) {\r\n                mutations.forEach(function (m) {\r\n                    if (m.type === 'childList') {\r\n                        if (m.target === that) {\r\n                            if (m.addedNodes.length > 0) {\r\n                                for (i = 0; i < m.addedNodes.length; i++) {\r\n                                    if (m.addedNodes[i] instanceof NationalInstruments.HtmlVI.Elements.VisualComponent === true && m.addedNodes[i].tagName === 'NI-LABEL') {\r\n                                        that.applyLabel(m.addedNodes[i]);\r\n                                    }\r\n                                }\r\n                            } else if (m.removedNodes.length > 0) {\r\n                                for (i = 0; i < m.removedNodes.length; i++) {\r\n                                    var removed = m.removedNodes[i];\r\n                                    if (removed instanceof NationalInstruments.HtmlVI.Elements.VisualComponent === true && removed.tagName !== 'NI-LABEL' && removed.elementInfo.valuePropertyDescriptor !== undefined) {\r\n                                        var eventName = removed.elementInfo.valuePropertyDescriptor.eventName;\r\n                                        removed.removeEventListener(eventName, callChildChanged);\r\n                                        that.removePropertyFromValue(removed.dataLabel);\r\n                                    } else if (removed instanceof NationalInstruments.HtmlVI.Elements.VisualComponent === true && removed.tagName === 'NI-LABEL') {\r\n                                        if (removed.textMutationObserver !== null) {\r\n                                            if (typeof removed.textMutationObserver.disconnect === 'function') {\r\n                                                removed.textMutationObserver.disconnect();\r\n                                            }\r\n\r\n                                            removed.textMutationObserver = null;\r\n                                        }\r\n                                    }\r\n\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            });\r\n\r\n            if (this._mutationObserver.observe !== undefined) {\r\n                this._mutationObserver.observe(this, { childList: true, attributes: false, subtree: false });\r\n            }\r\n\r\n            for (i = 0; i < this.childNodes.length; i++) {\r\n                var child = this.childNodes[i];\r\n                if (child instanceof NationalInstruments.HtmlVI.Elements.VisualComponent === true && child.tagName === 'NI-LABEL') {\r\n                    that.applyLabel(child);\r\n                }\r\n            }\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.detachedCallback = function () {\r\n        var i;\r\n        parent.prototype.detachedCallback.call(this);\r\n\r\n        if (this._mutationObserver !== null) {\r\n            if (typeof this._mutationObserver.disconnect === 'function') {\r\n                this._mutationObserver.disconnect();\r\n            }\r\n\r\n            this._mutationObserver = null;\r\n        }\r\n\r\n        for (i = 0; i < this.childNodes.length; i++) {\r\n            var child = this.childNodes[i];\r\n            if (child instanceof NationalInstruments.HtmlVI.Elements.VisualComponent === true && child.tagName === 'NI-LABEL') {\r\n                if (child.textMutationObserver !== null) {\r\n                    if (typeof child.textMutationObserver.disconnect === 'function') {\r\n                        child.textMutationObserver.disconnect();\r\n                    }\r\n\r\n                    child.textMutationObserver = null;\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n            case 'value':\r\n                if (this.value !== '{}' && this._childValueChanging === false) {\r\n                    this.updateChildValues();\r\n                }\r\n\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.updateChildValues = function () {\r\n        var i = 0;\r\n        var valueObj = JSON.parse(this.value);\r\n        for (i = 0; i < this.childNodes.length; i++) {\r\n            var child = this.childNodes[i];\r\n            if (child instanceof NationalInstruments.HtmlVI.Elements.VisualComponent === true && child.tagName !== 'NI-LABEL' && child.elementInfo.valuePropertyDescriptor !== undefined) {\r\n                var descriptor = child.elementInfo.valuePropertyDescriptor.propertyName;\r\n                if (valueObj[child.dataLabel] !== undefined) {\r\n                    this._childValueChanging = true;\r\n                    this.setValue(child, descriptor, valueObj[child.dataLabel]);\r\n                    this._childValueChanging = false;\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.applyLabel = function (label) {\r\n        var that = this;\r\n        if (label.text !== '') {\r\n            this.updateLabel(label, null);\r\n        }\r\n\r\n        if (label.textMutationObserver === undefined) {\r\n            label.textMutationObserver = new window.MutationObserver(function (mutations) {\r\n                mutations.forEach(function (m) {\r\n                    if (m.type === 'attributes') {\r\n                        if (m.target === label && m.attributeName === 'text') {\r\n                            that.updateLabel(label, m.oldValue);\r\n                        }\r\n                    }\r\n                });\r\n            });\r\n\r\n            if (label.textMutationObserver.observe !== undefined) {\r\n                label.textMutationObserver.observe(label, { childList: false, attributes: true, subtree: false });\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.updateLabel = function (label, oldValue) {\r\n        var text = label.text;\r\n        var controlId = label.niControlId;\r\n        var i;\r\n        var that = this;\r\n        var callChildChanged = function (evt) {\r\n            that.childChanged(evt);\r\n        };\r\n\r\n        for (i = 0; i < this.childNodes.length; i++) {\r\n            var child = this.childNodes[i];\r\n            if (child.labelId === controlId) {\r\n                child.dataLabel = text;\r\n                if (child.elementInfo.valuePropertyDescriptor !== undefined) {\r\n                    var propertyName = child.elementInfo.valuePropertyDescriptor.propertyName;\r\n                    var eventName = child.elementInfo.valuePropertyDescriptor.eventName;\r\n                    if (oldValue === null) {\r\n                        this.addPropertyToValue(text, this.getValue(child, propertyName));\r\n                    } else {\r\n                        this.changePropertyNameInValue(oldValue, text);\r\n                    }\r\n\r\n                    if (child.dataEventListenerAdded === undefined) {\r\n                        child.addEventListener(eventName, callChildChanged);\r\n                        child.dataEventListenerAdded = true;\r\n                    }\r\n                }\r\n\r\n                break;\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.getValue = function (element, propertyName) {\r\n        var value = element[propertyName],\r\n            convertedValue = NI_VAL_CONVERTER.ConvertBack(element, value);\r\n        return convertedValue;\r\n    };\r\n\r\n    proto.setValue = function (element, propertyName, value) {\r\n        var convertedValue = NI_VAL_CONVERTER.Convert(element, value);\r\n        element[propertyName] = convertedValue;\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-cluster', 'HTMLNICluster');\r\n}(NationalInstruments.HtmlVI.Elements.Cluster, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//**************************************\r\n// ArrayViewer Control Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2014\r\n//**************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.ArrayViewer = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var NI_VAL_CONVERTER = NationalInstruments.HtmlVI.ValueConverters.ElementValueConverter;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    var CSS_PROPERTIES = ['fontSize', 'fontFamily', 'fontWeight', 'fontStyle', 'width', 'height', 'left', 'top'];\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Gets a CSS selector for an NI visual. Note: The selector will only represent this element, it won't\r\n    // walk up the DOM hierarchy. To get a complete selector (that can represent a control in an array in a cluster\r\n    // in an array, for example), use getFullCssSelectorForNIVisual.\r\n    var getCssSelectorForNIVisual = function (element, isInArrayTemplate, isLastElement) {\r\n        var selector = element.tagName, parent = element.parentElement, i, n, curNode;\r\n        if (parent instanceof NationalInstruments.HtmlVI.Elements.Cluster) {\r\n            n = 1;\r\n            for (i = 0; i < parent.childNodes.length; i++) {\r\n                curNode = parent.childNodes[i];\r\n                if (curNode === element) {\r\n                    break;\r\n                } else if (curNode.tagName === element.tagName) {\r\n                    n++;\r\n                }\r\n            }\r\n\r\n            selector = selector + ':nth-of-type(' + n + ')';\r\n        }\r\n\r\n        if (!isInArrayTemplate && element.niControlId !== undefined) {\r\n            selector = selector + '[ni-control-id=\\'' + element.niControlId + '\\']';\r\n        }\r\n\r\n        if (element instanceof NationalInstruments.HtmlVI.Elements.ArrayViewer && isLastElement !== true) {\r\n            if (isInArrayTemplate) {\r\n                selector = selector + ' > div > div > div > div > table > tbody > tr > td > div.jqx-array-element';\r\n            } else {\r\n                selector = selector + ' div.jqx-array-element-' + element.childElement.id;\r\n            }\r\n        }\r\n\r\n        return selector;\r\n    };\r\n\r\n    // Gets a full CSS selector for an NI Visual inside an array.\r\n    // Note: The input arrayViewer should be the outermost / root one, for array-in-array\r\n    // scenarios.\r\n    var getFullCssSelectorForNIVisual = function (arrayViewer, targetElement) {\r\n        var targetAndDescendants = [], curNode = targetElement;\r\n        var selector;\r\n\r\n        while (curNode !== arrayViewer && curNode !== null) {\r\n            targetAndDescendants.push(curNode);\r\n            curNode = curNode.parentElement;\r\n        }\r\n\r\n        if (curNode === null) {\r\n            return null;\r\n        }\r\n\r\n        selector = getCssSelectorForNIVisual(arrayViewer, false, targetAndDescendants.length === 0);\r\n\r\n        while (targetAndDescendants.length > 0) {\r\n            curNode = targetAndDescendants.pop();\r\n            selector = selector.concat(' > ', getCssSelectorForNIVisual(curNode, true, targetAndDescendants.length === 0));\r\n        }\r\n\r\n        return selector;\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'value',\r\n            defaultValue: '[]',\r\n            addNonSignalingProperty: true,\r\n            preventAttributeSync: true,\r\n            isElementValueProperty: true\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'dimensions',\r\n            defaultValue: 1\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'orientation',\r\n            defaultValue: 'horizontal'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'indexEditorWidth',\r\n            defaultValue: 46\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'indexVisibility',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'verticalScrollbarVisibility',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'horizontalScrollbarVisibility',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'focusedCell',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'rowsAndColumns',\r\n            defaultValue: '1,1'\r\n        });\r\n    };\r\n\r\n    proto.getFullCssSelectorForNIVisual = function (targetElement) {\r\n        return getFullCssSelectorForNIVisual(this, targetElement);\r\n    };\r\n\r\n    proto.arrayElementSizeChanged = function (elementSize) {\r\n        var controls, i, niControl, cssWidth, cssHeight;\r\n        var width = elementSize.width;\r\n        var height = elementSize.height;\r\n\r\n        if (width === this._elementWidth && height === this._elementHeight) {\r\n            return;\r\n        }\r\n\r\n        this._elementWidth = width;\r\n        this._elementHeight = height;\r\n\r\n        cssWidth = width + 'px';\r\n        cssHeight = height + 'px';\r\n\r\n        this.nodeCss[this.templateControl.niControlId].width = cssWidth;\r\n        this.nodeCss[this.templateControl.niControlId].height = cssHeight;\r\n\r\n        $(this.childElement).jqxArray('resizeElement', width, height);\r\n\r\n        controls = document.querySelectorAll(getCssSelectorForNIVisual(this, false));\r\n        for (i = 0; i < controls.length; i++) {\r\n            niControl = controls[i].firstElementChild;\r\n            niControl.style.width = cssWidth;\r\n            niControl.style.height = cssHeight;\r\n        }\r\n    };\r\n\r\n    proto.setArrayValue = function (val) {\r\n        if (this._settingArrayValue === true) {\r\n            return;\r\n        }\r\n\r\n        this._settingArrayValue = true;\r\n        // When array becomes type=none, code gets triggered to set the value to null. But ni-array-viewer defaults to [] instead,\r\n        // so we use that. The jqxArray has some issues if it has a type set but a value of null (possible because when we reinitialize\r\n        // it, if arrayValue=null then, we'd change the jqxArray value to null too)\r\n        this.arrayValue = val !== null ? val : [];\r\n\r\n        if (this._userUpdate) {\r\n            this.dispatchEvent(new CustomEvent('value-changed', {\r\n                bubbles: true,\r\n                cancelable: false,\r\n                detail: { value: val }\r\n            }));\r\n        } else if (this.childElement !== null) {\r\n            $(this.childElement).jqxArray({ value: this.arrayValue });\r\n        }\r\n\r\n        this._settingArrayValue = false;\r\n    };\r\n\r\n    proto.getArrayValue = function () {\r\n        return this.arrayValue;\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        var that = this;\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        // Public Instance Properties\r\n        this.childElement = null;\r\n        this.arrayValue = JSON.parse(this.value);\r\n        this.nodeCss = {};\r\n        this.templateControl = null;\r\n        this.mutationObserver = null;\r\n        this.attributeMutationObserver = null;\r\n        Object.defineProperty(this, 'elementSize', {\r\n            configurable: false,\r\n            enumerable: true,\r\n            get: function () {\r\n                return { width: this._elementWidth, height: this._elementHeight };\r\n            },\r\n            set: function (value) {\r\n                that.arrayElementSizeChanged(value);\r\n            }\r\n        });\r\n        this.rows = 1;\r\n        this.columns = 1;\r\n        // Private Instance Properties\r\n        this._userUpdate = false;\r\n        this._settingArrayValue = false;\r\n        this._useAttributeMutationObserver = true;\r\n        this._elementWidth = 0;\r\n        this._elementHeight = 0;\r\n        this._nodeLabelMap = [];\r\n    };\r\n\r\n    proto.clearArrayType = function (wasInitialized) {\r\n        if (wasInitialized) {\r\n            // We'll set size separately (the editor computes it, and it'll come here via forceResize)\r\n            $(this.childElement).jqxArray({\r\n                type: 'none',\r\n                dimensions: this.dimensions,\r\n                indexerWidth: this.indexEditorWidth,\r\n                showIndexDisplay: this.indexVisibility\r\n            });\r\n        } else {\r\n            $(this.childElement).jqxArray({\r\n                width : this.style.width,\r\n                height : this.style.height,\r\n                type: 'none',\r\n                dimensions: this.dimensions,\r\n                indexerWidth: this.indexEditorWidth,\r\n                showIndexDisplay: this.indexVisibility\r\n            });\r\n        }\r\n    };\r\n\r\n    proto.forceResize = function (size) {\r\n        parent.prototype.forceResize.call(this, size);\r\n        if (this.templateControl === null) {\r\n            $(this.childElement).jqxArray({\r\n                width: size.width + 'px',\r\n                height: size.height + 'px'\r\n            });\r\n        }\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n\r\n        if (firstCall) {\r\n            var node = null, i;\r\n            var that = this;\r\n\r\n            this.parseRowsAndColumns();\r\n\r\n            for (i = 0; i < this.childNodes.length; i++) {\r\n                if (this.childNodes[i].tagName !== 'NI-LABEL') {\r\n                    node = this.childNodes[i];\r\n                    break;\r\n                }\r\n            }\r\n\r\n            this.childElement = document.createElement('div');\r\n            this.appendChild(this.childElement);\r\n            if (node !== null) {\r\n                if (node instanceof NationalInstruments.HtmlVI.Elements.VisualComponent && $(node).width() > 0 && $(node).height() > 0) {\r\n                    this.createArray(node);\r\n                } else {\r\n                    window.requestAnimationFrame(function () {\r\n                        that.createArray(node);\r\n                    });\r\n                }\r\n            } else {\r\n                this.clearArrayType(false);\r\n            }\r\n\r\n            var mutationObserver = new window.MutationObserver(function (mutations) {\r\n                mutations.forEach(function (m) {\r\n                    if (m.type === 'childList') {\r\n                        if (m.target === that) {\r\n                            mutationObserver.disconnect();\r\n                            if (m.addedNodes.length === 1 && m.addedNodes[0] instanceof NationalInstruments.HtmlVI.Elements.VisualComponent === true && m.addedNodes[0].tagName !== 'NI-LABEL') { // can only accept one child\r\n                                node = m.addedNodes[0];\r\n                                $(node).addClass('array-template');\r\n                                that.createArray(node);\r\n                            } else if (m.removedNodes.length > 0 && m.removedNodes[0] instanceof NationalInstruments.HtmlVI.Elements.VisualComponent === true) {\r\n                                that.templateControl = null;\r\n                                that.clearArrayType(true);\r\n                            }\r\n\r\n                            if (mutationObserver.observe !== undefined) {\r\n                                mutationObserver.observe(that, { childList: true, attributes: false, subtree: false });\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            });\r\n\r\n            if (mutationObserver.observe !== undefined) {\r\n                mutationObserver.observe(this, { childList: true, attributes: false, subtree: false });\r\n            }\r\n\r\n            this.mutationObserver = mutationObserver;\r\n\r\n            $(this.childElement).on('change', function () {\r\n                that._userUpdate = true;\r\n                that.setArrayValue($(that.childElement).val());\r\n                that._userUpdate = false;\r\n            });\r\n            $(this.childElement).on('scroll', function () {\r\n                var indices = $(that.childElement).jqxArray('getIndexerValue');\r\n                var eventConfig = {\r\n                    bubbles: true,\r\n                    cancelable: true,\r\n                    detail: {\r\n                        indices: indices,\r\n                        originalSource: this.childElement\r\n                    }\r\n                };\r\n                that.dispatchEvent(new CustomEvent('scroll-changed', eventConfig));\r\n            });\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.detachedCallback = function () {\r\n        parent.prototype.detachedCallback.call(this);\r\n\r\n        if (this.mutationObserver !== null) {\r\n            if (typeof this.mutationObserver.disconnect === 'function') {\r\n                this.mutationObserver.disconnect();\r\n            }\r\n\r\n            this.mutationObserver = null;\r\n        }\r\n\r\n        this.templateControl = null;\r\n    };\r\n\r\n    proto.updateFromTemplate = function (control, node, updatePosition) {\r\n        var i, j, nodeCss;\r\n        control.niControlId = NI_SUPPORT.uniqueId();\r\n        control._preventModelCreation = true;\r\n        control.visible = true;\r\n        nodeCss = this.nodeCss[node.niControlId];\r\n        if (nodeCss === undefined) {\r\n            nodeCss = $(node).css(CSS_PROPERTIES);\r\n            this.nodeCss[node.niControlId] = nodeCss;\r\n        }\r\n\r\n        control.style.width = nodeCss.width;\r\n        control.style.height = nodeCss.height;\r\n        control.style.display = 'inline-block';\r\n        if (updatePosition) {\r\n            control.style.left = nodeCss.left;\r\n            control.style.top = nodeCss.top;\r\n        } else {\r\n            control.style.left = '';\r\n            control.style.top = '';\r\n        }\r\n\r\n        control.style.fontSize = nodeCss.fontSize;\r\n        control.style.fontFamily = nodeCss.fontFamily;\r\n        control.style.fontWeight = nodeCss.fontWeight;\r\n        control.style.fontStyle = nodeCss.fontStyle;\r\n        j = 0;\r\n        for (i = 0; i < node.childNodes.length; i++) {\r\n            if (node.childNodes[i] instanceof NationalInstruments.HtmlVI.Elements.VisualComponent === true && control.childNodes[j] !== undefined) {\r\n                this.updateFromTemplate(control.childNodes[j], node.childNodes[i], true);\r\n\r\n                if (node.childNodes[i].tagName === 'NI-LABEL') {\r\n                    this._nodeLabelMap[node.childNodes[i].niControlId] = control.childNodes[j].niControlId;\r\n                }\r\n\r\n                j++;\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.updateLabelIds = function (node) {\r\n        var i, label;\r\n        if (node instanceof NationalInstruments.HtmlVI.Elements.VisualComponent === false) {\r\n            return null;\r\n        }\r\n\r\n        for (i = 0; i < node.childNodes.length; i++) {\r\n            if (node.childNodes[i].tagName !== 'NI-LABEL') {\r\n                label = this._nodeLabelMap[node.childNodes[i].labelId];\r\n                if (label === undefined) { // This can be unset when we recurse into an array viewer - its template element doesn't have a label\r\n                    label = '';\r\n                }\r\n\r\n                node.childNodes[i].labelId = label;\r\n                this.updateLabelIds(node.childNodes[i]);\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.copyNIElement = function (node) {\r\n        if (node instanceof NationalInstruments.HtmlVI.Elements.VisualComponent === false) {\r\n            return null;\r\n        }\r\n\r\n        var newNode = node.cloneNode(false);\r\n        // niTemplate should always be a 'real' / original niControlId (a number). This allows us to look up\r\n        // the real / original template control from all of our copies (for array elements and nested arrays).\r\n        newNode._niTemplateId = node._niTemplateId !== undefined ? node._niTemplateId : node.niControlId;\r\n        if (node.childNodes.length > 0) {\r\n            for (var i = 0; i < node.childNodes.length; i++) {\r\n                var childNode = this.copyNIElement(node.childNodes[i]);\r\n                if (childNode !== null) {\r\n                    newNode.appendChild(childNode);\r\n                }\r\n            }\r\n        }\r\n\r\n        return newNode;\r\n    };\r\n\r\n    proto.updateTemplateCss = function (templateDescendant) {\r\n        var curNodeCss = $(templateDescendant).css(CSS_PROPERTIES);\r\n        this.nodeCss[templateDescendant.niControlId] = curNodeCss;\r\n    };\r\n\r\n    proto.recreateCells = function (fullRefresh) {\r\n        var r, c, cell, that = this;\r\n\r\n        var recreateCell = function (r, c) {\r\n            var val, cellSelector;\r\n            cell = $(that.childElement).jqxArray('getElement', r, c);\r\n            if (cell !== null && cell !== undefined) {\r\n                cellSelector = $(cell);\r\n                val = $(that.childElement).jqxArray('getElementValue', cellSelector, { x: c, y: r });\r\n                while (cell.hasChildNodes()) {\r\n                    cell.removeChild(cell.lastChild);\r\n                }\r\n\r\n                $(that.childElement).jqxArray('elementTemplate', cellSelector);\r\n                $(that.childElement).jqxArray('setElementValue', val, cellSelector, { x: c, y: r });\r\n            }\r\n        };\r\n\r\n        if (fullRefresh) {\r\n            for (r = 0; r < this.rows; r++) {\r\n                for (c = 0; c < this.columns; c++) {\r\n                    recreateCell(r, c);\r\n                }\r\n            }\r\n        } else if (this._focusedColumn !== undefined && this._focusedRow !== undefined) {\r\n            recreateCell(this._focusedRow, this._focusedColumn);\r\n        }\r\n\r\n        window.requestAnimationFrame(function () {\r\n            that.updateFocusedCell();\r\n        });\r\n    };\r\n\r\n    proto.setDefaultValue = function (modelValue) {\r\n        $(this.childElement).jqxArray('setDefaultValue', modelValue);\r\n    };\r\n\r\n    proto.createArray = function (node) {\r\n        var that = this;\r\n        var elementInfo = node.elementInfo;\r\n        var propertyName = elementInfo.valuePropertyDescriptor.propertyName;\r\n        var eventName = elementInfo.valuePropertyDescriptor.eventName;\r\n        var nonSignalingPropertyName = elementInfo.valuePropertyDescriptor.propertyNameNonSignaling;\r\n        var defaultValue = node[propertyName];\r\n        var curNodeCss;\r\n        node.style.left = '0px';\r\n        node.style.top = '0px';\r\n        node.style.display = 'none';\r\n\r\n        node.labelId = '';\r\n        this.templateControl = node;\r\n\r\n        if (defaultValue !== undefined) {\r\n            defaultValue = NI_VAL_CONVERTER.ConvertBack(node, defaultValue);\r\n        }\r\n\r\n        this.nodeCss = {};\r\n        curNodeCss = $(node).css(CSS_PROPERTIES);\r\n        this.nodeCss[node.niControlId] = curNodeCss;\r\n\r\n        this._elementWidth = parseInt(curNodeCss.width);\r\n        this._elementHeight = parseInt(curNodeCss.height);\r\n\r\n        $(this.childElement).jqxArray({\r\n            elementWidth: this._elementWidth,\r\n            elementHeight: this._elementHeight,\r\n            elementTemplate: function (div) {\r\n                that._nodeLabelMap = [];\r\n                var control = that.copyNIElement(node);\r\n                var divElement = div[0];\r\n                var curNodeCss = that.nodeCss[node.niControlId];\r\n                that.updateFromTemplate(control, node, false);\r\n                that.updateLabelIds(control);\r\n                divElement.style.width = curNodeCss.width;\r\n                divElement.style.height = curNodeCss.height;\r\n                divElement.appendChild(control);\r\n                $(control).on(eventName, function (event) {\r\n                    if (event.originalEvent.srcElement === control && event.originalEvent.srcElement === event.originalEvent.target) {\r\n                        if (!div.supressChange) {\r\n                            div.trigger('change');\r\n                        }\r\n                    }\r\n                });\r\n            },\r\n            changeProperty: function (property, value, widgets) {\r\n                if (property === 'width') {\r\n                    widgets.css({ width: value });\r\n                } else if (property === 'height') {\r\n                    widgets.css({ height: value });\r\n                } else if (property === 'disabled') {\r\n                    widgets.css({ disabled: value });\r\n                }\r\n            },\r\n            getElementValue: function (div, dimensions) {\r\n                // jshint unused:vars\r\n                var element = div[0].firstElementChild;\r\n                var val = element[propertyName];\r\n                if (val !== undefined) {\r\n                    return NI_VAL_CONVERTER.ConvertBack(element, val);\r\n                }\r\n\r\n                return val;\r\n            },\r\n            setElementValue: function (value, div, dimensions) {\r\n                // jshint unused:vars\r\n                if (value !== undefined) {\r\n                    var element = div[0].firstElementChild;\r\n                    element[nonSignalingPropertyName] = NI_VAL_CONVERTER.Convert(element, value);\r\n                }\r\n            },\r\n            type: 'custom',\r\n            dimensions: this.dimensions,\r\n            indexerWidth: this.indexEditorWidth,\r\n            showIndexDisplay: this.indexVisibility,\r\n            showHorizontalScrollbar: this.horizontalScrollbarVisibility,\r\n            showVerticalScrollbar: this.verticalScrollbarVisibility,\r\n            customWidgetDefaultValue: defaultValue,\r\n            value: that.arrayValue\r\n        });\r\n        // TODO : We'd like to be able to send rows and columns in the same\r\n        // jqxArray statement as above. However, this causes issues when you have\r\n        // an initialized array (with > 1 rows or columns), delete the array element,\r\n        // then undo (there's extra cells rendered that shouldn't be there).\r\n        $(this.childElement).jqxArray({\r\n            rows: this.rows,\r\n            columns: this.columns\r\n        });\r\n\r\n        // Adding CSS class names\r\n        var jqref = $(this.childElement);\r\n        jqref.addClass('ni-array-viewer-box');\r\n        jqref.find(' .jqx-array-indexer').addClass('ni-indexer-box');\r\n        jqref.find(' .jqx-input-content').addClass('ni-text-field');\r\n        jqref.find(' .jqx-input.jqx-rc-r').addClass('ni-spins-box');\r\n        jqref.find(' .jqx-action-button').addClass('ni-spin-button');\r\n        jqref.find(' .jqx-icon-arrow-up').addClass('ni-increment-icon');\r\n        jqref.find(' .jqx-icon-arrow-down').addClass('ni-decrement-icon');\r\n\r\n        this.updateFocusedCell();\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n            case 'dimensions':\r\n                $(this.childElement).jqxArray({ dimensions: this.dimensions, rows: this.rows, columns: this.columns });\r\n                break;\r\n            case 'indexEditorWidth':\r\n                $(this.childElement).jqxArray({ indexerWidth: this.indexEditorWidth });\r\n                break;\r\n            case 'indexVisibility':\r\n                $(this.childElement).jqxArray({ showIndexDisplay: this.indexVisibility });\r\n                break;\r\n            case 'verticalScrollbarVisibility':\r\n                $(this.childElement).jqxArray({ showVerticalScrollbar: this.verticalScrollbarVisibility });\r\n                break;\r\n            case 'horizontalScrollbarVisibility':\r\n                $(this.childElement).jqxArray({ showHorizontalScrollbar: this.horizontalScrollbarVisibility });\r\n                break;\r\n            case 'orientation':\r\n                break;\r\n            case 'focusedCell':\r\n                this.updateFocusedCell();\r\n                break;\r\n            case 'rowsAndColumns':\r\n                this.updateRowsAndColumns();\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.updateFocusedCell = function () {\r\n        var indices, i, curCell, matches, templateMatch, r, c;\r\n\r\n        if (this.templateControl === null) {\r\n            return;\r\n        }\r\n\r\n        if (typeof this.focusedCell === 'string' && this.focusedCell.length > 0) {\r\n            indices = this.focusedCell.split(',');\r\n            if (indices.length === 2) {\r\n                r = parseInt(indices[0]);\r\n                c = parseInt(indices[1]);\r\n                this._focusedRow = r;\r\n                this._focusedColumn = c;\r\n\r\n                curCell = $(this.childElement).jqxArray('getElement', r, c);\r\n                if (curCell === undefined || curCell === null) {\r\n                    // We can get a focused cell index from C# that hasn't yet been created. In this case, we'll do the code below later\r\n                    // (updateRowsAndColumns also triggers this)\r\n                    return;\r\n                }\r\n\r\n                matches = curCell.querySelectorAll('[ni-control-id]');\r\n                for (i = 0; i < matches.length; i++) {\r\n                    if (matches[i]._niTemplateId !== undefined) {\r\n                        templateMatch = document.querySelector('[ni-control-id=\\'' + matches[i]._niTemplateId + '\\']');\r\n                        if (templateMatch !== null) {\r\n                            templateMatch._niFocusedCloneId = matches[i].niControlId;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                return;\r\n            }\r\n        }\r\n\r\n        this._focusedRow = undefined;\r\n        this._focusedColumn = undefined;\r\n        matches = Array.prototype.slice.call(this.templateControl.querySelectorAll('[ni-control-id]'));\r\n        matches.push(this.templateControl);\r\n        for (i = 0; i < matches.length; i++) {\r\n            matches[i]._niFocusedCloneId = undefined;\r\n        }\r\n    };\r\n\r\n    proto.parseRowsAndColumns = function () {\r\n        var indices;\r\n        if (typeof this.rowsAndColumns === 'string' && this.rowsAndColumns.length > 0) {\r\n            indices = this.rowsAndColumns.split(',');\r\n            if (indices.length === 2) {\r\n                this.rows = parseInt(indices[0]);\r\n                this.columns = parseInt(indices[1]);\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.updateRowsAndColumns = function () {\r\n        var oldRows, oldColumns;\r\n\r\n        this.parseRowsAndColumns();\r\n\r\n        // We can get a rows and columns update when we don't have an array element (if you undo the delete of an array element, there'll be separate\r\n        // messages: first to put back the old rows and columns value, then to put back the array element. So don't update the jqxArray if we don't\r\n        // have an array element (createArray will also set rows and columns).\r\n        if (this.templateControl === null) {\r\n            return;\r\n        }\r\n\r\n        oldRows = $(this.childElement).jqxArray('rows');\r\n        oldColumns = $(this.childElement).jqxArray('columns');\r\n\r\n        if (this.rows !== oldRows || this.columns !== oldColumns) {\r\n            if ($(this.childElement).val() === null) {\r\n                // Nested arrays can end up with a null value, triggering an error in the jqxArray when you resize that nested array.\r\n                // TODO : Track down why this happens\r\n                $(this.childElement).jqxArray({ value: [] });\r\n            }\r\n\r\n            $(this.childElement).jqxArray({ rows: this.rows, columns: this.columns });\r\n        }\r\n\r\n        this.updateFocusedCell();\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-array-viewer', 'HTMLNIArrayViewer');\r\n}(NationalInstruments.HtmlVI.Elements.ArrayViewer, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// Data Grid\r\n// DOM Registration: No\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.DataGrid = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NUM_HELPER = NationalInstruments.HtmlVI.NINumerics.Helpers;\r\n    var NUM_VAL_CONVERTER = NationalInstruments.HtmlVI.ValueConverters.NumericValueConverter;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Properties\r\n    var DEFAULT_ROW_HEIGHT = 22;\r\n    var ID_DATAFIELD = '_id'; // The column datafield name for the 'id' column that shows the row index\r\n    var STRING_TEMPLATE_TYPE = 'NI-STRING-CONTROL';\r\n    var NUMERIC_TEMPLATE_TYPE = 'NI-NUMERIC-TEXT-BOX';\r\n    var CHECKBOX_TEMPLATE_TYPE = 'NI-CHECK-BOX';\r\n    var LED_TEMPLATE_TYPE = 'NI-BOOLEAN-LED';\r\n    var SLIDER_TEMPLATE_TYPE = 'NI-SLIDER';\r\n    var PROGRESSBAR_TEMPLATE_TYPE = 'NI-LINEAR-PROGRESS-BAR';\r\n    var DROPDOWN_TEMPLATE_TYPE = 'NI-DROP-DOWN';\r\n    var JQX_MATH = new $.jqx.math();\r\n\r\n    // Static Private Functions\r\n\r\n    // Utility\r\n    var getFalseValue = function () {\r\n        return false;\r\n    };\r\n\r\n    var getElementHeight = function (elementSelector) {\r\n        if (elementSelector.length > 0) {\r\n            var element = elementSelector[0];\r\n            if (element.style.display !== 'none' && element.style.visibility !== 'hidden') {\r\n                return element.offsetHeight;\r\n            }\r\n        }\r\n\r\n        return 0;\r\n    };\r\n\r\n    var getAltRowSettings = function (start, step) {\r\n        // We want Alt Start Index (the property that this element defines) to mean that the row at that index is the first\r\n        // one in the alt color. The jqxGrid defines it differently (if rowindex > altstart && ((altstart + i) % (1 + altstep) == 0)).\r\n        // We want (i - altstart) % (1 + altstep) == 0.\r\n        // So basically we'd just need to negate startIndex, except that would mean the first colored row starts too early. So we add to that\r\n        // based on multiples of the step size.\r\n        var altstart = -start + Math.floor(2 * start / (step + 1)) * (step + 1);\r\n        return {\r\n            altstep: step,\r\n            altstart: altstart\r\n        };\r\n    };\r\n\r\n    // Column Widgets\r\n    var initJqxColumnWidget = function (dataGrid, row, column, value, cellElement) {\r\n        var rowindex = (typeof row === 'number') ? row : row.visibleindex;\r\n        var datafield = (typeof column === 'string') ? column : column.datafield;\r\n        var niElement = cellElement.firstElementChild;\r\n        niElement._dataGridRow = rowindex;\r\n        niElement._dataGridColumn = datafield;\r\n        columnTypeHelpers[niElement.nodeName].setWidgetValue(niElement, value);\r\n    };\r\n\r\n    var createJqxColumnWidget = function (dataGrid, row, column, value, cellElement) {\r\n        if (!cellElement.firstElementChild) {\r\n            // Sometimes when the jqxGrid calls this, row and column are jqxGridRow and jqxGridColumns.\r\n            // So, if we don't get in a primitive value for those parameters, we assume we need to look\r\n            // up thw row and column indices via a property on those objects.\r\n            var rowIndex = (typeof row === 'number') ? row : row.visibleindex;\r\n            var columnIndex = (typeof column === 'string') ? column : column.datafield;\r\n            var niColumn = dataGrid.columns[columnIndex];\r\n            var templateControl = niColumn.firstElementChild;\r\n            var templateType = templateControl.nodeName;\r\n            var columnTypeHelper = columnTypeHelpers[templateType];\r\n            var control = templateControl.cloneNode(false);\r\n\r\n            // TODO : Right now we need to clear the style, because the template control has a transform set on it that we\r\n            // don't want to clone. Long term, it would be nice not do this, in case the control has other style settings we\r\n            // do want to clone.\r\n            control.setAttribute('style', '');\r\n            var fontStyles;\r\n\r\n            // TODO mraj we also have to clear other properties added by niElementExtensions to prevent conflicts with modeling\r\n            control.clearExtensionProperties();\r\n\r\n            control._dataGridRow = rowIndex;\r\n            control._dataGridColumn = columnIndex;\r\n            control._preventModelCreation = true;\r\n            control.visible = true;\r\n            control.style.width = '100%';\r\n            control.style.height = '100%';\r\n            fontStyles = window.getComputedStyle(templateControl);\r\n            control.style.fontSize = fontStyles.fontSize;\r\n            control.style.fontFamily = fontStyles.fontFamily;\r\n            control.style.fontWeight = fontStyles.fontWeight;\r\n            control.style.fontStyle = fontStyles.fontStyle;\r\n            columnTypeHelper.setWidgetValue(control, value);\r\n            cellElement.appendChild(control);\r\n            if (typeof columnTypeHelper.configureWidget === 'function') {\r\n                columnTypeHelper.configureWidget(dataGrid, control, cellElement);\r\n            }\r\n\r\n            if (typeof columnTypeHelper.resize === 'function') {\r\n                control.attachedCallback(); // Force internal DOM to be initialized, since the resize code often assumes its already there\r\n                columnTypeHelper.resize(control, { width: niColumn.width, height: dataGrid.coercedRowHeight });\r\n            }\r\n        }\r\n    };\r\n\r\n    var initCustomColumnType = function (dataGrid, jqxColumn) {\r\n        jqxColumn.columntype = 'custom';\r\n        jqxColumn.createwidget = function (row, column, value, cellElement) {\r\n            createJqxColumnWidget(dataGrid, row, column, value, cellElement);\r\n        };\r\n\r\n        jqxColumn.initwidget = function (row, column, value, cellElement) {\r\n            initJqxColumnWidget(dataGrid, row, column, value, cellElement);\r\n        };\r\n\r\n        jqxColumn.cellbeginedit = getFalseValue;\r\n    };\r\n\r\n    var getAggregateStringValue = function (aggregate, val) {\r\n        var digits = NUM_HELPER.coerceDisplayDigits(aggregate.significantDigits, aggregate.precisionDigits);\r\n\r\n        if (aggregate.format === 'exponential') {\r\n            return JQX_MATH.getDecimalNotation(val, aggregate.format, digits.precisionDigits, digits.significantDigits);\r\n        }\r\n\r\n        if (digits.significantDigits !== undefined) {\r\n            return Number(val.toPrecision(digits.significantDigits)).toString();\r\n        } else if (digits.precisionDigits !== undefined) {\r\n            return val.toFixed(digits.precisionDigits);\r\n        } else {\r\n            throw new Error('Unexpected significantDigits / precisionDigits for column aggregate');\r\n        }\r\n    };\r\n\r\n    var aggregatesRenderer = function (aggregates, jqxAggregates) {\r\n        var first = true;\r\n        var alignment = '';\r\n        if (aggregates.horizontalAlignment !== undefined) {\r\n            alignment = ' style=\\'text-align:' + aggregates.horizontalAlignment + '\\'';\r\n        }\r\n\r\n        var renderstring = '<div class=\\'ni-aggregate-box\\'' + alignment + '>';\r\n        $.each(jqxAggregates, function (key, value) {\r\n            var aggregate = aggregates.items[key];\r\n            var label = aggregate.label;\r\n            if (label === undefined) {\r\n                label = '';\r\n            }\r\n\r\n            if (first) {\r\n                first = false;\r\n            } else {\r\n                renderstring += '<br />';\r\n            }\r\n\r\n            renderstring += '<strong>' + label + ':</strong> ' + getAggregateStringValue(aggregate, value);\r\n        });\r\n        renderstring += '</div>';\r\n        return renderstring;\r\n    };\r\n\r\n    // Support (column initialization, default values, value updating) for all supported column types\r\n\r\n    var addTemplateControlMutationObserver = function (dataGrid, column) {\r\n        var observer, observerConfig, columnTypeHelper, columnDataField;\r\n        var templateControl = column.firstElementChild;\r\n\r\n        if (templateControl === null) {\r\n            return;\r\n        }\r\n\r\n        columnDataField = column.index.toString();\r\n        columnTypeHelper = columnTypeHelpers[templateControl.nodeName];\r\n        observer = new window.MutationObserver(function (mutations) {\r\n            var changedAttributes;\r\n            if (columnTypeHelper.templateControlAttributeChanged !== undefined) {\r\n                changedAttributes = {};\r\n                mutations.forEach(function (mutation) {\r\n                    var attrName = mutation.attributeName;\r\n                    if (attrName !== null) {\r\n                        changedAttributes[attrName] = true;\r\n                    }\r\n                });\r\n                columnTypeHelper.templateControlAttributeChanged(dataGrid, column, changedAttributes);\r\n            }\r\n        });\r\n\r\n        observerConfig = { attributes: true };\r\n        column._niColumnTemplateControlObserver = observer;\r\n        if (typeof observer.observe === 'function') {\r\n            observer.observe(templateControl, observerConfig);\r\n        }\r\n    };\r\n\r\n    var removeTemplateControlMutationObserver = function (column) {\r\n        var columnObserver = column._niColumnTemplateControlObserver;\r\n        if (columnObserver !== undefined && (typeof columnObserver.disconnect === 'function')) {\r\n            columnObserver.disconnect();\r\n            column._niColumnTemplateControlObserver = undefined;\r\n        }\r\n    };\r\n\r\n    var templateControlAttributeChangedNIElement = function (dataGrid, column, attributes) {\r\n        var columnDataField = column.index.toString();\r\n        var templateControl = column.firstElementChild;\r\n        if (templateControl === null) {\r\n            // It's possible that this mutation observer is triggered when the column has no control (e.g.\r\n            // changing the type of a numeric)\r\n            return;\r\n        }\r\n\r\n        var fontStyles, attrName, templateAttributeValues = {}, matchedControls, control, i;\r\n        for (attrName in attributes) {\r\n            if (attributes.hasOwnProperty(attrName)) {\r\n                if (attrName === 'style') {\r\n                    fontStyles = $(templateControl).css(['fontSize', 'fontFamily', 'fontWeight', 'fontStyle']);\r\n                } else if (templateControl.hasAttribute(attrName)) {\r\n                    templateAttributeValues[attrName] = templateControl.getAttribute(attrName);\r\n                }\r\n            }\r\n        }\r\n\r\n        matchedControls = dataGrid.jqref[0].querySelectorAll(templateControl.tagName);\r\n\r\n        for (i = 0; i < matchedControls.length; i++) {\r\n            control = matchedControls[i];\r\n            if (control._dataGridColumn === columnDataField) {\r\n                for (attrName in attributes) {\r\n                    if (attributes.hasOwnProperty(attrName)) {\r\n                        if (attrName === 'style') {\r\n                            control.setFont(fontStyles.fontSize, fontStyles.fontFamily, fontStyles.fontWeight, fontStyles.fontStyle);\r\n                        } else if (templateAttributeValues[attrName] !== undefined) {\r\n                            control.setAttribute(attrName, templateAttributeValues[attrName]);\r\n                        } else {\r\n                            control.removeAttribute(attrName);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    var addNumericValueChangedListener = function (dataGrid, widgetElement) {\r\n        widgetElement.addEventListener('value-changed', function (event) {\r\n            var modelValue = NUM_VAL_CONVERTER.convertBack(event.detail.value, widgetElement.valueType);\r\n            dataGrid.templateControlValueChanged(widgetElement, modelValue);\r\n        });\r\n    };\r\n\r\n    var keyDownStopPropagation = function (e) {\r\n        // This keydown handler is meant to be hooked up to template control\r\n        // types that use keyboard input (e.g. numeric text box and string).\r\n        // It prevents keydown events from bubbling up to the data grid.\r\n        // (The data grid has its own key listeners which interfere with\r\n        // the control's, otherwise.)\r\n        if (e.stopPropagation !== undefined) {\r\n            e.stopPropagation();\r\n        }\r\n    };\r\n\r\n    var triggerResizeForWidget = function (element, size) {\r\n        element.dispatchEvent(new CustomEvent('resizeEventHack', { detail: size, bubbles: false }));\r\n    };\r\n\r\n    var columnTypeHelpers = {};\r\n\r\n    columnTypeHelpers[STRING_TEMPLATE_TYPE] = {\r\n        initializeColumn: initCustomColumnType,\r\n        setWidgetValue: function (niElement, value) {\r\n            niElement.textNonSignaling = value;\r\n        },\r\n        getDefaultValue: function () {\r\n            return '';\r\n        },\r\n        validateValue: function (val) {\r\n            return typeof val === 'string';\r\n        },\r\n        templateControlAttributeChanged: templateControlAttributeChangedNIElement,\r\n        configureWidget: function (dataGrid, widgetElement) {\r\n            widgetElement.addEventListener('text-changed', function (evt) {\r\n                dataGrid.templateControlValueChanged(widgetElement, evt.detail.text);\r\n            });\r\n            widgetElement.addEventListener('keydown', keyDownStopPropagation, false);\r\n        }\r\n    };\r\n\r\n    columnTypeHelpers[NUMERIC_TEMPLATE_TYPE] = {\r\n        initializeColumn: initCustomColumnType,\r\n        setWidgetValue: function (niElement, value) {\r\n            niElement.valueNonSignaling = NUM_VAL_CONVERTER.convert(value, niElement.valueType);\r\n        },\r\n        validateValue: function (val, niElement) {\r\n            if (NUM_HELPER.is64BitInt(niElement.valueType) || NUM_HELPER.isComplex(niElement.valueType)) {\r\n                return typeof val === 'string';\r\n            }\r\n\r\n            return typeof val === 'number';\r\n        },\r\n        resize: triggerResizeForWidget,\r\n        getDefaultValue: function (templateElement) {\r\n            var valueTypeAttr = templateElement.attributes['value-type'], valueType,\r\n                defaultValue = { stringValue: '0', numberValue: 0 };\r\n            if (valueTypeAttr !== undefined) {\r\n                valueType = valueTypeAttr.value;\r\n            }\r\n\r\n            return NUM_VAL_CONVERTER.convertBack(defaultValue, valueType);\r\n        },\r\n        templateControlAttributeChanged: templateControlAttributeChangedNIElement,\r\n        configureWidget: function (dataGrid, widgetElement) {\r\n            addNumericValueChangedListener(dataGrid, widgetElement);\r\n            widgetElement.addEventListener('keydown', keyDownStopPropagation, false);\r\n        }\r\n    };\r\n\r\n    columnTypeHelpers[CHECKBOX_TEMPLATE_TYPE] = {\r\n        initializeColumn: function (dataGrid, jqxColumn) {\r\n            jqxColumn.columntype = 'checkbox';\r\n        },\r\n        validateValue: function (val) {\r\n            return typeof val === 'boolean';\r\n        },\r\n        getDefaultValue: getFalseValue\r\n    };\r\n\r\n    columnTypeHelpers[LED_TEMPLATE_TYPE] = {\r\n        initializeColumn: initCustomColumnType,\r\n        setWidgetValue: function (niElement, value) {\r\n            niElement.valueNonSignaling = value;\r\n        },\r\n        validateValue: function (val) {\r\n            return typeof val === 'boolean';\r\n        },\r\n        templateControlAttributeChanged: templateControlAttributeChangedNIElement,\r\n        configureWidget: function (dataGrid, widgetElement) {\r\n            widgetElement.attachedCallback(); // Without attaching early here, detached can be called before attached and we hit errors in niUIActivityService.\r\n            widgetElement.addEventListener('value-changed', function (event) {\r\n                dataGrid.templateControlValueChanged(widgetElement, event.detail.value);\r\n            });\r\n        },\r\n        getDefaultValue: getFalseValue,\r\n        resize: function (element, size) {\r\n            var minDimension = Math.min(size.width, size.height) - 4; // -4 for 2*padding for LEDs in a data grid in our CSS\r\n            element.style.left = ((size.width - minDimension - 4) / 2) + 'px';\r\n            element.style.top = ((size.height - minDimension - 4) / 2) + 'px';\r\n            element.style.width = minDimension + 'px';\r\n            element.style.height = minDimension + 'px';\r\n        }\r\n    };\r\n\r\n    columnTypeHelpers[SLIDER_TEMPLATE_TYPE] = {\r\n        initializeColumn: initCustomColumnType,\r\n        setWidgetValue: columnTypeHelpers[NUMERIC_TEMPLATE_TYPE].setWidgetValue,\r\n        validateValue: columnTypeHelpers[NUMERIC_TEMPLATE_TYPE].validateValue,\r\n        getDefaultValue: columnTypeHelpers[NUMERIC_TEMPLATE_TYPE].getDefaultValue,\r\n        resize: function (element, size) {\r\n            var newSize = { width: size.width - 6, height: size.height }; // 6px is the same as margin-left for the ni-slider in a data grid in our CSS\r\n            triggerResizeForWidget(element, newSize);\r\n        },\r\n        templateControlAttributeChanged: templateControlAttributeChangedNIElement,\r\n        configureWidget: function (dataGrid, widgetElement) {\r\n            addNumericValueChangedListener(dataGrid, widgetElement);\r\n        }\r\n    };\r\n\r\n    columnTypeHelpers[PROGRESSBAR_TEMPLATE_TYPE] = {\r\n        initializeColumn: initCustomColumnType,\r\n        setWidgetValue: function (niElement, value) {\r\n            niElement.valueNonSignaling = value;\r\n        },\r\n        validateValue: function (val) {\r\n            return typeof val === 'number';\r\n        },\r\n        getDefaultValue: function () {\r\n            return 0;\r\n        },\r\n        templateControlAttributeChanged: templateControlAttributeChangedNIElement\r\n    };\r\n\r\n    columnTypeHelpers[DROPDOWN_TEMPLATE_TYPE] = {\r\n        initializeColumn: initCustomColumnType,\r\n        setWidgetValue: function (niElement, value) {\r\n            niElement.selectedIndexNonSignaling = value;\r\n        },\r\n        validateValue: function (val) {\r\n            return typeof val === 'number';\r\n        },\r\n        getDefaultValue: function () {\r\n            return -1;\r\n        },\r\n        resize: triggerResizeForWidget,\r\n        templateControlAttributeChanged: templateControlAttributeChangedNIElement,\r\n        configureWidget: function (dataGrid, widgetElement) {\r\n            widgetElement.addEventListener('selected-index-changed', function (evt) {\r\n                dataGrid.templateControlValueChanged(widgetElement, evt.detail.selectedIndex);\r\n            });\r\n        }\r\n    };\r\n\r\n    // Add Rows Tool Bar\r\n    var appendAddRowsToolbar = function (dataGrid) {\r\n        var innerDiv = $('<div style=\\'margin:5px;\\'></div>');\r\n        var rowCountInput = $('<div style=\\'display: inline-table; margin-right: 5px;\\' />');\r\n        innerDiv.append(rowCountInput);\r\n        innerDiv.append(dataGrid.addRowsLabel + ': ');\r\n        var addButton = $('<input type=\\'button\\' style=\\'margin-left: 2px;\\' />');\r\n        innerDiv.append(addButton);\r\n        var outerDiv = $('<div class=\\'ni-add-rows-toolbar\\'></div>');\r\n        outerDiv.append(innerDiv);\r\n        if (dataGrid.readOnly || !dataGrid.showAddRowsToolBar) {\r\n            outerDiv[0].style.display = 'none';\r\n        }\r\n\r\n        dataGrid.jqref.append(outerDiv);\r\n        dataGrid.addRowsToolbarRef = outerDiv;\r\n        rowCountInput.jqxNumberInput({ inputMode: 'simple', decimalDigits: 0, min: 1, max: 50000, value: 1 });\r\n        rowCountInput[0].style.width = '55px';\r\n        rowCountInput[0].firstElementChild.style.width = '50px';\r\n        rowCountInput.addClass('ni-row-count-text-field-box');\r\n        rowCountInput.find(' input').addClass('ni-row-count-text-field');\r\n        addButton[0].value = dataGrid.addRowsButtonLabel;\r\n        addButton.jqxButton({ width: '50' });\r\n        addButton.addClass('ni-add-rows-button');\r\n        addButton.on('click', function () {\r\n            if (dataGrid.jqref === undefined) {\r\n                return;\r\n            }\r\n\r\n            dataGrid.addEmptyRows(rowCountInput.jqxNumberInput('val'));\r\n\r\n            addButton.blur();\r\n        });\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'value',\r\n            defaultValue: '[]',\r\n            fireEvent: true,\r\n            addNonSignalingProperty: true,\r\n            isElementValueProperty: true\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'rowHeaderVisible',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'columnHeaderVisible',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'showAddRowsToolBar',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'allowSorting',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'allowPaging',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'allowFiltering',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'allowGrouping',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'rowHeight',\r\n            defaultValue: DEFAULT_ROW_HEIGHT\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'altRowColors',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'altRowStart',\r\n            defaultValue: 1\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'altRowStep',\r\n            defaultValue: 1\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'isInEditMode',\r\n            defaultValue: false,\r\n            fireEvent: false,\r\n            addNonSignalingProperty: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'selectedColumn',\r\n            defaultValue: -1\r\n        });\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        // Public Instance Properties\r\n        this.columns = [];\r\n        this.selectedColumnDataField = undefined;\r\n        this.sortedColumnIndices = [];\r\n        this.parsedValue = [];\r\n        this.jqxValue = [];\r\n        this.columnObservers = [];\r\n        this.pageSize = 0;\r\n        this.addRowsButtonLabel = NI_SUPPORT.i18n('msg_datagrid_addrowsbuttonlabel');\r\n        this.addRowsLabel = NI_SUPPORT.i18n('msg_datagrid_addrowslabel');\r\n        this.coercedRowHeight = DEFAULT_ROW_HEIGHT;\r\n        this.showAggregates = false;\r\n        this.maxAggregateCountPerColumn = 0;\r\n\r\n        // Private Instance Properties\r\n        this._coercedValueUpdate = false;\r\n        this._validState = true;\r\n    };\r\n\r\n    proto.getDefaultColumns = function () {\r\n        // This adds the leftmost 'row index' column, which will be hidden if the 'row header visible' property is false.\r\n        return [{\r\n            text: '',\r\n            datafield: ID_DATAFIELD,\r\n            width: 50,\r\n            cellsalign: 'center',\r\n            columntype: 'custom',\r\n            createwidget: function (row, column, value, cellElement) {\r\n                if (!cellElement.firstElementChild) {\r\n                    $(cellElement).append('<div style=\\'width: 100%; height: 100%; display: table; text-align: center;\\'>' +\r\n                       '<span style=\\'display: table-cell; vertical-align: middle;\\'>' + value.toString() + '</span></div>');\r\n                }\r\n            },\r\n            initwidget: function (row, column, value, cellElement) {\r\n                var outerDiv = cellElement.firstElementChild;\r\n                if (outerDiv !== null) {\r\n                    outerDiv.firstElementChild.textContent = value.toString();\r\n                }\r\n            },\r\n            cellbeginedit: getFalseValue,\r\n            hidden: !this.rowHeaderVisible,\r\n            pinned: this.columns.some(function (col) {\r\n                return col.pinned;\r\n            })\r\n        }];\r\n    };\r\n\r\n    proto.setFont = function () {\r\n        // Don't call the parent / base method, which changes the font properties on our CSS style. Changing fonts on the data grid shouldn't\r\n        // affect the headers / toolbar / etc. Each column can have its font settings changed individually via styling the template control\r\n        // for that column.\r\n        // parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle);\r\n    };\r\n\r\n    proto.templateControlValueChanged = function (element, modelValue) {\r\n        var row = element._dataGridRow, column = element._dataGridColumn;\r\n        var curValue = this.jqxValue[row][column];\r\n        if (curValue !== modelValue) {\r\n            this.jqxValue[row][column] = modelValue;\r\n            this.parsedValue[row][this.columns[column].fieldName] = modelValue;\r\n            this.value = JSON.stringify(this.parsedValue);\r\n        }\r\n    };\r\n\r\n    proto.updateJqxColumnConfig = function () {\r\n        var that = this;\r\n        var i;\r\n        var columns = this.getDefaultColumns();\r\n        var newColumn, templateType, templateElement, columnTypeHelper;\r\n        var aggregates, showAggregates = false, aggregateCount = 0;\r\n        var maxAggregateCountPerColumn = 0;\r\n        var sortedIndices = [0];\r\n        var validState = true;\r\n\r\n        // Sanity check columns. If we're in an inconsistent state (missing column, 2 columns with the same index, no template control for a column,\r\n        // etc), then skip rendering for now.\r\n        for (i = 0; i < this.columns.length; i++) {\r\n            if (i !== this.columns[i].index || this.columns[i].firstElementChild === null) {\r\n                validState = false;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (validState) {\r\n            for (i = 0; i < this.columns.length; i++) {\r\n                if (this.columns[i].pinned) {\r\n                    sortedIndices.push(i + 1);\r\n                }\r\n            }\r\n\r\n            // Note: using forEach instead of a regular for loop here because otherwise, the value of 'column' in the inner function\r\n            // would be incorrect due to how closures work in loops in JS\r\n            this.columns.forEach(function (column, i) {\r\n                column.parsedAggregates = JSON.parse(column.aggregates);\r\n                aggregates = [];\r\n                aggregateCount = 0;\r\n                for (var aggregate in column.parsedAggregates.items) {\r\n                    if (column.parsedAggregates.items.hasOwnProperty(aggregate)) {\r\n                        aggregates.push(aggregate);\r\n                        aggregateCount++;\r\n                        showAggregates = true;\r\n                    }\r\n                }\r\n\r\n                maxAggregateCountPerColumn = Math.max(maxAggregateCountPerColumn, aggregateCount);\r\n                newColumn = {\r\n                    align: 'center',\r\n                    text: column.header,\r\n                    datafield: i.toString(),\r\n                    width: column.width,\r\n                    pinned: column.pinned,\r\n                    aggregates: aggregates\r\n                };\r\n                if (aggregates.length > 0) {\r\n                    newColumn.aggregatesrenderer = function (aggregates) {\r\n                        return aggregatesRenderer(column.parsedAggregates, aggregates);\r\n                    };\r\n                }\r\n\r\n                if (!column.pinned) {\r\n                    sortedIndices.push(i + 1);\r\n                }\r\n\r\n                templateElement = column.firstElementChild;\r\n                templateType = templateElement.nodeName;\r\n                if (!columnTypeHelpers.hasOwnProperty(templateType)) {\r\n                    throw new Error('Unsupported template element type for column ' + i + ': ' + templateType);\r\n                }\r\n\r\n                columnTypeHelper = columnTypeHelpers[templateType];\r\n                column._niColumnDefaultValue = columnTypeHelper.getDefaultValue(templateElement);\r\n                columnTypeHelper.initializeColumn(that, newColumn);\r\n                if (that.jqxValue.length > 0) {\r\n                    // Basic value validation - if the value is invalid for this column type (due to being in the middle of column reordering, or\r\n                    // updating the control in a column), abort the render / update. The assumption is that the editor will coerce the value and send that\r\n                    // over, then we'll re-render at that point.\r\n                    if (!columnTypeHelper.validateValue(that.jqxValue[0][newColumn.datafield], templateElement)) {\r\n                        validState = false;\r\n                    }\r\n                }\r\n\r\n                columns.push(newColumn);\r\n            });\r\n        }\r\n\r\n        if (validState) {\r\n            this.showAggregates = showAggregates;\r\n            this.maxAggregateCountPerColumn = maxAggregateCountPerColumn;\r\n            this.sortedColumnIndices = sortedIndices;\r\n            this.jqxColumnConfig = columns;\r\n        }\r\n\r\n        this._validState = validState;\r\n    };\r\n\r\n    proto.addEmptyRows = function (count) {\r\n        var row, jqxRow, rows, i, j, n, column, oldLength;\r\n        if (count > 0) {\r\n            rows = [];\r\n            oldLength = this.parsedValue.length;\r\n            n = oldLength;\r\n            for (i = 0; i < count; i++) {\r\n                row = {};\r\n                jqxRow = {};\r\n                jqxRow[ID_DATAFIELD] = n++;\r\n                for (j = 0; j < this.columns.length; j++) {\r\n                    column = this.columns[j];\r\n                    jqxRow[j] = column._niColumnDefaultValue;\r\n                    row[column.fieldName] = column._niColumnDefaultValue;\r\n                }\r\n\r\n                rows.push(jqxRow);\r\n                this.jqxValue.push(jqxRow);\r\n                this.parsedValue.push(row);\r\n            }\r\n\r\n            if (this.showAggregates && oldLength === 0) {\r\n                // If we have data and we didn't before, show the aggregates bar as needed.\r\n                this.updateStatusBar();\r\n                this.updatePageSize();\r\n            }\r\n\r\n            this.jqref.jqxGrid('addrow', null, rows);\r\n            this.value = JSON.stringify(this.parsedValue);\r\n        }\r\n    };\r\n\r\n    proto.updateJqxValueFromParsedValue = function () {\r\n        // jqxValue and parsedValue both represent the full data set, but with different field names.\r\n        // Example: If you have 'Column A' and 'Column B' in the editor and 1 row of data, you would have\r\n        // parsedValue[0]['Column A'] and parsedValue[0]['Column B'], versus\r\n        // jqxValue[0]['0'] and jqxValue[0]['1'] for the cell values.\r\n        // There's 2 main reasons why jqxValue and parsedValue can't be the same array instance (and why the\r\n        // field names are different):\r\n        // 1. Each column in the jqxGrid has a datafield (string property) that's the field name in the row objects,\r\n        //    where the data should come from for that column. The ID / row index column also must have a datafield.\r\n        //    If we directly map the diagram cluster field names as the datafield, a user-specified name could conflict\r\n        //    with the name we pick for the ID column's datafield. So, we have a copy with different field names that\r\n        //    we know won't conflict.\r\n        // 2. When you give the jqxGrid an array data source, it sets additional fields in the row objects inside the\r\n        //    array you give it. We don't want those additional (internal) fields to still be in the array of objects that\r\n        //    we hand back to the model when the user changes data. So, we'd need a copy anyway.\r\n        var i, j, curRow, result;\r\n        result = [];\r\n        for (i = 0; i < this.parsedValue.length; i++) {\r\n            curRow = {};\r\n            curRow[ID_DATAFIELD] = i;\r\n            for (j = 0; j < this.columns.length; j++) {\r\n                curRow[j] = this.parsedValue[i][this.columns[j].fieldName];\r\n            }\r\n\r\n            result.push(curRow);\r\n        }\r\n\r\n        this.jqxValue = result;\r\n    };\r\n\r\n    proto.initializeColumnsAndData = function () {\r\n        this.updateJqxColumnConfig();\r\n        this.parsedValue = JSON.parse(this.value);\r\n        this.updateJqxValueFromParsedValue();\r\n        this.dataSource = {\r\n            datatype: 'array',\r\n            localdata: this.jqxValue\r\n        };\r\n        this.dataAdapter = new $.jqx.dataAdapter(this.dataSource);\r\n        this.updateStatusBar(); // Make sure aggregates will show, if enabled\r\n        if (this._validState) {\r\n            this.jqref.jqxGrid({ columns: this.jqxColumnConfig, source: this.dataAdapter });\r\n        }\r\n    };\r\n\r\n    proto.getSettings = function () {\r\n        var altRowSettings = getAltRowSettings(this.altRowStart, this.altRowStep);\r\n        return {\r\n            editable: !this.readOnly,\r\n            showemptyrow: false, // Don't show 'No Data to Display' when empty,\r\n            selectionmode: 'none',\r\n            showheader: this.columnHeaderVisible,\r\n            columnsresize: true,\r\n            enablehover: false,\r\n            showsortmenuitems: false,\r\n            sortable: this.allowSorting,\r\n            filterable: this.allowFiltering,\r\n            showfilterrow: this.allowFiltering,\r\n            pageable: this.allowPaging,\r\n            groupable: this.allowGrouping,\r\n            altrows: this.altRowColors,\r\n            altstart: altRowSettings.altstart,\r\n            altstep: altRowSettings.altstep,\r\n            width: this.offsetWidth,\r\n            height: this.offsetHeight,\r\n            columnsheight: DEFAULT_ROW_HEIGHT,\r\n            rowsheight: this.coercedRowHeight\r\n        };\r\n    };\r\n\r\n    proto.setSelectedColumn = function (column) {\r\n        var newSelectedDataField, columnToSelect;\r\n\r\n        if (!this.jqref) {\r\n            return;\r\n        }\r\n\r\n        if (!this.isInEditMode) {\r\n            return;\r\n        }\r\n\r\n        if (column >= 0 && column < this.columns.length) {\r\n            columnToSelect = column;\r\n            newSelectedDataField = column.toString();\r\n        } else {\r\n            columnToSelect = -1;\r\n        }\r\n\r\n        if (columnToSelect !== this.selectedColumn) {\r\n            this.selectedColumn = columnToSelect;\r\n        }\r\n\r\n        if (this.selectedColumnDataField !== newSelectedDataField) {\r\n            if (this.selectedColumnDataField !== undefined) {\r\n                $(this.jqref.jqxGrid('getcolumn', this.selectedColumnDataField).element).removeClass('ni-selected-header');\r\n            }\r\n\r\n            this.selectedColumnDataField = newSelectedDataField;\r\n            this.refreshSelectedColumn();\r\n\r\n            this.dispatchEvent(new CustomEvent('selected-column-changed', {\r\n                detail: { selectedColumn: this.selectedColumn }\r\n            }));\r\n        }\r\n    };\r\n\r\n    proto.refreshSelectedColumn = function () {\r\n        var i, jqxColumn, leftIndex;\r\n        if (this.isInEditMode) {\r\n            if (this.selectedColumn === -1) {\r\n                for (i = 0; i < this.jqxColumnConfig.length; i++) {\r\n                    jqxColumn = this.jqref.jqxGrid('getcolumn', this.jqxColumnConfig[i].datafield);\r\n                    if (jqxColumn !== null && jqxColumn !== undefined) {\r\n                        jqxColumn.cellclassname = '';\r\n                    }\r\n                }\r\n            } else {\r\n                leftIndex = this.sortedColumnIndices[this.sortedColumnIndices.indexOf(this.selectedColumn + 1) - 1];\r\n                for (i = 0; i < this.jqxColumnConfig.length; i++) {\r\n                    jqxColumn = this.jqref.jqxGrid('getcolumn', this.jqxColumnConfig[i].datafield);\r\n                    if (jqxColumn !== null && jqxColumn !== undefined) {\r\n                        if (i === leftIndex) {\r\n                            jqxColumn.cellclassname = 'ni-selected-cell';\r\n                        } else if (i === this.selectedColumn + 1) {\r\n                            jqxColumn.cellclassname = 'ni-selected-cell';\r\n                            $(jqxColumn.element).addClass('ni-selected-header');\r\n                        } else {\r\n                            jqxColumn.cellclassname = '';\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            // Trigger a 'soft refresh' so the jqxGrid will re-query the cell CSS classes, but not recreate widgets\r\n            $(this.jqref).jqxGrid('clearselection');\r\n        }\r\n    };\r\n\r\n    proto.updateCoercedRowHeight = function () {\r\n        this.coercedRowHeight = this.rowHeight >= 1 ? this.rowHeight : DEFAULT_ROW_HEIGHT;\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            widgetSettings,\r\n            childElement,\r\n            childColumns,\r\n            jqref,\r\n            that = this;\r\n\r\n        if (firstCall === true) {\r\n            childColumns = this.findInitialColumns();\r\n            this.addColumnListeners(childColumns);\r\n\r\n            this.updateCoercedRowHeight();\r\n\r\n            widgetSettings = this.getSettings();\r\n\r\n            childElement = document.createElement('div');\r\n            childElement.style.width = '100%';\r\n            childElement.style.height = '100%';\r\n            // Currently, we don't want changing the data grid headers to affect the row / column header font, or the\r\n            // statusbar / toolbar fonts, so we're setting the font we want explicitly here\r\n            childElement.style.fontSize = '12px';\r\n            childElement.style.fontFamily = 'Segoe UI, sans-serif';\r\n            childElement.style.fontWeight = 'normal';\r\n            childElement.style.fontStyle = 'normal';\r\n            this.appendChild(childElement);\r\n\r\n            jqref = $(childElement);\r\n            jqref.jqxGrid(widgetSettings);\r\n            this.jqref = jqref;\r\n            appendAddRowsToolbar(this);\r\n            this.updateStatusBar();\r\n            this.updatePagingSettings();\r\n\r\n            if (childColumns.length === 0) {\r\n                this.initializeColumnsAndData();\r\n            }\r\n\r\n            // Adding CSS class names\r\n            jqref.find(' .jqx-grid-statusbar').addClass('ni-status-bar');\r\n            jqref.addClass('ni-grid-widget');\r\n            jqref.addClass('ni-grid-widget-content');\r\n            jqref.find(' .jqx-widget').addClass('ni-grid-widget');\r\n            jqref.find(' .jqx-widget-content').addClass('ni-grid-widget-content');\r\n            jqref.find(' .jqx-grid-groups-header').addClass('ni-groups-header');\r\n            jqref.find(' .jqx-grid-pager').addClass('ni-pager-box');\r\n            jqref.find(' .jqx-grid-pager-input').addClass('ni-pager-text-field');\r\n            jqref.find(' .jqx-dropdownlist-state-normal').addClass('ni-selector');\r\n            jqref.find(' .jqx-max-size').addClass('ni-filter-row-box');\r\n            jqref.find(' .jqx-grid-column-header').addClass('ni-column-header');\r\n            jqref.find(' .jqx-grid-content').addClass('ni-grid-content');\r\n            jqref.find(' .jqx-grid-cell-filter-row').addClass('ni-filter-row');\r\n            jqref.find(' .jqx-grid-cell').addClass('ni-cell');\r\n            jqref.find(' .jqx-grid-group-cell').addClass('ni-group-cell');\r\n\r\n            jqref.on('cellendedit', function (event) {\r\n                var rowindex = event.args.rowindex, datafield = event.args.datafield, value = event.args.value;\r\n                that.jqxValue[rowindex][datafield] = value;\r\n                that.parsedValue[rowindex][that.columns[datafield].fieldName] = value;\r\n                that.value = JSON.stringify(that.parsedValue);\r\n            });\r\n\r\n            jqref.on('columnclick', function (event) {\r\n                var origMouseEvent = event.args.originalEvent.originalEvent;\r\n                that.setSelectedColumn(parseInt(event.args.datafield));\r\n\r\n                if (origMouseEvent !== undefined && origMouseEvent.x !== undefined && origMouseEvent.y !== undefined) {\r\n                    that.handledClickEvent = { x: origMouseEvent.x, y: origMouseEvent.y };\r\n                }\r\n            });\r\n\r\n            jqref.on('cellclick', function (event) {\r\n                var origMouseEvent = event.args.originalEvent.originalEvent;\r\n                that.setSelectedColumn(parseInt(event.args.datafield));\r\n\r\n                if (origMouseEvent !== undefined && origMouseEvent.x !== undefined && origMouseEvent.y !== undefined) {\r\n                    that.handledClickEvent = { x: origMouseEvent.x, y: origMouseEvent.y };\r\n                }\r\n            });\r\n\r\n            jqref.on('click', function (event) {\r\n                // If a click is on the data grid but not on its cells or columns (which are handled above), deselect\r\n                // the currently active column\r\n                var origMouseEvent = event.originalEvent;\r\n                if (origMouseEvent !== undefined && that.handledClickEvent !== undefined &&\r\n                    origMouseEvent.x === that.handledClickEvent.x && origMouseEvent.y === that.handledClickEvent.y) {\r\n                    return;\r\n                }\r\n\r\n                that.setSelectedColumn(-1);\r\n                that.handledClickEvent = undefined;\r\n            });\r\n\r\n            jqref.on('columnresized', function (event) {\r\n                var args = event.args;\r\n                var dataField = args.datafield;\r\n                var newWidth = args.newwidth;\r\n                var newHeight = that.coercedRowHeight;\r\n                var column = that.columns[dataField];\r\n                var templateControl = column.firstElementChild;\r\n                var columnHelper = columnTypeHelpers[templateControl.nodeName];\r\n                var matchedControls, i, control;\r\n\r\n                if (typeof columnHelper.resize !== 'function') {\r\n                    return;\r\n                }\r\n\r\n                matchedControls = jqref[0].querySelectorAll(templateControl.tagName);\r\n\r\n                for (i = 0; i < matchedControls.length; i++) {\r\n                    control = matchedControls[i];\r\n                    if (control._dataGridColumn === dataField) {\r\n                        columnHelper.resize(control, { width: newWidth, height: newHeight });\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.forceResize = function (size) {\r\n        parent.prototype.forceResize.call(this, size);\r\n        var jqref = this.jqref;\r\n\r\n        if (jqref === undefined) {\r\n            jqref = $(this).children('div');\r\n        }\r\n\r\n        jqref.jqxGrid(size);\r\n        this.updatePageSize();\r\n    };\r\n\r\n    proto.updateColumns = function () {\r\n        if (this.jqref === undefined || this.parentElement === null) {\r\n            return;\r\n        }\r\n\r\n        // Cancel any pending edits before refreshing columns\r\n        this.jqref.jqxGrid('endcelledit');\r\n\r\n        this.updateJqxColumnConfig();\r\n\r\n        if (!this._validState) {\r\n            return;\r\n        }\r\n\r\n        this.jqref.jqxGrid({ columns: this.jqxColumnConfig });\r\n        this.refreshSelectedColumn();\r\n    };\r\n\r\n    proto.refreshIfValid = function () {\r\n        if (this.jqref === undefined || this.parentElement === null) {\r\n            return;\r\n        }\r\n\r\n        // Cancel any pending edits before refreshing columns\r\n        this.jqref.jqxGrid('endcelledit');\r\n\r\n        // updateJqxValueFromParsedValue: this updates jqxValue based on the current\r\n        // columns & parsed value. We use jqxValue to validate (because thats the\r\n        // value the jqxGrid operates on), so we need to update it first.\r\n        this.updateJqxValueFromParsedValue();\r\n        this.updateJqxColumnConfig();\r\n\r\n        if (!this._validState) {\r\n            return;\r\n        }\r\n\r\n        this.dataSource.localdata = this.jqxValue;\r\n        this.jqref.jqxGrid('beginupdate', true);\r\n        // jqxGrid has a bug where it tries to remove the filter widget for any new columns before ever adding one. So we disable filtering before changing the columns here.\r\n        this.jqref.jqxGrid({ filterable: false });\r\n        this.jqref.jqxGrid({ columns: this.jqxColumnConfig });\r\n        this.jqref.jqxGrid({ source: this.dataAdapter });\r\n        this.propertyUpdated('allowFiltering');\r\n        this.jqref.jqxGrid('endupdate');\r\n        this.updateStatusBar();\r\n        this.refreshSelectedColumn();\r\n    };\r\n\r\n    proto.updateData = function () {\r\n        var oldDataLength;\r\n\r\n        if (this.jqref === undefined || this._coercedValueUpdate) {\r\n            return;\r\n        }\r\n\r\n        oldDataLength = this.parsedValue.length;\r\n        this.parsedValue = JSON.parse(this.value);\r\n\r\n        if (!this._validState) {\r\n            // We might be in an invalid state, even if we have all of our columns and controls,\r\n            // if we don't yet have a value for one of the columns. So here we need to do a refresh\r\n            // to update the jqxValue and re-validate.\r\n            this.refreshIfValid();\r\n            return;\r\n        }\r\n\r\n        this.updateJqxValueFromParsedValue();\r\n\r\n        if (this.showAggregates && (oldDataLength === 0) !== (this.parsedValue.length === 0)) {\r\n            // If we have any data and didn't before (or the opposite),\r\n            // show or hide the aggregates bar as needed.\r\n            this.updateStatusBar();\r\n        }\r\n\r\n        // The jqxGrid updaterow function is noticeably faster than\r\n        // refreshing the data grid via refreshing the data source, so\r\n        // we do that when we can (when the number of rows is the same).\r\n        if (oldDataLength === this.parsedValue.length) {\r\n            var rows = [];\r\n            var i;\r\n            for (i = 0; i < oldDataLength; i++) {\r\n                rows[i] = i;\r\n            }\r\n\r\n            this.jqref.jqxGrid('updaterow', rows, this.jqxValue);\r\n        } else {\r\n            this.dataSource.localdata = this.jqxValue;\r\n            this.jqref.jqxGrid({ source: this.dataAdapter });\r\n        }\r\n    };\r\n\r\n    proto.findInitialColumns = function () {\r\n        var childColumns = [],\r\n            columnItemName = NationalInstruments.HtmlVI.Elements.DataGridColumn.prototype.elementInfo.tagName.toUpperCase(),\r\n            i;\r\n\r\n        for (i = 0; i < this.children.length; i++) {\r\n            if (this.children[i].tagName === columnItemName) {\r\n                childColumns.push(this.children[i]);\r\n            }\r\n        }\r\n\r\n        return childColumns;\r\n    };\r\n\r\n    proto.sortColumns = function () {\r\n        this.columns.sort(function (a, b) {\r\n            return a.index - b.index;\r\n        });\r\n    };\r\n\r\n    proto.requestRefresh = function () {\r\n        var that = this;\r\n        if (that._refreshRequested !== true) {\r\n            that._refreshRequested = true;\r\n            window.requestAnimationFrame(function () {\r\n                that._refreshRequested = false;\r\n                that.refreshIfValid();\r\n            });\r\n        }\r\n    };\r\n\r\n    proto.addColumnListeners = function (initialColumns) {\r\n        var that = this;\r\n\r\n        that.addEventListener('ni-data-grid-column-attached', function (evt) {\r\n            var i, column, observer, observerConfig;\r\n\r\n            if (evt.target === that) {\r\n                column = evt.detail.element;\r\n                that.columns.push(column);\r\n                that.sortColumns();\r\n\r\n                observer = new window.MutationObserver(function (mutations) {\r\n                    mutations.forEach(function (mutation) {\r\n                        if (mutation.removedNodes.length > 0) {\r\n                            removeTemplateControlMutationObserver(that, column);\r\n                            that.requestRefresh();\r\n                        }\r\n\r\n                        if (mutation.addedNodes.length > 0) {\r\n                            addTemplateControlMutationObserver(that, column);\r\n                            that.requestRefresh();\r\n                        }\r\n                    });\r\n                });\r\n\r\n                observerConfig = { childList: true };\r\n                column._niColumnObserver = observer;\r\n                if (typeof observer.observe === 'function') {\r\n                    observer.observe(column, observerConfig);\r\n                }\r\n\r\n                addTemplateControlMutationObserver(that, column);\r\n\r\n                for (i = 0; i < initialColumns.length; i++) {\r\n                    if (initialColumns[i] === evt.detail.element) {\r\n                        initialColumns.splice(i, 1);\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                if (initialColumns.length === 0) { // We've either just added the last initial column, or this is attaching a new column after that (at edit-time)\r\n                    if (this.dataSource === undefined) {\r\n                        this.initializeColumnsAndData(); // First time initialization\r\n                    } else {\r\n                        that.requestRefresh();\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        that.addEventListener('ni-data-grid-column-detached', function (evt) {\r\n            var i, column;\r\n            if (evt.target === that) {\r\n                column = evt.detail.element;\r\n                for (i = 0; i < that.columns.length; i++) {\r\n                    if (that.columns[i] === column) {\r\n                        that.columns.splice(i, 1);\r\n\r\n                        if (typeof column._niColumnObserver.disconnect === 'function') {\r\n                            column._niColumnObserver.disconnect();\r\n                        }\r\n\r\n                        removeTemplateControlMutationObserver(that, column);\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                // Column removed: No change to our isValid state. It's OK if our value has data for the column\r\n                // thats going away, the jqxGrid will just ignore that extra data.\r\n                that.updateColumns();\r\n            }\r\n        });\r\n\r\n        that.addEventListener('ni-data-grid-column-changed', function (evt) {\r\n            var propName = evt.detail.propertyName;\r\n            if (propName === 'index') {\r\n                that.sortColumns();\r\n            }\r\n\r\n            if (propName === 'index' || propName === 'fieldName') {\r\n                that.requestRefresh();\r\n                return;\r\n            }\r\n\r\n            that.updateColumns();\r\n\r\n            if (propName === 'aggregates') {\r\n                that.updateStatusBar();\r\n                that.updatePageSize();\r\n            }\r\n        });\r\n    };\r\n\r\n    proto.updateStatusBar = function () {\r\n        var that = this;\r\n        var showAddRowsToolBar = (!that.readOnly && that.showAddRowsToolBar);\r\n        var statusBarHeight;\r\n        if (that.addRowsToolbarRef !== undefined) {\r\n            that.addRowsToolbarRef.toggle(showAddRowsToolBar);\r\n        }\r\n\r\n        if (that.jqref !== undefined) {\r\n            statusBarHeight = showAddRowsToolBar ? 40 : 0;\r\n            if (this.parsedValue.length > 0 && that.maxAggregateCountPerColumn > 0) {\r\n                statusBarHeight += that.maxAggregateCountPerColumn * DEFAULT_ROW_HEIGHT + 4;\r\n            }\r\n\r\n            // Note: We need to set the statusbarheight before updating the aggregate properties, since\r\n            // it has to already be set before the aggregates render.\r\n            that.jqref.jqxGrid({\r\n                statusbarheight: statusBarHeight\r\n            });\r\n            that.jqref.jqxGrid({\r\n                showstatusbar: showAddRowsToolBar || that.showAggregates,\r\n                showaggregates: that.showAggregates\r\n            });\r\n            if (that.showAggregates) {\r\n                that.jqref.jqxGrid('renderaggregates');\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.updatePageSize = function () {\r\n        var that = this;\r\n\r\n        if (this.updatePageSizeTimer !== undefined) {\r\n            clearTimeout(this.updatePageSizeTimer);\r\n        }\r\n\r\n        this.updatePageSizeTimer = setTimeout(function () {\r\n            that.updatePageSizeTimer = undefined;\r\n            if (that.allowPaging) {\r\n                var numRows;\r\n                var height = that.jqref.height();\r\n                height -= getElementHeight(that.jqref.find('div.jqx-grid-header'));\r\n                height -= getElementHeight(that.jqref.find('div.jqx-grid-groups-header'));\r\n                height -= getElementHeight(that.jqref.find('div.jqx-grid-pager'));\r\n                height -= getElementHeight(that.jqref.find('div.ni-status-bar'));\r\n                var horizScrollBar = that.jqref.find('div.jqx-scrollbar').sort(function (a, b) {\r\n                    return a.offsetLeft - b.offsetLeft;\r\n                });\r\n\r\n                height -= getElementHeight(horizScrollBar);\r\n                numRows = Math.floor(height / that.coercedRowHeight);\r\n\r\n                // Sanity check the number of rows. If the data grid is very small, we can end up computing a negative size since we\r\n                // subtract the size of toolbars (assuming they're always visible and nonoverlapping).\r\n                if (numRows <= 0) {\r\n                    numRows = 10;\r\n                }\r\n\r\n                if (that.pageSize !== numRows) {\r\n                    that.pageSize = numRows;\r\n                    that.jqref.jqxGrid({ pagesize: numRows, pagesizeoptions: [numRows] });\r\n                }\r\n            }\r\n        }, 10);\r\n    };\r\n\r\n    proto.updatePagingSettings = function () {\r\n        var pagerRef;\r\n\r\n        this.jqref.jqxGrid({ pageable: this.allowPaging });\r\n        pagerRef = this.jqref.find('div.jqx-grid-pager');\r\n\r\n        // Workaround for a jqxGrid issue where the top border of the pager toolbar / a 1px line is still\r\n        // visible when you turn paging on then off\r\n        pagerRef.toggle(this.allowPaging);\r\n\r\n        if (this.allowPaging === true) {\r\n            this.addRowsToolbarRef[0].style.bottom = pagerRef.outerHeight() + 'px';\r\n        } else {\r\n            this.addRowsToolbarRef[0].style.bottom = '0px';\r\n        }\r\n\r\n        this.updatePageSize();\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        if (this.jqref === undefined) {\r\n            return;\r\n        }\r\n\r\n        switch (propertyName) {\r\n            case 'rowHeaderVisible':\r\n                this.jqref.jqxGrid('setcolumnproperty', ID_DATAFIELD, 'hidden', !this.rowHeaderVisible);\r\n                break;\r\n            case 'columnHeaderVisible':\r\n                this.jqref.jqxGrid({ showheader: this.columnHeaderVisible });\r\n                this.updatePageSize();\r\n                break;\r\n            case 'isInEditMode':\r\n                this.jqref.jqxGrid({ columnsresize: !this.isInEditMode });\r\n                if (this._validState) {\r\n                    this.jqref.jqxGrid('render');\r\n                }\r\n\r\n                break;\r\n            case 'value':\r\n                this.updateData();\r\n                break;\r\n            case 'showAddRowsToolBar':\r\n                this.updateStatusBar();\r\n                this.updatePageSize();\r\n                break;\r\n            case 'allowSorting':\r\n                this.jqref.jqxGrid({ sortable: this.allowSorting });\r\n                if (!this.allowSorting) {\r\n                    this.jqref.jqxGrid('removesort');\r\n                }\r\n\r\n                break;\r\n            case 'allowPaging':\r\n                this.updatePagingSettings();\r\n                break;\r\n            case 'allowFiltering':\r\n                this.jqref.jqxGrid({ filterable: this.allowFiltering, showfilterrow: this.allowFiltering });\r\n                this.updatePageSize();\r\n                break;\r\n            case 'allowGrouping':\r\n                this.jqref.jqxGrid({ groupable: this.allowGrouping });\r\n                this.updatePageSize();\r\n                break;\r\n            case 'rowHeight':\r\n                this.updateCoercedRowHeight();\r\n                this.jqref.jqxGrid({ rowsheight: this.coercedRowHeight });\r\n                if (this._validState) {\r\n                    this.jqref.jqxGrid('render');\r\n                }\r\n\r\n                break;\r\n            case 'altRowColors':\r\n                this.jqref.jqxGrid({ altrows: this.altRowColors });\r\n                break;\r\n            case 'altRowStart':\r\n                this.jqref.jqxGrid(getAltRowSettings(this.altRowStart, this.altRowStep));\r\n                break;\r\n            case 'altRowStep':\r\n                this.jqref.jqxGrid(getAltRowSettings(this.altRowStart, this.altRowStep));\r\n                break;\r\n            case 'readOnly':\r\n                this.jqref.jqxGrid({ editable: !this.readOnly });\r\n                this.updateStatusBar();\r\n                this.updatePageSize();\r\n                break;\r\n            case 'selectedColumn':\r\n                this.setSelectedColumn(this.selectedColumn);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-data-grid', 'HTMLNIDataGrid');\r\n}(NationalInstruments.HtmlVI.Elements.DataGrid, NationalInstruments.HtmlVI.Elements.Visual));\r\n","/*jslint nomen: true, devel:true*/\r\n/*global NationalInstruments*/\r\n//****************************************\r\n// Data Grid Column\r\n// DOM Registration: No\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.DataGridColumn = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'index',\r\n            defaultValue: -1\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'header',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'fieldName',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'width',\r\n            defaultValue: 50\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'pinned',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'aggregates',\r\n            defaultValue: '{}'\r\n        });\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        this._parentDataGrid = undefined;\r\n    };\r\n\r\n    proto.sendEventToParentDataGrid = function (name, propertyName) {\r\n        var eventConfig;\r\n\r\n        if (this._parentDataGrid !== undefined) {\r\n            eventConfig = {\r\n                cancelable: true,\r\n                detail: {\r\n                    element: this,\r\n                    propertyName: propertyName\r\n                }\r\n            };\r\n\r\n            this._parentDataGrid.dispatchEvent(new CustomEvent(name, eventConfig));\r\n        }\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n\r\n        if (this.parentElement instanceof NationalInstruments.HtmlVI.Elements.DataGrid) {\r\n            this._parentDataGrid = this.parentElement;\r\n            this.sendEventToParentDataGrid('ni-data-grid-column-attached');\r\n        } else {\r\n            NI_SUPPORT.error('Data Grid Column does not have a parent data grid', this);\r\n            this._parentDataGrid = undefined;\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        this.sendEventToParentDataGrid('ni-data-grid-column-changed', propertyName);\r\n    };\r\n\r\n    proto.detachedCallback = function () {\r\n        parent.prototype.detachedCallback.call(this);\r\n\r\n        this.sendEventToParentDataGrid('ni-data-grid-column-detached');\r\n        this._parentDataGrid = undefined;\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-data-grid-column', 'HTMLNIDataGridColumn');\r\n}(NationalInstruments.HtmlVI.Elements.DataGridColumn, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//**************************************\r\n//IOName Control Prototype\r\n//DOM Registration: No\r\n//National Instruments Copyright 2014\r\n//**************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.IONameControl = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'source',\r\n            defaultValue: '[]',\r\n            fireEvent: true,\r\n            addNonSignalingProperty: true\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'selectedValue',\r\n            defaultValue: '',\r\n            fireEvent: true,\r\n            addNonSignalingProperty: true,\r\n            isElementValueProperty: true\r\n        });\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'allowMultipleSelection',\r\n            defaultValue: false\r\n        });\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'allowUndefinedValues',\r\n            defaultValue: false\r\n        });\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'showUserCreateResource',\r\n            defaultValue: false\r\n        });\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'showUserRefresh',\r\n            defaultValue: false\r\n        });\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'showUserBrowse',\r\n            defaultValue: false\r\n        });\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'caseSensitive',\r\n            defaultValue: false\r\n        });\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n        var widgetSettings, jqref, that = this;\r\n        if (firstCall === true) {\r\n            widgetSettings = {};\r\n\r\n            var childElement = document.createElement('div');\r\n            childElement.value = this.value;\r\n            childElement.style.width = '100%';\r\n            childElement.style.height = '100%';\r\n\r\n            this.appendChild(childElement);\r\n            jqref = $(childElement);\r\n\r\n            widgetSettings.selectedIndex = -1;\r\n            widgetSettings.disabled = false;\r\n            widgetSettings.autoDropDownHeight = true;\r\n            var sourceArray = JSON.parse(this.source);\r\n            widgetSettings.selectedIndex = sourceArray.indexOf(this.selectedValue);\r\n\r\n            jqref.jqxDropDownList({ source: sourceArray });\r\n            jqref.jqxDropDownList(widgetSettings);\r\n\r\n            jqref.on('select', function (event) {\r\n                var args = event.args;\r\n                if (args) {\r\n                    var item = args.item;\r\n                    if (item === null) {\r\n                        that.selectedValue = '';\r\n                    } else {\r\n                        that.selectedValue = item.value;\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.forceResize = function (size) {\r\n        parent.prototype.forceResize.call(this, size);\r\n        $(this.firstElementChild).jqxDropDownList(size);\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n        var childElement = this.firstElementChild;\r\n        switch (propertyName) {\r\n            case 'selectedValue':\r\n                var source = $(childElement).jqxDropDownList('source');\r\n                var index = source.indexOf(this.selectedValue);\r\n\r\n                $(childElement).jqxDropDownList({ selectedIndex: index });\r\n                break;\r\n            case 'source':\r\n                var newSource = JSON.parse(this.source);\r\n                $(childElement).jqxDropDownList({ source: newSource });\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-io-name-control', 'HTMLNIIONameControl');\r\n}(NationalInstruments.HtmlVI.Elements.IONameControl, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// Legend Helpers Prototype\r\n// DOM Registration: Not an element\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n(function () {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Elements.LegendHelpers = function (helpers, legendItemDisplay) {\r\n        this.helpers = helpers;\r\n        this.legendItemDisplay = legendItemDisplay;\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    var child = NationalInstruments.HtmlVI.Elements.LegendHelpers;\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addButtons = function (menuItem, div, index) {\r\n        var that = this;\r\n        var btn, current;\r\n        menuItem.children.forEach(function (children) {\r\n            btn = document.createElement('button');\r\n            btn.type = 'button';\r\n            btn.className = 'ni-button';\r\n            $(btn).jqxToggleButton({ toggled: false });\r\n            if (children.cssClass !== '') {\r\n                btn.classList.add(children.cssClass);\r\n            }\r\n\r\n            $(btn).on('click', function () {\r\n                if (this !== current) {\r\n                    $(current).jqxToggleButton('toggle');\r\n                    current = this;\r\n                }\r\n\r\n                that.helpers.handleClick(children.name, null, index);\r\n                that.legendItemDisplay.updateShape(index);\r\n            });\r\n            var state = that.helpers.getState(children.name, index);\r\n            if (state !== undefined) {\r\n                $(btn).jqxToggleButton({ 'toggled': state });\r\n                if (state === true) {\r\n                    current = btn;\r\n                }\r\n            }\r\n\r\n            div.appendChild(btn);\r\n        });\r\n    };\r\n\r\n    proto.addComboBox = function (menuItem, div, index, iconWidth) {\r\n        var that = this;\r\n        var i, selectedIndex = 0, init = true;\r\n        $(div).jqxDropDownList(\r\n                {\r\n                    width: 'inherit',\r\n                    dropDownHeight: menuItem.children.length * 26\r\n                }\r\n                );\r\n        for (i = 0; i < menuItem.children.length; i++) {\r\n            var text = NI_SUPPORT.i18n(menuItem.children[i].tag);\r\n            if (text.substring(0, 5) === '[msg_') { // in case server is not running\r\n                text = menuItem.name;\r\n            }\r\n\r\n            $(div).jqxDropDownList('addItem', { id: menuItem.children[i].name, html: '<div style=\"width: 100%\"><span class=\"ni-selector-title\">' + text + '</span><div class=\"ni-selector-icon ' + menuItem.children[i].cssClass + '\"' + ' style=\"background-size: ' + iconWidth + 'px 16px; width: ' + (iconWidth + 4) + 'px; \"></div></div>' });\r\n            var itemState = this.helpers.getState(menuItem.children[i].name, index);\r\n            if (itemState === true) {\r\n                selectedIndex = i;\r\n            }\r\n        }\r\n\r\n        $(div).on('select', function (event) {\r\n            var args = event.args;\r\n            if (init === true) {\r\n                return;\r\n            }\r\n\r\n            that.helpers.handleClick(args.item.label.id, null, index);\r\n            that.legendItemDisplay.updateShape(index);\r\n        });\r\n        $(div).jqxDropDownList({ 'selectedIndex': selectedIndex });\r\n        init = false;\r\n    };\r\n\r\n    proto.getTextElementByColor = function (color) {\r\n        if (color === 'transparent' || color.hex === '') {\r\n            return $('<div class=\"ni-colorbox-content\">transparent</div>');\r\n        }\r\n\r\n        var element = $('<div class=\"ni-colorbox-content\">#' + color.hex + '</div>');\r\n        var nThreshold = 105;\r\n        var bgDelta = (color.r * 0.299) + (color.g * 0.587) + (color.b * 0.114);\r\n        var foreColor = (255 - bgDelta < nThreshold) ? 'Black' : 'White';\r\n        element.css('color', foreColor);\r\n        element.css('background', '#' + color.hex);\r\n        element.addClass('jqx-rc-all');\r\n        return element;\r\n    };\r\n\r\n    proto.addColorBox = function (menuItem, div, index) {\r\n        var that = this;\r\n        var dropList = document.createElement('div');\r\n        $(div).append(dropList);\r\n        var colorbox = document.createElement('div');\r\n        colorbox.className = 'legend-colorbox-colorbox';\r\n        dropList.appendChild(colorbox);\r\n        $(colorbox).jqxColorPicker({\r\n            width: '200px', height: '220px',\r\n            colorMode: 'hue'\r\n        });\r\n        $(colorbox).on('colorchange', function (e) {\r\n            $(div).jqxDropDownButton('setContent', that.getTextElementByColor(e.args.color));\r\n            that.helpers.handleClick(menuItem.name, e.args.color, index);\r\n            that.legendItemDisplay.updateShape(index);\r\n        });\r\n        $(div).jqxDropDownButton(\r\n            { width: 'inherit'}\r\n            );\r\n        var color = this.helpers.getState(menuItem.name, index);\r\n        if (color !== undefined) {\r\n            if (color.charAt(0) === '#') {\r\n                color = color.substring(1);\r\n            }\r\n        } else {\r\n            color = 'ff0000';\r\n        }\r\n\r\n        $(div).jqxDropDownButton('setContent', this.getTextElementByColor(new $.jqx.color({ hex: color })));\r\n    };\r\n\r\n    proto.addCheckBox = function (menuItem, div, index) {\r\n        var that = this;\r\n        var btn = $(div).jqxCheckBox();\r\n        btn.className = 'legend-checkbox';\r\n        $(btn).on('change', function (e) {\r\n            that.helpers.handleClick(menuItem.name, e.args.checked, index);\r\n        });\r\n        var state = that.helpers.getState(menuItem.name, index);\r\n        if (state !== undefined) {\r\n            $(btn).jqxCheckBox({ checked: state });\r\n        }\r\n    };\r\n}());\r\n","//****************************************\r\n// Plot Legend Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.PlotLegend = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'graphName',\r\n            defaultValue: '',\r\n            fireEvent: false,\r\n            addNonSignalingProperty: false\r\n        });\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'isInEditMode',\r\n            defaultValue: false,\r\n            fireEvent: false,\r\n            addNonSignalingProperty: false\r\n        });\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        // Public Instance Properties\r\n        this.tbl = undefined;\r\n        this.nPlots = 0;\r\n        this.currentExpander = null;\r\n        this.helpers = new NationalInstruments.HtmlVI.Elements.PlotLegendHelpers();\r\n        this.plotLegendItemDisplay = new NationalInstruments.HtmlVI.Elements.PlotLegendItemDisplay(this.helpers);\r\n        this.uihelpers = new NationalInstruments.HtmlVI.Elements.LegendHelpers(this.helpers, this.plotLegendItemDisplay);\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    proto.plotAdded = function () {\r\n        this.createRow(this.tbl, this.nPlots);\r\n        this.helpers.addRenderer(this.nPlots);\r\n        this.nPlots++;\r\n    };\r\n\r\n    proto.plotRemoved = function (index) {\r\n        this.removeRow(this.tbl, index);\r\n        this.helpers.clearRenderer(index);\r\n        this.nPlots--;\r\n    };\r\n\r\n    proto.createRows = function () {\r\n        var i;\r\n        for (i = 0; i < this.nPlots; i++) {\r\n            this.createRow(this.tbl, i);\r\n        }\r\n    };\r\n\r\n    proto.throttlePlotUpdates = function (enableThrottling) {\r\n        var graph = document.querySelector('[ni-control-id=\\'' + this.graphName + '\\']');\r\n        if (graph !== null) {\r\n            graph.throttlePlotUpdates(enableThrottling);\r\n        }\r\n    };\r\n\r\n    proto.attachToGraph = function (graphElement) {\r\n        this.nPlots = graphElement.plots.length;\r\n        this.createRows();\r\n        graphElement.registerPlotLegend(this);\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            childElement,\r\n            that = this;\r\n\r\n        if (firstCall === true) {\r\n            this.helpers.graphName = this.graphName;\r\n            this.helpers.isInEditMode = this.isInEditMode;\r\n            childElement = document.createElement('div');\r\n            childElement.style.width = '100%';\r\n            childElement.style.height = '100%';\r\n            childElement.style.overflowX = 'auto';\r\n            childElement.style.overflowY = 'hidden';\r\n            this.appendChild(childElement);\r\n            this.tbl = document.createElement('table');\r\n            this.tbl.style.width = '100%';\r\n            this.tbl.style.height = '100%';\r\n            childElement.appendChild(this.tbl);\r\n\r\n            this.addEventListener('ni-cartesian-plot-attached', function () {\r\n                that.plotAdded();\r\n            });\r\n\r\n            this.addEventListener('ni-cartesian-plot-detached', function (evt) {\r\n                var index;\r\n                var source = evt.detail.originalSource;\r\n                index = that.helpers.plotToIndex(source);\r\n\r\n                that.plotRemoved(index);\r\n            });\r\n\r\n            this.addEventListener('ni-cartesian-plot-changed', function (evt) {\r\n                var index;\r\n                var source = evt.detail.originalSource;\r\n                index = that.helpers.plotToIndex(source);\r\n                that.updatePlotName(index, that.helpers.getPlotName(index));\r\n            });\r\n\r\n            this.addEventListener('ni-cartesian-plot-renderer-changed', function (evt) {\r\n                var index;\r\n                var source = evt.detail.originalSource;\r\n                index = that.helpers.rendererToIndex(source); // the event is routed through a plot and we gat a plot as a source\r\n                that.plotLegendItemDisplay.updateShape(index);\r\n            });\r\n\r\n            this.addEventListener('ni-cartesian-plot-renderer-attached', function (evt) {\r\n                var index;\r\n                var source = evt.detail.originalSource;\r\n                index = that.helpers.rendererToIndex(source); // the event is routed through a plot and we got a plot as a source\r\n                that.plotLegendItemDisplay.updateShape(index);\r\n            });\r\n\r\n            this.addEventListener('ni-cartesian-plot-renderer-detached', function (evt) {\r\n                var index;\r\n                var source = evt.detail.originalSource;\r\n                index = that.helpers.rendererToIndex(source); // the event is routed through a plot and we got a plot as a source\r\n                that.plotLegendItemDisplay.updateShape(index);\r\n            });\r\n\r\n            var graph = document.querySelector('[ni-control-id=\\'' + this.graphName + '\\']');\r\n\r\n            if (graph !== null) {\r\n                this.attachToGraph(graph);\r\n            }\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.createRow = function (tbl, index) {\r\n        var that = this;\r\n        var tr, exp, header, content, div, plotName, p, span;\r\n\r\n        tr = document.createElement('tr');\r\n        tbl.appendChild(tr);\r\n        exp = document.createElement('div');\r\n        exp.id = 'expander' + index;\r\n        exp.className = 'ni-plot-legend-box';\r\n        tr.appendChild(exp);\r\n        header = document.createElement('div');\r\n        header.id = 'header' + index;\r\n        header.className = 'ni-master-row';\r\n        exp.appendChild(header);\r\n\r\n        div = document.createElement('div');\r\n        div.className = 'ni-plot-display';\r\n        header.appendChild(div);\r\n        this.plotLegendItemDisplay.createHeaderDisplay(div, index);\r\n        this.plotLegendItemDisplay.updateShape(index);\r\n\r\n        span = document.createElement('span');\r\n        span.className = 'ni-plot-title';\r\n        plotName = this.helpers.getPlotName(index);\r\n\r\n        p = document.createTextNode(plotName);\r\n        span.appendChild(p);\r\n        header.appendChild(span);\r\n\r\n        content = document.createElement('div');\r\n        content.id = 'content' + index;\r\n        content.className = 'ni-details-box';\r\n        exp.appendChild(content);\r\n        $(exp).jqxExpander({\r\n            expanded: false,\r\n            disabled: this.isInEditMode,\r\n            expandAnimationDuration: 50,\r\n            collapseAnimationDuration: 50,\r\n            initContent: function () {\r\n                that.loadContent(content, index);\r\n            }\r\n        });\r\n        $(exp).on('expanded', function () {\r\n            if (this !== that.currentExpander) {\r\n                var expander = that.currentExpander;\r\n                that.currentExpander = this;\r\n                if (expander !== null) {\r\n                    $(expander).jqxExpander({ expanded: false });\r\n                }\r\n            }\r\n        });\r\n        this.applyFont();\r\n    };\r\n\r\n    proto.updatePlotName = function (index, name) {\r\n        var titles = $(this.tbl).find('.ni-plot-title');\r\n        $(titles[index]).text(name);\r\n    };\r\n\r\n    proto.loadContent = function (content, index) {\r\n        var tbl, tr, j, span, p, td1, td2, div;\r\n        content.style.height = ((this.helpers.menu.length + 1) * 30) + 10 + 'px';\r\n        tbl = document.createElement('table');\r\n        tbl.className = 'ni-details';\r\n        content.appendChild(tbl);\r\n\r\n        for (j = 0; j < this.helpers.menu.length; j++) {\r\n            var menuItem = this.helpers.menu[j];\r\n            tr = document.createElement('tr');\r\n            tr.className = 'ni-details-row';\r\n            tbl.appendChild(tr);\r\n            td1 = document.createElement('td');\r\n            td1.className = 'ni-detail-row-title-box';\r\n            tr.appendChild(td1);\r\n            span = document.createElement('span');\r\n            span.className = 'ni-detail-row-title';\r\n            td1.appendChild(span);\r\n            var text = NI_SUPPORT.i18n(menuItem.tag);\r\n            if (text.substring(0, 5) === '[msg_') { // in case server is not running\r\n                text = menuItem.name + '!';\r\n            }\r\n\r\n            p = document.createTextNode(text);\r\n            span.appendChild(p);\r\n            td2 = document.createElement('td');\r\n            td2.className = 'ni-details-row-operations-box';\r\n            tr.appendChild(td2);\r\n            switch (menuItem.type) {\r\n                case 'buttons':\r\n                    this.uihelpers.addButtons(menuItem, td2, index);\r\n                    break;\r\n                case 'combobox':\r\n                    div = document.createElement('div');\r\n                    div.className = 'ni-selector';\r\n                    td2.appendChild(div);\r\n                    this.uihelpers.addComboBox(menuItem, div, index, 60);\r\n                    break;\r\n                case 'colorbox':\r\n                    div = document.createElement('div');\r\n                    div.className = 'ni-colorbox-selector ni-selector';\r\n                    td2.appendChild(div);\r\n                    this.uihelpers.addColorBox(menuItem, div, index);\r\n                    break;\r\n                case 'checkbox':\r\n                    div = document.createElement('div');\r\n                    div.className = 'ni-hover-box';\r\n                    td2.appendChild(div);\r\n                    this.uihelpers.addCheckBox(menuItem, div, index);\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.removeRow = function (tbl, index) {\r\n        var row = tbl.children[index];\r\n        if (row !== null && row !== undefined) {\r\n            tbl.removeChild(row);\r\n        }\r\n    };\r\n\r\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle) {\r\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqrefContent = $(childElement).find(' .jqx-widget-content'),\r\n            jqrefItemTitle = $(childElement).find(' .ni-plot-title'),\r\n            jqrefItemContentTitle = $(childElement).find(' .ni-detail-row-title');\r\n\r\n        jqrefContent.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n        jqrefItemTitle.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n        jqrefItemContentTitle.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n    };\r\n\r\n    proto.applyFont = function () {\r\n        var childElement = this.firstElementChild,\r\n            jqrefContent = $(childElement).find(' .jqx-widget-content'),\r\n            jqrefItemTitle = $(childElement).find(' .ni-plot-title'),\r\n            jqrefItemContentTitle = $(childElement).find(' .ni-detail-row-title');\r\n\r\n        var fontSize = $(this).css('font-size');\r\n        var fontFamily = $(this).css('font-family');\r\n        var fontWeight = $(this).css('font-weight');\r\n        var fontStyle = $(this).css('font-style');\r\n        jqrefContent.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n        jqrefItemTitle.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n        jqrefItemContentTitle.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n            case 'graphName':\r\n                // should never change\r\n                this.helpers.graphName = this.graphName;\r\n                break;\r\n            case 'isInEditMode':\r\n                // this changes once after the element is created\r\n                this.helpers.isInEditMode = this.isInEditMode;\r\n                $(this.tbl).find('.ni-plot-legend-box').each(function () {\r\n                    $(this).jqxExpander({ disabled: this.isInEditMode });\r\n                });\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-plot-legend', 'HTMLNIPlotLegend');\r\n}(NationalInstruments.HtmlVI.Elements.PlotLegend, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// Plot Legend Helpers Prototype\r\n// DOM Registration: Not an element\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n(function () {\r\n    'use strict';\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Elements.PlotLegendHelpers = function () {\r\n        this.graphName = '';\r\n        this.isInEditMode = false;\r\n        this.defaultPlotColors = [\r\n           'rgba(123, 22, 26, 1)',\r\n           'rgba(0, 142, 228, 1)',\r\n           'rgba(226, 182, 131, 1)',\r\n           'rgba(183, 172, 31, 1)',\r\n           'rgba(174, 220, 239, 1)',\r\n           'rgba(160, 139, 176, 1)',\r\n           'rgba(127, 127, 127, 1)',\r\n           'rgba(60, 7, 38, 1)'\r\n        ];\r\n\r\n        // values that are used for the dasharray attribute of the line\r\n        this.lineStyleValues = {\r\n            dot: '1, 2',\r\n            dashdot: '3, 3, 1, 3',\r\n            mediumdash: '3, 3',\r\n            largedash: '5, 4',\r\n            solid: '0'\r\n        };\r\n        this.renderers = [];\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    var child = NationalInstruments.HtmlVI.Elements.PlotLegendHelpers;\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.menu = [\r\n        {\r\n            name: 'Plot Style', tag: 'msg_plotstyle', type: 'buttons', children: [\r\n                { name: 'Line', tag: 'msg_line', cssClass: 'ni-line-style-icon' },\r\n                { name: 'Point', tag: 'msg_point', cssClass: 'ni-point-style-icon' },\r\n                { name: 'Line & Point', tag: 'msg_lineandpoint', cssClass: 'ni-line-and-point-style-icon' },\r\n                { name: 'Bar', tag: 'msg_bar', cssClass: 'ni-bar-style-icon' },\r\n                { name: 'Fill', tag: 'msg_fill', cssClass: 'ni-fill-style-icon' }\r\n            ]\r\n        },\r\n        {\r\n            name: 'Point Style', tag: 'msg_pointstyle', type: 'buttons', children: [\r\n                { name: 'Ellipse', tag: 'msg_ellipse', cssClass: 'ni-ellipse-point-style-icon' },\r\n                { name: 'Rectangle', tag: 'msg_rectangle', cssClass: 'ni-rect-point-style-icon' },\r\n                { name: 'Diamond', tag: 'msg_diamond', cssClass: 'ni-diamond-point-style-icon' },\r\n                { name: 'Cross', tag: 'msg_cross', cssClass: 'ni-cross-point-style-icon' },\r\n                { name: 'Plus', tag: 'msg_plus', cssClass: 'ni-plus-point-style-icon' }\r\n            ]\r\n        },\r\n        {\r\n            name: 'Line Width', tag: 'msg_linewidth', type: 'combobox', children: [\r\n                { name: 'No line', tag: 'msg_noline', cssClass: '' },\r\n                { name: '1-pixel', tag: 'msg_1pixel', cssClass: 'ni-1-pixel-line-width-icon' },\r\n                { name: '2-pixels', tag: 'msg_2pixels', cssClass: 'ni-2-pixels-line-width-icon' },\r\n                { name: '3-pixels', tag: 'msg_3pixels', cssClass: 'ni-3-pixels-line-width-icon' },\r\n                { name: '4-pixels', tag: 'msg_4pixels', cssClass: 'ni-4-pixels-line-width-icon' },\r\n                { name: '5-pixels', tag: 'msg_5pixels', cssClass: 'ni-5-pixels-line-width-icon' }\r\n            ]\r\n        },\r\n        {\r\n            name: 'Line Style', tag: 'msg_linestyle', type: 'combobox', children: [\r\n                { name: 'No style', tag: 'msg_nostyle', cssClass: '' },\r\n                { name: 'Solid', tag: 'msg_solid', cssClass: 'ni-solid-line-style-icon' },\r\n                { name: 'Dot', tag: 'msg_dot', cssClass: 'ni-dot-line-style-icon' },\r\n                { name: 'Dot-dash', tag: 'msg_dashdot', cssClass: 'ni-dot-dash-line-style-icon' },\r\n                { name: 'Medium dash', tag: 'msg_mediumdash', cssClass: 'ni-medium-dash-line-style-icon' },\r\n                { name: 'Large dash', tag: 'msg_largedash', cssClass: 'ni-large-dash-line-style-icon' }\r\n            ]\r\n        },\r\n        {\r\n            name: 'Fill Baseline', tag: 'msg_fillbaseline', type: 'buttons', children: [\r\n                { name: 'No baseline', tag: 'msg_nobaseline', cssClass: 'ni-fill-base-line-none-icon' },\r\n                { name: 'Zero', tag: 'msg_zero', cssClass: 'ni-fill-to-zero-style-icon' },\r\n                { name: '-Inf', tag: 'msg_neginf', cssClass: 'ni-fill-base-line-negative-infinity-icon' },\r\n                { name: 'Inf', tag: 'msg_inf', cssClass: 'ni-fill-base-line-positive-infinity-icon' }\r\n            ]\r\n        },\r\n        {\r\n            name: 'Color', tag: 'msg_color', type: 'colorbox', children: [\r\n            ]\r\n        },\r\n        {\r\n            name: 'Hover', tag: 'msg_hover', type: 'checkbox', children: [\r\n\r\n            ]\r\n        }\r\n    ];\r\n\r\n    proto.addRenderer = function () {\r\n    };\r\n\r\n    proto.clearRenderer = function (index) {\r\n        this.renderers[index] = null;\r\n    };\r\n\r\n    proto.getPlot = function (index) {\r\n        var i = 0;\r\n        var plot = null;\r\n        var graph = document.querySelector('[ni-control-id=\\'' + this.graphName + '\\']');\r\n\r\n        if (graph !== null) {\r\n            for (child in graph.childNodes) {\r\n                if (graph.childNodes[child].localName === 'ni-cartesian-plot') {\r\n                    if (i === index) {\r\n                        plot = graph.childNodes[child];\r\n                        break;\r\n                    }\r\n\r\n                    i++;\r\n                }\r\n            }\r\n        }\r\n\r\n        return plot;\r\n    };\r\n\r\n    proto.plotToIndex = function (plot) {\r\n        var index, graph;\r\n        // graph = document.querySelector('[ni-control-id=\\'' + this.graphName + '\\']');\r\n        graph = plot._parentGraph;\r\n        if (graph !== null) {\r\n            index = graph.plots.indexOf(plot);\r\n        }\r\n\r\n        return index;\r\n    };\r\n\r\n    proto.getPlotName = function (index) {\r\n        var plot = this.getPlot(index);\r\n\r\n        if (plot && (typeof plot.label === 'string')) {\r\n            return plot.label;\r\n        } else {\r\n            return NI_SUPPORT.i18n('msg_defaultplotname');\r\n        }\r\n    };\r\n\r\n    proto.getRenderer = function (index) {\r\n        var plot = null;\r\n        var renderer = null;\r\n        if (this.renderers[index] === null || this.renderers[index] === undefined) {\r\n            plot = this.getPlot(index);\r\n\r\n            if (plot !== null) {\r\n                renderer = plot.lastElementChild;\r\n            }\r\n\r\n            if (renderer === null) {\r\n                return null;\r\n            }\r\n\r\n            this.renderers[index] = renderer;\r\n        }\r\n\r\n        return this.renderers[index];\r\n    };\r\n\r\n    proto.rendererToIndex = function (renderer) {\r\n        var i = 0, index, graph, child, currentRenderer;\r\n        graph = document.querySelector('[ni-control-id=\\'' + this.graphName + '\\']');\r\n        if (graph !== null) {\r\n            for (child in graph.childNodes) {\r\n                if (graph.childNodes[child].localName === 'ni-cartesian-plot') {\r\n                    currentRenderer = graph.childNodes[child].lastElementChild;\r\n                    if (currentRenderer === renderer) {\r\n                        index = i;\r\n                        break;\r\n                    }\r\n\r\n                    i++;\r\n                }\r\n            }\r\n        }\r\n\r\n        return index;\r\n    };\r\n\r\n    proto.handleClick = function (itemName, arg, index) {\r\n        if (this.isInEditMode !== true) {\r\n            var initialColor = '';\r\n            var plot;\r\n            var renderer = this.getRenderer(index);\r\n            if (renderer === null) {\r\n                return;\r\n            }\r\n\r\n            if (renderer.lineStroke !== '') {\r\n                initialColor = renderer.lineStroke;\r\n            }\r\n\r\n            if (renderer.pointColor !== '') {\r\n                initialColor = renderer.pointColor;\r\n            }\r\n\r\n            if (renderer.barFill !== '') {\r\n                initialColor = renderer.barFill;\r\n            }\r\n\r\n            if (renderer.areaFill !== '') {\r\n                initialColor = renderer.areaFill;\r\n            }\r\n\r\n            switch (itemName) {\r\n                case 'No line':\r\n                    renderer.lineWidth = 0;\r\n                    break;\r\n                case '1-pixel':\r\n                    renderer.lineWidth = 1;\r\n                    break;\r\n                case '2-pixels':\r\n                    renderer.lineWidth = 2;\r\n                    break;\r\n                case '3-pixels':\r\n                    renderer.lineWidth = 3;\r\n                    break;\r\n                case '4-pixels':\r\n                    renderer.lineWidth = 4;\r\n                    break;\r\n                case '5-pixels':\r\n                    renderer.lineWidth = 5;\r\n                    break;\r\n                case 'Line':\r\n                    renderer.lineStroke = initialColor;\r\n                    renderer.pointColor = '';\r\n                    renderer.barFill = '';\r\n                    renderer.areaFill = '';\r\n                    break;\r\n                case 'Point':\r\n                    renderer.lineStroke = '';\r\n                    renderer.pointColor = initialColor;\r\n                    renderer.barFill = '';\r\n                    renderer.areaFill = '';\r\n                    break;\r\n                case 'Line & Point':\r\n                    renderer.lineStroke = initialColor;\r\n                    renderer.pointColor = initialColor;\r\n                    renderer.barFill = '';\r\n                    renderer.areaFill = '';\r\n                    break;\r\n                case 'Bar':\r\n                    renderer.lineStroke = '';\r\n                    renderer.pointColor = '';\r\n                    renderer.barFill = initialColor;\r\n                    renderer.areaFill = '';\r\n                    break;\r\n                case 'Fill':\r\n                    renderer.lineStroke = '';\r\n                    renderer.pointColor = '';\r\n                    renderer.barFill = '';\r\n                    renderer.areaFill = initialColor;\r\n                    break;\r\n                case 'Ellipse':\r\n                    renderer.pointShape = 'ellipse';\r\n                    break;\r\n                case 'Rectangle':\r\n                    renderer.pointShape = 'rectangle';\r\n                    break;\r\n                case 'Diamond':\r\n                    renderer.pointShape = 'diamond';\r\n                    break;\r\n                case 'Cross':\r\n                    renderer.pointShape = 'cross';\r\n                    break;\r\n                case 'Plus':\r\n                    renderer.pointShape = 'plus';\r\n                    break;\r\n                case 'No style':\r\n                    renderer.lineStyle = '';\r\n                    break;\r\n                case 'Solid':\r\n                    renderer.lineStyle = 'solid';\r\n                    break;\r\n                case 'Dot':\r\n                    renderer.lineStyle = 'dot';\r\n                    break;\r\n                case 'Dot-dash':\r\n                    renderer.lineStyle = 'dashdot';\r\n                    break;\r\n                case 'Medium dash':\r\n                    renderer.lineStyle = 'mediumdash';\r\n                    break;\r\n                case 'Large dash':\r\n                    renderer.lineStyle = 'largedash';\r\n                    break;\r\n                case 'No baseline':\r\n                    break;\r\n                case 'Zero':\r\n                    break;\r\n                case '-Inf':\r\n                    break;\r\n                case 'Inf':\r\n                    break;\r\n                case 'Color':\r\n                    if (renderer.lineStroke !== '') {\r\n                        renderer.lineStroke = '#' + arg.hex;\r\n                    } else if (renderer.pointColor !== '') {\r\n                        renderer.pointColor = '#' + arg.hex;\r\n                    } else if (renderer.barFill !== '') {\r\n                        renderer.barFill = '#' + arg.hex;\r\n                    } else if (renderer.areaFill !== '') {\r\n                        renderer.areaFill = '#' + arg.hex;\r\n                    }\r\n\r\n                    break;\r\n                case 'Hover':\r\n                    plot = this.getPlot(index);\r\n                    plot.enableHover = arg;\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.getState = function (itemName, index) {\r\n        var plot;\r\n        var renderer = this.getRenderer(index);\r\n        if (renderer === null) {\r\n            return undefined;\r\n        }\r\n\r\n        var state;\r\n        switch (itemName) {\r\n            case 'No line':\r\n                state = renderer.lineWidth === 0;\r\n                break;\r\n            case '1-pixel':\r\n                state = renderer.lineWidth === 1;\r\n                break;\r\n            case '2-pixels':\r\n                state = renderer.lineWidth === 2;\r\n                break;\r\n            case '3-pixels':\r\n                state = renderer.lineWidth === 3;\r\n                break;\r\n            case '4-pixels':\r\n                state = renderer.lineWidth === 4;\r\n                break;\r\n            case '5-pixels':\r\n                state = renderer.lineWidth === 5;\r\n                break;\r\n            case 'Line':\r\n                state = renderer.lineStroke !== '' && renderer.pointColor === '';\r\n                break;\r\n            case 'Point':\r\n                state = renderer.lineStroke === '' && renderer.pointColor !== '';\r\n                break;\r\n            case 'Line & Point':\r\n                state = renderer.lineStroke !== '' && renderer.pointColor !== '';\r\n                break;\r\n            case 'Bar':\r\n                state = renderer.barFill !== '';\r\n                break;\r\n            case 'Fill':\r\n                state = renderer.areaFill !== '';\r\n                break;\r\n            case 'Ellipse':\r\n                state = renderer.pointShape === 'ellipse';\r\n                break;\r\n            case 'Rectangle':\r\n                state = renderer.pointShape === 'rectangle';\r\n                break;\r\n            case 'Diamond':\r\n                state = renderer.pointShape === 'diamond';\r\n                break;\r\n            case 'Cross':\r\n                state = renderer.pointShape === 'cross';\r\n                break;\r\n            case 'Plus':\r\n                state = renderer.pointShape === 'plus';\r\n                break;\r\n            case 'No style':\r\n                state = renderer.lineStyle === '';\r\n                break;\r\n            case 'Solid':\r\n                state = renderer.lineStyle === 'solid';\r\n                break;\r\n            case 'Dot':\r\n                state = renderer.lineStyle === 'dot';\r\n                break;\r\n            case 'Dot-dash':\r\n                state = renderer.lineStyle === 'dashdot';\r\n                break;\r\n            case 'Medium dash':\r\n                state = renderer.lineStyle === 'mediumdash';\r\n                break;\r\n            case 'Large dash':\r\n                state = renderer.lineStyle === 'largedash';\r\n                break;\r\n            case 'No baseline':\r\n                break;\r\n            case 'Zero':\r\n                break;\r\n            case '-Inf':\r\n                break;\r\n            case 'Inf':\r\n                break;\r\n            case 'Color':\r\n                state = this.getPlotColorFromRenderer(renderer);\r\n                break;\r\n            case 'Hover':\r\n                plot = this.getPlot(index);\r\n                state = plot.enableHover;\r\n                break;\r\n        }\r\n\r\n        return state;\r\n    };\r\n\r\n    proto.getPlotColor = function (index) {\r\n        var renderer = this.getRenderer(index);\r\n        if (renderer !== null) {\r\n            return this.getPlotColorFromRenderer(renderer);\r\n        }\r\n\r\n        return this.defaultPlotColors[index % this.defaultPlotColors.length];\r\n    };\r\n\r\n    proto.getPlotColorFromRenderer = function (renderer) {\r\n        var state = 'rgba(0, 0, 0, 1)';\r\n        if (renderer.lineStroke !== '') {\r\n            state = renderer.lineStroke;\r\n        } else if (renderer.pointColor !== '') {\r\n            state = renderer.pointColor;\r\n        } else if (renderer.barFill !== '') {\r\n            state = renderer.barFill;\r\n        } else if (renderer.areaFill !== '') {\r\n            state = renderer.areaFill;\r\n        }\r\n\r\n        return state;\r\n    };\r\n\r\n    proto.getLineWidth = function (index) {\r\n        var renderer = this.getRenderer(index);\r\n        if (renderer !== null) {\r\n            return renderer.lineWidth;\r\n        }\r\n\r\n        // Return the default line width if there is no renderer.\r\n        return 1;\r\n    };\r\n\r\n    proto.getLineShape = function (index) {\r\n        var lineShape = 'line';\r\n        var renderer = this.getRenderer(index);\r\n        if (renderer !== null) {\r\n            if (renderer.lineStroke !== '' && renderer.pointColor === '') {\r\n                lineShape = 'line';\r\n            } else if (renderer.lineStroke === '' && renderer.pointColor !== '') {\r\n                lineShape = 'points';\r\n            } else if (renderer.lineStroke !== '' && renderer.pointColor !== '') {\r\n                lineShape = 'line & point';\r\n            } else if (renderer.barFill !== '') {\r\n                lineShape = 'bar';\r\n            } else if (renderer.areaFill !== '') {\r\n                lineShape = 'fill';\r\n            }\r\n        }\r\n\r\n        // Return the default line shape if there is no renderer.\r\n        return lineShape;\r\n    };\r\n\r\n    proto.getLineStyle = function (index) {\r\n        var renderer = this.getRenderer(index);\r\n        if (renderer !== null) {\r\n            switch (renderer.lineStyle) {\r\n                case 'dot':\r\n                    return this.lineStyleValues.dot;\r\n                case 'dashdot':\r\n                    return this.lineStylValues.dashdot;\r\n                case 'mediumdash':\r\n                    return this.lineStyleValues.mediumdash;\r\n                case 'largedash':\r\n                    return this.lineStyleValues.largedash;\r\n                default:\r\n                    return this.lineStyleValues.solid;\r\n            }\r\n        }\r\n\r\n        return '0';\r\n    };\r\n\r\n    proto.getPointShape = function (index) {\r\n        var renderer = this.getRenderer(index);\r\n        if (renderer !== null) {\r\n            return renderer.pointShape;\r\n        }\r\n\r\n        // Return the default point shape if there is no renderer.\r\n        return 'ellipse';\r\n    };\r\n\r\n}());\r\n","//****************************************\r\n// Plot Legend Prototype\r\n// DOM Registration: Not an element\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Elements.PlotLegendItemDisplay = function (helpers) {\r\n        this.pointTypes = [\r\n           { name: 'ellipse', creator: createEllipseShape },\r\n           { name: 'rectangle', creator: createRectangleShape },\r\n           { name: 'diamond', creator: createDiamondShape },\r\n           { name: 'cross', creator: createCrossShape },\r\n           { name: 'plus', creator: createPlusShape }\r\n        ];\r\n\r\n        this.lineTypes = [\r\n            { name: 'line', creator: createLine },\r\n            { name: 'fill', creator: createFillArea },\r\n            { name: 'bar', creator: createBars },\r\n            { name: 'points', creator: createPoints }\r\n        ];\r\n\r\n        this.shapes = [];\r\n        this.helpers = helpers;\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    var child = NationalInstruments.HtmlVI.Elements.PlotLegendItemDisplay;\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.createHeaderDisplay = function (div, index) {\r\n        var svgns, svg;\r\n        svgns = 'http://www.w3.org/2000/svg';\r\n        svg = document.createElementNS(svgns, 'svg');\r\n        svg.setAttribute('style', 'border: 1px solid black');\r\n        svg.setAttribute('width', '16');\r\n        svg.setAttribute('height', '16');\r\n        svg.setAttribute('viewBox', '0,0,16,16');\r\n        svg.setAttributeNS('http://www.w3.org/2000/xmlns/', 'xmlns:xlink', 'http://www.w3.org/1999/xlink');\r\n        div.appendChild(svg);\r\n\r\n        var shapesGroup = document.createElementNS(svgns, 'g');\r\n        var that = this;\r\n        svg.appendChild(shapesGroup);\r\n        this.shapes[index] = {};\r\n        this.shapes[index].shapesGroup = shapesGroup;\r\n\r\n        createLineTypes(index, shapesGroup, svgns, that);\r\n        shapesGroup.setAttribute('stroke', 'rgba(255, 0, 0, 1)');\r\n    };\r\n\r\n    var createLineTypes = function (index, shapesGroup, svgns, plotLegendItemDisplay) {\r\n        var i;\r\n\r\n        for (i = 0; i < plotLegendItemDisplay.lineTypes.length; i++) {\r\n            plotLegendItemDisplay.lineTypes[i].creator(index, shapesGroup, svgns, plotLegendItemDisplay);\r\n        }\r\n    };\r\n\r\n    var createLine = function (index, shapesGroup, svgns, plotLegendItemDisplay) {\r\n        var shape = document.createElementNS(svgns, 'polyline');\r\n        shape.setAttribute('points', '0,15 5,5 10,10 15,0');\r\n        shape.setAttribute('fill', 'none');\r\n        shape.setAttribute('stroke-width', plotLegendItemDisplay.helpers.getLineWidth(index));\r\n        shape.setAttribute('stroke-dasharray', plotLegendItemDisplay.helpers.getLineStyle(index));\r\n\r\n        shapesGroup.appendChild(shape);\r\n        plotLegendItemDisplay.shapes[index].shapesGroup.line = shape;\r\n    };\r\n\r\n    var createFillArea = function (index, shapesGroup, svgns, plotLegendItemDisplay) {\r\n        var shape = document.createElementNS(svgns, 'polyline');\r\n        shape.setAttribute('points', '0,15 5,5 10,10 15,0, 15,15, 0,15');\r\n        shape.setAttribute('fill', plotLegendItemDisplay.helpers.getPlotColor(index));\r\n        shape.setAttribute('stroke-width', plotLegendItemDisplay.helpers.getLineWidth(index));\r\n        shape.setAttribute('visibility', 'hidden');\r\n\r\n        shapesGroup.appendChild(shape);\r\n        plotLegendItemDisplay.shapes[index].shapesGroup.fill = shape;\r\n    };\r\n\r\n    var createBars = function (index, shapesGroup, svgns, plotLegendItemDisplay) {\r\n        var shape = document.createElementNS(svgns, 'polyline');\r\n        shape.setAttribute('points', '1.5,15.5 1.5,12.5, 4.5,12.5 4.5,15.5 6.5,15.5 6.5,3.5, 9.5,3.5 9.5,15.5 11.5,15.5 11.5,7.5 14.5,7.5 14.5,15.5 1.5,15.5');\r\n        shape.setAttribute('fill', plotLegendItemDisplay.helpers.getPlotColor(index));\r\n        shape.setAttribute('stroke-width', 1);\r\n        shape.setAttribute('visibility', 'hidden');\r\n\r\n        shapesGroup.appendChild(shape);\r\n        plotLegendItemDisplay.shapes[index].shapesGroup.bar = shape;\r\n    };\r\n\r\n    var createPoints = function (index, shapesGroup, svgns, plotLegendItemDisplay) {\r\n        var i, j;\r\n        var group;\r\n        var points = [\r\n            { x: 0.5, y: 15.5 },\r\n            { x: 10.5, y: 10.5 },\r\n            { x: 5.5, y: 5.5 },\r\n            { x: 15.5, y: 0.5 }\r\n        ];\r\n        var shape;\r\n\r\n        var pointGroups = document.createElementNS(svgns, 'g');\r\n        plotLegendItemDisplay.shapes[index].shapesGroup.points = pointGroups;\r\n        for (j = 0; j < plotLegendItemDisplay.pointTypes.length; j++) {\r\n            group = document.createElementNS(svgns, 'g');\r\n            for (i = 0; i < 4; i++) {\r\n                shape = plotLegendItemDisplay.pointTypes[j].creator(svgns, points[i], 4);\r\n                group.appendChild(shape);\r\n            }\r\n\r\n            group.setAttribute('fill', plotLegendItemDisplay.helpers.getPlotColor(index));\r\n            group.setAttribute('stroke-width', 1);\r\n            group.setAttribute('visibility', 'hidden');\r\n            pointGroups.appendChild(group);\r\n            plotLegendItemDisplay.shapes[index].shapesGroup.points[plotLegendItemDisplay.pointTypes[j].name] = group;\r\n        }\r\n\r\n        shapesGroup.appendChild(pointGroups);\r\n    };\r\n\r\n    var createEllipseShape = function (svgns, center, size) {\r\n        var shape = document.createElementNS(svgns, 'circle');\r\n        shape.setAttribute('cx', center.x);\r\n        shape.setAttribute('cy', center.y);\r\n        shape.setAttribute('r', size / 2);\r\n        return shape;\r\n    };\r\n\r\n    var createRectangleShape = function (svgns, center, size) {\r\n        var shape = document.createElementNS(svgns, 'rect');\r\n        shape.setAttribute('x', center.x - size / 2);\r\n        shape.setAttribute('y', center.y - size / 2);\r\n        shape.setAttribute('width', size);\r\n        shape.setAttribute('height', size);\r\n        return shape;\r\n    };\r\n\r\n    var createDiamondShape = function (svgns, center, size) {\r\n        var shape = document.createElementNS(svgns, 'path');\r\n        var path = 'M' + (center.x - size / 2) + ',' + center.y;\r\n        path += ' L' + center.x + ',' + (center.y - size / 2);\r\n        path += ' L' + (center.x + size / 2) + ',' + center.y;\r\n        path += ' L' + center.x + ',' + (center.y + size / 2);\r\n        path += ' Z';\r\n        shape.setAttribute('d', path);\r\n        return shape;\r\n    };\r\n\r\n    var createCrossShape = function (svgns, center, size) {\r\n        var shape = document.createElementNS(svgns, 'path');\r\n        var path = 'M' + (center.x - size / 2) + ',' + (center.y - size / 2);\r\n        path += ' L' + (center.x + size / 2) + ',' + (center.y + size / 2);\r\n        path += 'M' + (center.x + size / 2) + ',' + (center.y - size / 2);\r\n        path += ' L' + (center.x - size / 2) + ',' + (center.y + size / 2);\r\n        shape.setAttribute('d', path);\r\n        return shape;\r\n    };\r\n\r\n    var createPlusShape = function (svgns, center, size) {\r\n        var shape = document.createElementNS(svgns, 'path');\r\n        var path = 'M' + center.x + ',' + (center.y - size / 2);\r\n        path += ' L' + center.x + ',' + (center.y + size / 2);\r\n        path += 'M' + (center.x - size / 2) + ',' + center.y;\r\n        path += ' L' + (center.x + size / 2) + ',' + center.y;\r\n        shape.setAttribute('d', path);\r\n        return shape;\r\n    };\r\n\r\n    proto.updateLinesAttributes = function (index, group, color) {\r\n        var lineShape = this.helpers.getLineShape(index);\r\n\r\n        if (lineShape === 'line' || lineShape === 'line & point') {\r\n            group.line.setAttribute('stroke-width', this.helpers.getLineWidth(index));\r\n            group.line.setAttribute('stroke-dasharray', this.helpers.getLineStyle(index));\r\n        }\r\n\r\n        group.fill.setAttribute('fill', color);\r\n        group.bar.setAttribute('fill', color);\r\n        for (var i = 0; i < this.pointTypes.length; i++) {\r\n            group.points[this.pointTypes[i].name].setAttribute('fill', color);\r\n        }\r\n\r\n    };\r\n\r\n    proto.updatePointVisibility = function (index, group, currentLineShape) {\r\n        var currentPointShape = this.helpers.getPointShape(index);\r\n        for (var j = 0; j < this.pointTypes.length; j++) {\r\n            if (currentPointShape === this.pointTypes[j].name && (currentLineShape === 'line & point' || currentLineShape === 'points')) {\r\n                group.points[this.pointTypes[j].name].setAttribute('visibility', 'visible');\r\n            } else {\r\n                group.points[this.pointTypes[j].name].setAttribute('visibility', 'hidden');\r\n            }\r\n\r\n        }\r\n\r\n    };\r\n\r\n    proto.updateVisibility = function (index, group) {\r\n        var currentLineShape = this.helpers.getLineShape(index);\r\n\r\n        for (var i = 0; i < this.lineTypes.length; i++) {\r\n            if (currentLineShape === this.lineTypes[i].name) {\r\n                group[this.lineTypes[i].name].setAttribute('visibility', 'visible');\r\n            } else {\r\n                group[this.lineTypes[i].name].setAttribute('visibility', 'hidden');\r\n            }\r\n        }\r\n\r\n        if (currentLineShape === 'line & point') {\r\n            group.line.setAttribute('visibility', 'visible');\r\n            group.points.setAttribute('visibility', 'visible');\r\n        }\r\n\r\n        this.updatePointVisibility(index, group, currentLineShape);\r\n    };\r\n\r\n    proto.updateShape = function (index) {\r\n        var shape = this.shapes[index];\r\n\r\n        if (shape === undefined || shape === null) {\r\n            return;\r\n        }\r\n\r\n        var color = this.helpers.getPlotColor(index);\r\n\r\n        this.updateLinesAttributes(index, shape.shapesGroup, color);\r\n        this.updateVisibility(index, shape.shapesGroup);\r\n        shape.shapesGroup.setAttribute('stroke', color);\r\n    };\r\n}());\r\n","//****************************************\r\n// Cursor Legend Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.CursorLegend = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'graphName',\r\n            defaultValue: '',\r\n            fireEvent: false,\r\n            addNonSignalingProperty: false\r\n        });\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'isInEditMode',\r\n            defaultValue: false,\r\n            fireEvent: false,\r\n            addNonSignalingProperty: false\r\n        });\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        // Public Instance Properties\r\n        this.table = undefined;\r\n        this.nCursors = 0;\r\n        this.selectedIndex = -1;\r\n        this.selectedRow = null;\r\n        this.addButton = null;\r\n        this.deleteButton = null;\r\n        this.centerButton = null;\r\n        this.currentRow = null;\r\n        this.currentBtn = null;\r\n        this.observer = null;\r\n        this.helpers = new NationalInstruments.HtmlVI.Elements.CursorLegendHelpers();\r\n        this.cursorLegendItemDisplay = new NationalInstruments.HtmlVI.Elements.CursorLegendItemDisplay(this.helpers);\r\n        this.uihelpers = new NationalInstruments.HtmlVI.Elements.LegendHelpers(this.helpers, this.cursorLegendItemDisplay);\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    proto.cursorAdded = function (cursor) {\r\n        var that = this;\r\n        var n = that.nCursors;\r\n        var tr;\r\n        that.createRow(that.table, that.nCursors);\r\n        that.helpers.cursorAdded(cursor);\r\n        that.helpers.cursorPositionChanged(that.nCursors, function (x, y) {\r\n            that.updatePosition(n, x, y);\r\n        });\r\n        if (that.selectedIndex >= 0) {\r\n            tr = that.table.childNodes[that.selectedIndex * 2];\r\n            $(tr).removeClass('ni-selected-row');\r\n        }\r\n\r\n        tr = that.table.childNodes[n * 2];\r\n        that.selectedIndex = n;\r\n        that.selectedRow = tr;\r\n        $(tr).addClass('ni-selected-row');\r\n        that.nCursors++;\r\n    };\r\n\r\n    proto.updatePosition = function (index, x, y) {\r\n        var xEl = document.getElementById('x_' + index);\r\n        var yEl = document.getElementById('y_' + index);\r\n        if (xEl !== null && x !== undefined) {\r\n            xEl.innerText = x.toPrecision(4);\r\n        }\r\n\r\n        if (yEl !== null && y !== undefined) {\r\n            yEl.innerText = y.toPrecision(4);\r\n        }\r\n    };\r\n\r\n    // cursor can be removed at runtime or edit time from legend, or at edit time from right rail\r\n    proto.cursorRemoved = function (cursor) {\r\n        var index;\r\n        index = this.helpers.cursorToIndex(cursor);\r\n        if (index >= 0) {\r\n            $('.ni-master-row').eq(index).remove();\r\n            $('.ni-details-box').eq(index).remove();\r\n            this.cursorLegendItemDisplay.clearShape(index);\r\n            this.nCursors--;\r\n            this.helpers.cursorRemoved(cursor);\r\n\r\n            if (index === this.selectedIndex) {\r\n                this.selectedIndex = -1;\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.cursorChanged = function (cursor) {\r\n        var index = this.helpers.cursorToIndex(cursor);\r\n        this.cursorLegendItemDisplay.updateShape(index);\r\n        this.updateName(index);\r\n        this.updateVisible(index);\r\n    };\r\n\r\n    proto.updateName = function (index) {\r\n        $('#name_' + index).text(this.helpers.getState('name', index));\r\n    };\r\n\r\n    proto.updateVisible = function (index) {\r\n        var visible = this.helpers.getState('visible', index);\r\n        if (visible) {\r\n            $('#visible_' + index).removeClass('ni-visibility-off-icon').addClass('ni-visibility-on-icon');\r\n        } else {\r\n            $('#visible_' + index).removeClass('ni-visibility-on-icon').addClass('ni-visibility-off-icon');\r\n        }\r\n    };\r\n\r\n    proto.attachToGraph = function (graphElement) {\r\n        graphElement.registerCursorLegend(this);\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            that = this;\r\n\r\n        if (firstCall === true) {\r\n            that.helpers.graphName = that.graphName;\r\n            that.helpers.isInEditMode = that.isInEditMode;\r\n            var div = document.createElement('div');\r\n            div.style.width = '100%';\r\n            div.style.height = '100%';\r\n            div.id = 'div' + NI_SUPPORT.uniqueId();\r\n            that.appendChild(div);\r\n            that.table = document.createElement('table');\r\n            that.table.className = 'ni-cursors-box';\r\n            div.appendChild(that.table);\r\n\r\n            var buttonsRow = document.createElement('div');\r\n            div.appendChild(buttonsRow);\r\n\r\n            var center = document.createElement('button');\r\n            center.className = 'ni-center-icon ni-command-button';\r\n            $(center).jqxButton();\r\n            $(center).on('click', function () {\r\n                that.helpers.centerCursor(that.selectedIndex);\r\n            });\r\n            buttonsRow.appendChild(center);\r\n            that.centerButton = center;\r\n\r\n            var add = document.createElement('button');\r\n            add.className = 'ni-add-icon ni-command-button';\r\n            $(add).jqxButton();\r\n            $(add).on('click', function () {\r\n                that.helpers.addCursor();\r\n            });\r\n            buttonsRow.appendChild(add);\r\n            that.addButton = add;\r\n\r\n            var del = document.createElement('button');\r\n            del.className = 'ni-delete-icon ni-command-button';\r\n            $(del).jqxButton();\r\n            $(del).on('click', function () {\r\n                that.helpers.deleteCursor(that.selectedIndex);\r\n                that.selectedIndex = -1;\r\n            });\r\n            buttonsRow.appendChild(del);\r\n            that.deleteButton = del;\r\n\r\n            that.addEventListener('ni-cursor-attached', function (evt) {\r\n                that.cursorAdded(evt.detail.originalSource);\r\n            });\r\n            that.addEventListener('ni-cursor-detached', function (evt) {\r\n                that.cursorRemoved(evt.detail.originalSource);\r\n            });\r\n            that.addEventListener('ni-cursor-changed', function (evt) {\r\n                that.cursorChanged(evt.detail.originalSource);\r\n            });\r\n\r\n            var graph = document.querySelector('[ni-control-id=\\'' + this.graphName + '\\']');\r\n\r\n            if (graph !== null) {\r\n                this.attachToGraph(graph);\r\n            }\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.imageRenderer = function (row) {\r\n        return this.cursorLegendItemDisplay.createHeaderDisplay(row);\r\n    };\r\n\r\n    proto.createRow = function (table, index) {\r\n        var that = this;\r\n        var btn = that.createMainRow(table, index);\r\n        var row = that.createDetailsRow(table, index);\r\n        $(btn).on('click', function () {\r\n            if (that.currentRow !== row) {\r\n                var currentRow = that.currentRow;\r\n                var currentBtn = that.currentBtn;\r\n                row.style.display = 'table-row';\r\n                that.currentRow = row;\r\n                btn.classList.remove('ni-closed-icon');\r\n                btn.classList.add('ni-open-icon');\r\n                that.currentBtn = btn;\r\n                if (currentRow !== null) {\r\n                    currentRow.style.display = 'none';\r\n                }\r\n\r\n                if (currentBtn !== null) {\r\n                    currentBtn.classList.remove('ni-open-icon');\r\n                    currentBtn.classList.add('ni-closed-icon');\r\n                }\r\n            } else {\r\n                row.style.display = 'none';\r\n                btn.classList.remove('ni-open-icon');\r\n                btn.classList.add('ni-closed-icon');\r\n                that.currentRow = null;\r\n                that.currentBtn = null;\r\n            }\r\n        });\r\n        that.applyFont();\r\n    };\r\n\r\n    proto.getRowIndex = function (table, tr) {\r\n        var i;\r\n        for (i = 0; i < table.childNodes.length; i++) {\r\n            if (table.childNodes[i] === tr) {\r\n                return i / 2;\r\n            }\r\n        }\r\n\r\n        return -1;\r\n    };\r\n\r\n    proto.createMainRow = function (table, index) {\r\n        var that = this;\r\n        var rowIndex;\r\n        var tr, td0, td1, td2, td3, td4, span, p, display, button, showHideButton, visible;\r\n        tr = document.createElement('tr');\r\n        tr.className = 'ni-master-row';\r\n        table.appendChild(tr);\r\n        $(tr).on('click', function () {\r\n            if (that.selectedRow !== tr) {\r\n                if (that.selectedRow !== null) {\r\n                    $(that.selectedRow).removeClass('ni-selected-row');\r\n                }\r\n\r\n                that.selectedIndex = that.getRowIndex(table, tr);\r\n                that.selectedRow = tr;\r\n                $(tr).addClass('ni-selected-row');\r\n            } else { // deselect the selected row\r\n                that.selectedIndex = -1;\r\n                $(that.selectedRow).removeClass('ni-selected-row');\r\n            }\r\n        });\r\n\r\n        td0 = document.createElement('td');\r\n        td0.className = 'ni-expand-box';\r\n        tr.appendChild(td0);\r\n        showHideButton = document.createElement('input');\r\n        showHideButton.className = 'ni-expand-button ni-closed-icon';\r\n        showHideButton.type = 'button';\r\n        showHideButton.id = 'details_' + index;\r\n        td0.appendChild(showHideButton);\r\n        $(showHideButton).jqxButton({ width : 20, height: 20, disabled: that.isInEditMode });\r\n\r\n        td1 = document.createElement('td');\r\n        td1.className = 'ni-cursor-box';\r\n        tr.appendChild(td1);\r\n        display = that.cursorLegendItemDisplay.createHeaderDisplay(index);\r\n        if (display !== null) {\r\n            display.id = 'display_' + index;\r\n            td1.appendChild(display);\r\n        }\r\n\r\n        span = document.createElement('span');\r\n        span.className = 'ni-cursor-title';\r\n        span.id = 'name_' + index;\r\n        p = document.createTextNode(that.helpers.getState('name', index));\r\n        span.appendChild(p);\r\n        td1.appendChild(span);\r\n\r\n        td2 = document.createElement('td');\r\n        td2.className = 'ni-x-box';\r\n        tr.appendChild(td2);\r\n        span = document.createElement('span');\r\n        span.className = 'ni-x-title';\r\n        span.id = 'x_' + index;\r\n        p = document.createTextNode(parseFloat(that.helpers.getState('x', index)));\r\n        span.appendChild(p);\r\n        td2.appendChild(span);\r\n\r\n        td3 = document.createElement('td');\r\n        td3.className = 'ni-y-box';\r\n        tr.appendChild(td3);\r\n        span = document.createElement('span');\r\n        span.className = 'ni-y-title';\r\n        span.id = 'y_' + index;\r\n        p = document.createTextNode(parseFloat(that.helpers.getState('y', index)));\r\n        span.appendChild(p);\r\n        td3.appendChild(span);\r\n\r\n        td4 = document.createElement('td');\r\n        td4.className = 'ni-actions-box';\r\n        tr.appendChild(td4);\r\n        button = document.createElement('input');\r\n        button.className = 'ni-visibility-button ni-action-button';\r\n        button.type = 'button';\r\n        button.id = 'visible_' + index;\r\n        visible = that.helpers.getState('visible', index);\r\n        if (visible) {\r\n            button.classList.add('ni-visibility-on-icon');\r\n        } else {\r\n            button.classList.add('ni-visibility-off-icon');\r\n        }\r\n\r\n        $(button).on('click', function () {\r\n            rowIndex = that.getRowIndex(table, tr);\r\n            that.helpers.handleClick('visible', '', rowIndex);\r\n        });\r\n\r\n        td4.appendChild(button);\r\n        $(button).jqxToggleButton({ disabled: that.isInEditMode });\r\n\r\n        button = document.createElement('input');\r\n        button.className = 'ni-snap-icon ni-action-button';\r\n        button.type = 'button';\r\n        button.id = 'snap_' + index;\r\n        td4.appendChild(button);\r\n        $(button).on('click', function () {\r\n            rowIndex = that.getRowIndex(table, tr);\r\n            that.helpers.handleClick('snap', '', rowIndex);\r\n        });\r\n        $(button).jqxToggleButton({ disabled: that.isInEditMode });\r\n\r\n        return showHideButton;\r\n    };\r\n\r\n    proto.createDetailsItem = function (table, title, className) {\r\n        var tr, td1, td2, div, span, p;\r\n        tr = document.createElement('tr');\r\n        tr.className = 'ni-details-row';\r\n        table.appendChild(tr);\r\n\r\n        td1 = document.createElement('td');\r\n        td1.className = 'ni-details-row-title-box';\r\n        tr.appendChild(td1);\r\n        span = document.createElement('span');\r\n        span.class = 'ni-details-row-title';\r\n        td1.appendChild(span);\r\n        p = document.createTextNode(title);\r\n        span.appendChild(p);\r\n\r\n        td2 = document.createElement('td');\r\n        td2.className = 'ni-details-row-control-box';\r\n        tr.appendChild(td2);\r\n        div = document.createElement('div');\r\n        div.className = className;\r\n        td2.appendChild(div);\r\n        return div;\r\n    };\r\n\r\n    proto.createDetailsRow = function (table, index) {\r\n        var subtable, tr, td, div;\r\n\r\n        tr = document.createElement('tr');\r\n        tr.className = 'ni-details-box';\r\n        tr.style.display = 'none';\r\n        table.appendChild(tr);\r\n\r\n        td = document.createElement('td');\r\n        td.colSpan = 5;\r\n        tr.appendChild(td);\r\n\r\n        subtable = document.createElement('table');\r\n        subtable.className = 'ni-details';\r\n        td.appendChild(subtable);\r\n\r\n        div = this.createDetailsItem(subtable, 'Color', 'ni-colorbox-selector ni-selector');\r\n        this.uihelpers.addColorBox({ name: 'Color' }, div, index);\r\n\r\n        div = this.createDetailsItem(subtable, 'Shape', 'ni-shape-selector ni-selector');\r\n        this.uihelpers.addComboBox(this.helpers.getMenuItem('shape'), div, index, 16);\r\n\r\n        div = this.createDetailsItem(subtable, 'Crosshair', 'ni-crosshair-selector ni-selector');\r\n        this.uihelpers.addComboBox(this.helpers.getMenuItem('crosshair'), div, index, 16);\r\n\r\n        return tr;\r\n    };\r\n\r\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle) {\r\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqrefContent = $('#' + childElement.id + ' .jqx-widget-content'),\r\n            jqrefItemName = $('#' + childElement.id + ' .ni-cursor-title'),\r\n            jqrefItemX = $('#' + childElement.id + ' .ni-x-title'),\r\n            jqrefItemY = $('#' + childElement.id + ' .ni-y-title'),\r\n            jqrefItemDetails = $('#' + childElement.id + ' .ni-details-title');\r\n\r\n        jqrefContent.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n        jqrefItemName.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n        jqrefItemX.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n        jqrefItemY.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n        jqrefItemDetails.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n    };\r\n\r\n    proto.applyFont = function () {\r\n        var childElement = this.firstElementChild,\r\n            jqrefContent = $('#' + childElement.id + ' .jqx-widget-content'),\r\n            jqrefItemName = $('#' + childElement.id + ' .ni-cursor-title'),\r\n            jqrefItemX = $('#' + childElement.id + ' .ni-x-title'),\r\n            jqrefItemY = $('#' + childElement.id + ' .ni-y-title'),\r\n            jqrefItemDetails = $('#' + childElement.id + ' .ni-details-title');\r\n\r\n        var fontSize = $(this).css('font-size');\r\n        var fontFamily = $(this).css('font-family');\r\n        var fontWeight = $(this).css('font-weight');\r\n        var fontStyle = $(this).css('font-style');\r\n        jqrefContent.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n        jqrefItemName.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n        jqrefItemX.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n        jqrefItemY.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n        jqrefItemDetails.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n            case 'graphName':\r\n                // should never change\r\n                this.helpers.graphName = this.graphName;\r\n                break;\r\n            case 'isInEditMode':\r\n                // this changes once after the element is created\r\n                this.helpers.isInEditMode = this.isInEditMode;\r\n                if (this.addButton !== null) {\r\n                    this.addButton.disabled = this.isInEditMode;\r\n                }\r\n\r\n                if (this.deleteButton !== null) {\r\n                    this.deleteButton.disabled = this.isInEditMode;\r\n                }\r\n\r\n                if (this.centerButton !== null) {\r\n                    this.centerButton.disabled = this.isInEditMode;\r\n                }\r\n\r\n                $(this.table).find('.ni-expand-button').each(function () {\r\n                    $(this).jqxButton({ disabled: this.isInEditMode });\r\n                });\r\n\r\n                $(this.table).find('.ni-visibility-button').each(function () {\r\n                    $(this).jqxToggleButton({ disabled: this.isInEditMode });\r\n                });\r\n\r\n                $(this.table).find('.ni-snap-icon').each(function () {\r\n                    $(this).jqxToggleButton({ disabled: this.isInEditMode });\r\n                });\r\n\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-cursor-legend', 'HTMLNICursorLegend');\r\n}(NationalInstruments.HtmlVI.Elements.CursorLegend, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// Plot Legend Helpers Prototype\r\n// DOM Registration: Not an element\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n(function () {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Elements.CursorLegendHelpers = function () {\r\n        this.graphName = '';\r\n        this.isInEditMode = false;\r\n        this.cursors = [];\r\n        this.defaultCursorName = NI_SUPPORT.i18n('msg_defaultcursorname');\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    var child = NationalInstruments.HtmlVI.Elements.CursorLegendHelpers;\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.getMenuItem = function (name) {\r\n        if (name === 'shape') {\r\n            return {\r\n                name: 'Target Shape', tag: 'msg_targetshape', children: [\r\n                    { name: 'Ellipse', tag: 'msg_ellipse', cssClass: 'ni-ellipse-point-style-icon' },\r\n                    { name: 'Rectangle', tag: 'msg_rectangle', cssClass: 'ni-rect-point-style-icon' },\r\n                    { name: 'Diamond', tag: 'msg_diamond', cssClass: 'ni-diamond-point-style-icon' },\r\n                    { name: 'Cross', tag: 'msg_cross', cssClass: 'ni-cross-point-style-icon' },\r\n                    { name: 'Plus', tag: 'msg_plus', cssClass: 'ni-plus-point-style-icon' }\r\n                ]\r\n            };\r\n        } else if (name === 'crosshair') {\r\n            return {\r\n                name: 'Crosshair Style', tag: 'msg_crosshairstyle', children: [\r\n                    { name: 'No style', tag: 'msg_nostyle', cssClass: 'ni-no-crosshair-icon' },\r\n                    { name: 'Vertical', tag: 'msg_vertical', cssClass: 'ni-vertical-crosshair-icon' },\r\n                    { name: 'Horizontal', tag: 'msg_horizontal', cssClass: 'ni-horizontal-crosshair-icon' },\r\n                    { name: 'Both', tag: 'msg_both', cssClass: 'ni-both-crosshair-icon' }\r\n                ]\r\n            };\r\n        }\r\n    };\r\n\r\n    proto.cursorAdded = function (cursor) {\r\n        var i;\r\n        for (i = 0; i < this.cursors.length; i++) {\r\n            if (this.cursors[i].niControlId === cursor.niControlId) {\r\n                return; // its already in the list\r\n            }\r\n        }\r\n\r\n        this.cursors.push(cursor);\r\n    };\r\n\r\n    // if cursor is not already removed from the list then remove it\r\n    proto.cursorRemoved = function (cursor) {\r\n        var i;\r\n        for (i = 0; i < this.cursors.length; i++) {\r\n            if (this.cursors[i].niControlId === cursor.niControlId) {\r\n                this.cursors.splice(i, 1);\r\n                return;\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.addCursor = function () {\r\n        var graph = document.querySelector('[ni-control-id=\\'' + this.graphName + '\\']');\r\n        var cursor = document.createElement('ni-cursor');\r\n        cursor.niControlId = NI_SUPPORT.uniqueId();\r\n        this.cursors.push(cursor);\r\n        cursor.label = this.nextCursorName();\r\n        graph.appendChild(cursor);\r\n    };\r\n\r\n    proto.centerCursor = function (index) {\r\n        var cursor = this.getCursor(index);\r\n        if (cursor !== null && cursor !== undefined) {\r\n            cursor.x = 0.5;\r\n            cursor.y = 0.5;\r\n        }\r\n    };\r\n\r\n    proto.cursorPositionChanged = function (index, changed) {\r\n        var cursor = this.getCursor(index);\r\n\r\n        // TODO mraj is undefined an expected value?\r\n        if (cursor === undefined) {\r\n            throw new Error('cursor is undefined');\r\n        }\r\n\r\n        $(cursor).on('cursorUpdated', function (e, data) {\r\n            changed(data.x, data.y);\r\n        });\r\n    };\r\n\r\n    proto.nextCursorName = function () {\r\n        var graph, maxIndex = 1, i, cursor;\r\n        graph = document.querySelector('[ni-control-id=\\'' + this.graphName + '\\']');\r\n        if (graph !== null) {\r\n            for (child in graph.childNodes) {\r\n                if (graph.childNodes[child].localName === 'ni-cursor') {\r\n                    cursor = graph.childNodes[child];\r\n                    i = parseInt(cursor.label.substring(this.defaultCursorName.length));\r\n                    if (i > maxIndex) {\r\n                        maxIndex = i;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return this.defaultCursorName + (maxIndex + 1);\r\n    };\r\n\r\n    proto.getCursor = function (index) {\r\n        var i = 0;\r\n        var graph;\r\n        var cursor = null;\r\n        var child;\r\n        if (this.cursors[index] === null || this.cursors[index] === undefined) {\r\n            graph = document.querySelector('[ni-control-id=\\'' + this.graphName + '\\']');\r\n            if (graph !== null) {\r\n                for (child in graph.childNodes) {\r\n                    if (graph.childNodes[child].localName === 'ni-cursor') {\r\n                        if (i === index) {\r\n                            cursor = graph.childNodes[child];\r\n                            break;\r\n                        }\r\n\r\n                        i++;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (cursor !== null) {\r\n                this.cursors[index] = cursor;\r\n            }\r\n        }\r\n\r\n        return this.cursors[index];\r\n    };\r\n\r\n    proto.deleteCursor = function (index) {\r\n        var graph = document.querySelector('[ni-control-id=\\'' + this.graphName + '\\']');\r\n        var cursor = this.getCursor(index);\r\n        if (cursor !== null && cursor !== undefined) {\r\n            graph.removeChild(cursor);\r\n        }\r\n    };\r\n\r\n    proto.cursorToIndex = function (cursor) {\r\n        var i = 0, index = -1;\r\n        for (i = 0; i < this.cursors.length; i++) {\r\n            if (this.cursors[i] !== null && cursor.niControlId === this.cursors[i].niControlId) {\r\n                index = i;\r\n            }\r\n        }\r\n\r\n        return index;\r\n    };\r\n\r\n    proto.handleClick = function (itemName, arg, index) {\r\n        var cursor = this.getCursor(index);\r\n        if (cursor === null && cursor === undefined) {\r\n            return;\r\n        }\r\n\r\n        switch (itemName) {\r\n            case 'name':\r\n                break;\r\n            case 'x':\r\n                break;\r\n            case 'y':\r\n                break;\r\n            case 'visible':\r\n                cursor.show = !cursor.show;\r\n                break;\r\n            case 'snap':\r\n                cursor.snapToData = !cursor.snapToData;\r\n                break;\r\n            case 'center':\r\n                cursor.x = 0.5;\r\n                cursor.y = 0.5;\r\n                break;\r\n            case 'delete':\r\n                this.deleteCursor(index);\r\n                break;\r\n            case 'Ellipse':\r\n                cursor.targetShape = 'ellipse';\r\n                break;\r\n            case 'Rectangle':\r\n                cursor.targetShape = 'rectangle';\r\n                break;\r\n            case 'Diamond':\r\n                cursor.targetShape = 'diamond';\r\n                break;\r\n            case 'Cross':\r\n                cursor.targetShape = 'cross';\r\n                break;\r\n            case 'Plus':\r\n                cursor.targetShape = 'plus';\r\n                break;\r\n            case 'No style':\r\n                cursor.crosshairStyle = 'none';\r\n                break;\r\n            case 'Vertical':\r\n                cursor.crosshairStyle = 'vertical';\r\n                break;\r\n            case 'Horizontal':\r\n                cursor.crosshairStyle = 'horizontal';\r\n                break;\r\n            case 'Both':\r\n                cursor.crosshairStyle = 'both';\r\n                break;\r\n            case 'Color':\r\n                cursor.cursorColor = '#' + arg.hex;\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.getState = function (itemName, index) {\r\n        var cursor = this.getCursor(index);\r\n        if (cursor === null || cursor === undefined) {\r\n            return undefined;\r\n        }\r\n\r\n        var state;\r\n        switch (itemName) {\r\n            case 'name':\r\n                state = cursor.label;\r\n                break;\r\n            case 'x':\r\n                state = cursor.x;\r\n                break;\r\n            case 'y':\r\n                state = cursor.y;\r\n                break;\r\n            case 'visible':\r\n                state = cursor.show;\r\n                break;\r\n            case 'snap':\r\n                state = cursor.snapToData;\r\n                break;\r\n            case 'center':\r\n                break;\r\n            case 'delete':\r\n                break;\r\n            case 'Ellipse':\r\n                state = cursor.targetShape === 'ellipse';\r\n                break;\r\n            case 'Rectangle':\r\n                state = cursor.targetShape === 'rectangle';\r\n                break;\r\n            case 'Diamond':\r\n                state = cursor.targetShape === 'diamond';\r\n                break;\r\n            case 'Cross':\r\n                state = cursor.targetShape === 'cross';\r\n                break;\r\n            case 'Plus':\r\n                state = cursor.targetShape === 'plus';\r\n                break;\r\n            case 'No style':\r\n                state = cursor.crosshairStyle === 'none';\r\n                break;\r\n            case 'Vertical':\r\n                state = cursor.crosshairStyle === 'vertical';\r\n                break;\r\n            case 'Horizontal':\r\n                state = cursor.crosshairStyle === 'horizontal';\r\n                break;\r\n            case 'Both':\r\n                state = cursor.crosshairStyle === 'both';\r\n                break;\r\n            case 'Color':\r\n                state = cursor.cursorColor;\r\n                break;\r\n        }\r\n\r\n        return state;\r\n    };\r\n\r\n    proto.getTargetShape = function (index) {\r\n        var cursor = this.getCursor(index);\r\n        if (cursor !== null && cursor !== undefined) {\r\n            return cursor.targetShape;\r\n        }\r\n\r\n        return 'ellipse';\r\n    };\r\n\r\n    proto.getCrosshair = function (index) {\r\n        var cursor = this.getCursor(index);\r\n        if (cursor !== null && cursor !== undefined) {\r\n            return cursor.crosshairStyle;\r\n        }\r\n    };\r\n}());\r\n","//****************************************\r\n// Plot Legend Prototype\r\n// DOM Registration: Not an element\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Elements.CursorLegendItemDisplay = function (helpers) {\r\n        this.helpers = helpers;\r\n        this.items = [];\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    var child = NationalInstruments.HtmlVI.Elements.CursorLegendItemDisplay;\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    var svgns = 'http://www.w3.org/2000/svg';\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.clearShape = function (index) {\r\n        this.items.splice(index, 1);\r\n    };\r\n\r\n    //Methods\r\n    proto.createHeaderDisplay = function (index) {\r\n        var svg;\r\n        var cursor = this.helpers.getCursor(index);\r\n        if (cursor === undefined) {\r\n            return null;\r\n        }\r\n\r\n        svg = document.createElementNS(svgns, 'svg');\r\n        svg.setAttribute('class', 'ni-cursor-display');\r\n        //svg.setAttribute('style', 'border: 1px solid black; display: inline-block; margin: auto; margin-top: 4px; vertical-align: middle;');\r\n        svg.setAttribute('width', '16');\r\n        svg.setAttribute('height', '16');\r\n        svg.setAttribute('viewBox', '0,0,16,16');\r\n        svg.setAttributeNS('http://www.w3.org/2000/xmlns/', 'xmlns:xlink', 'http://www.w3.org/1999/xlink');\r\n        this.addShapes(cursor, svg, svgns);\r\n        this.items.push(svg);\r\n        return svg;\r\n    };\r\n\r\n    proto.addShapes = function (cursor, svg, svgns) {\r\n        this.makeShape(cursor, svg, svgns);\r\n        this.makeLine(cursor, svg, svgns, '8', '1', '8', '4', 1);\r\n        this.makeLine(cursor, svg, svgns, '12', '8', '15', '8', 2);\r\n        this.makeLine(cursor, svg, svgns, '8', '12', '8', '15', 3);\r\n        this.makeLine(cursor, svg, svgns, '1', '8', '4', '8', 4);\r\n    };\r\n\r\n    proto.makeShape = function (cursor, svg, svgns) {\r\n        var rect, circle;\r\n        var shape = cursor.targetShape;\r\n        var color = this.getColorString(cursor, 0);\r\n        switch (shape) {\r\n            case 'ellipse':\r\n                circle = document.createElementNS(svgns, 'circle');\r\n                circle.setAttribute('cx', '8');\r\n                circle.setAttribute('cy', '8');\r\n                circle.setAttribute('r', '4');\r\n                circle.setAttribute('stroke', color);\r\n                circle.setAttribute('stroke-width', '1');\r\n                circle.setAttribute('fill', 'rgba(0, 0, 0, 0)');\r\n                svg.appendChild(circle);\r\n                break;\r\n            case 'rectangle':\r\n                rect = document.createElementNS(svgns, 'rect');\r\n                rect.setAttribute('x', '4');\r\n                rect.setAttribute('y', '4');\r\n                rect.setAttribute('width', '8');\r\n                rect.setAttribute('height', '8');\r\n                rect.setAttribute('stroke', color);\r\n                rect.setAttribute('stroke-width', '1');\r\n                rect.setAttribute('fill', 'rgba(0, 0, 0, 0)');\r\n                svg.appendChild(rect);\r\n                break;\r\n            case 'diamond':\r\n                this.makeLine(cursor, svg, svgns, '8', '4', '12', '8', 0);\r\n                this.makeLine(cursor, svg, svgns, '12', '8', '8', '12', 0);\r\n                this.makeLine(cursor, svg, svgns, '8', '12', '4', '8', 0);\r\n                this.makeLine(cursor, svg, svgns, '4', '8', '8', '4', 0);\r\n                break;\r\n            case 'cross':\r\n                this.makeLine(cursor, svg, svgns, '4', '4', '12', '12', 0);\r\n                this.makeLine(cursor, svg, svgns, '4', '12', '12', '4', 0);\r\n                break;\r\n            case 'plus':\r\n                this.makeLine(cursor, svg, svgns, '8', '4', '8', '12', 0);\r\n                this.makeLine(cursor, svg, svgns, '4', '8', '12', '8', 0);\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.makeLine = function (cursor, svg, svgns, x1, y1, x2, y2, colorIndex) {\r\n        var line = document.createElementNS(svgns, 'line');\r\n        line.setAttribute('x1', x1);\r\n        line.setAttribute('y1', y1);\r\n        line.setAttribute('x2', x2);\r\n        line.setAttribute('y2', y2);\r\n        line.setAttribute('stroke', this.getColorString(cursor, colorIndex));\r\n        line.setAttribute('stroke-width', 1);\r\n        svg.appendChild(line);\r\n    };\r\n\r\n    proto.getColorString = function (cursor, partIndex) {\r\n        var crosshair = cursor.crosshairStyle;\r\n        var color = cursor.cursorColor;\r\n        var html;\r\n        switch (crosshair) {\r\n            case 'none':\r\n                html = this.colorWithAlpha(color, partIndex === 0 ? '255' : '0');\r\n                break;\r\n            case 'vertical':\r\n                html = this.colorWithAlpha(color, partIndex === 0 || partIndex === 1 || partIndex === 3 ? '255' : '0');\r\n                break;\r\n            case 'horizontal':\r\n                html = this.colorWithAlpha(color, partIndex === 0 || partIndex === 2 || partIndex === 4 ? '255' : '0');\r\n                break;\r\n            case 'both':\r\n                html = this.colorWithAlpha(color, '255');\r\n                break;\r\n        }\r\n\r\n        return html;\r\n    };\r\n\r\n    proto.colorWithAlpha = function (color, alpha) {\r\n        var r = parseInt(color.substring(1, 3), 16);\r\n        var g = parseInt(color.substring(3, 5), 16);\r\n        var b = parseInt(color.substring(5), 16);\r\n        return 'rgba(' + r + ',' + g + ',' + b + ',' + alpha + ')';\r\n    };\r\n\r\n    proto.updateShape = function (index) {\r\n        var svg = this.items[index];\r\n        var cursor = this.helpers.getCursor(index);\r\n        if (cursor === undefined) {\r\n            return null;\r\n        }\r\n\r\n        while (svg.firstChild) {\r\n            svg.removeChild(svg.firstChild);\r\n        }\r\n\r\n        this.addShapes(cursor, svg, svgns);\r\n    };\r\n}());\r\n","//****************************************\r\n// Scale Legend Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.ScaleLegend = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'graphName',\r\n            defaultValue: '',\r\n            fireEvent: false,\r\n            addNonSignalingProperty: false\r\n        });\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'isInEditMode',\r\n            defaultValue: false,\r\n            fireEvent: false,\r\n            addNonSignalingProperty: false\r\n        });\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        // Public Instance Properties\r\n        this.tbl = undefined;\r\n        this.nScales = 0;\r\n        this.currentExpander = null;\r\n        this.helpers = new NationalInstruments.HtmlVI.Elements.ScaleLegendHelpers();\r\n        this.uihelpers = new NationalInstruments.HtmlVI.Elements.LegendHelpers(this.helpers, null);\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    proto.scaleAdded = function () {\r\n        this.createRow(this.tbl, this.nScales);\r\n        this.helpers.addScale(this.nScales);\r\n        this.nScales++;\r\n    };\r\n\r\n    proto.scaleRemoved = function (scale) {\r\n        var tr, td, text, i, j, index, toRemove = null;\r\n        j = 0;\r\n        for (i = 0; i < this.tbl.childNodes.length; i++) {\r\n            if (this.tbl.childNodes[i].localName === 'tr') {\r\n                tr = this.tbl.childNodes[i];\r\n                td = tr.childNodes[0];\r\n                text = td.innerText;\r\n                if (text === scale.label) {\r\n                    toRemove = tr;\r\n                    index = j;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            j++;\r\n        }\r\n\r\n        if (toRemove !== null) {\r\n            this.tbl.removeChild(toRemove);\r\n            this.helpers.clearScale(index);\r\n        }\r\n\r\n        this.nScales--;\r\n    };\r\n\r\n    proto.createRows = function () {\r\n        var i;\r\n        for (i = 0; i < this.nScales; i++) {\r\n            this.createRow(this.tbl, i);\r\n        }\r\n    };\r\n\r\n    proto.attachToGraph = function (graphElement) {\r\n        graphElement.registerScaleLegend(this);\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            childElement,\r\n            that = this;\r\n\r\n        if (firstCall === true) {\r\n            this.helpers.graphName = this.graphName;\r\n            this.helpers.isInEditMode = this.isInEditMode;\r\n            childElement = document.createElement('div');\r\n            childElement.style.width = '100%';\r\n            childElement.style.height = '100%';\r\n            this.appendChild(childElement);\r\n            this.tbl = document.createElement('table');\r\n            this.tbl.className = 'ni-scale-legend-box';\r\n            childElement.appendChild(this.tbl);\r\n            this.addEventListener('ni-cartesian-axis-attached', function () {\r\n                that.scaleAdded();\r\n            });\r\n            this.addEventListener('ni-cartesian-axis-detached', function (evt) {\r\n                that.scaleRemoved(evt.detail.originalSource);\r\n            });\r\n            this.addEventListener('ni-axis-changed', function (evt) {\r\n                var scale = evt.detail.originalSource;\r\n                var index = that.helpers.scaleToIndex(scale);\r\n                var labels = $(this.tbl).find('.ni-row-title');\r\n                var lockButtons = $(this.tbl).find('.ni-lock-button');\r\n                $(labels[index]).first().text(scale.label);\r\n                this.setLockBackground(lockButtons[index], false, index);\r\n            });\r\n            var graph = document.querySelector('[ni-control-id=\\'' + this.graphName + '\\']');\r\n\r\n            if (graph !== null) {\r\n                this.attachToGraph(graph);\r\n            }\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.createRow = function (tbl, index) {\r\n        var that = this;\r\n        var tr, td1, td2, td3, span, p, btnLock, btnScaleOnce;\r\n\r\n        tr = document.createElement('tr');\r\n        tbl.appendChild(tr);\r\n        td1 = document.createElement('td');\r\n        td1.className = 'ni-row-title-box';\r\n        tr.appendChild(td1);\r\n        span = document.createElement('span');\r\n        span.className = 'ni-row-title';\r\n        td1.appendChild(span);\r\n        var scaleName = that.helpers.getState('name', index);\r\n        p = document.createTextNode(scaleName);\r\n        span.appendChild(p);\r\n\r\n        td2 = document.createElement('td');\r\n        td2.className = 'ni-lock-box';\r\n        tr.appendChild(td2);\r\n        btnLock = document.createElement('button');\r\n        btnLock.type = 'button';\r\n        btnLock.className = 'ni-lock-button ni-button';\r\n        $(btnLock).jqxToggleButton();\r\n        $(btnLock).jqxToggleButton({ disabled: !this.helpers.getState('canLock', index) });\r\n        $(btnLock).on('click', function () {\r\n            that.helpers.handleClick('lock', index);\r\n            that.setLockBackground(btnLock, false, index);\r\n        });\r\n        that.setLockBackground(btnLock, true, index);\r\n        td2.appendChild(btnLock);\r\n\r\n        td3 = document.createElement('td');\r\n        td3.className = 'ni-scale-once-box';\r\n        tr.appendChild(td3);\r\n        btnScaleOnce = document.createElement('button');\r\n        btnScaleOnce.type = 'button';\r\n        btnScaleOnce.className = 'ni-scale-once-icon ni-button';\r\n        $(btnScaleOnce).on('click', function () {\r\n            that.helpers.handleClick('scaleonce', index);\r\n            that.setLockBackground(btnLock, false, index);\r\n        });\r\n        td3.appendChild(btnScaleOnce);\r\n        this.applyFont();\r\n    };\r\n\r\n    proto.setLockBackground = function (btn, first, index) {\r\n        var state = this.helpers.getState('lock', index);\r\n        if (state !== undefined) {\r\n            if (first === true) {\r\n                $(btn).jqxToggleButton({ 'toggled': state });\r\n            }\r\n\r\n            if (state === true) {\r\n                btn.classList.remove('ni-locked-icon');\r\n                btn.classList.add('ni-unlocked-icon');\r\n            } else {\r\n                btn.classList.remove('ni-unlocked-icon');\r\n                btn.classList.add('ni-locked-icon');\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle) {\r\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqrefItemTitle = $(childElement).find(' .ni-row-title');\r\n\r\n        jqrefItemTitle.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n    };\r\n\r\n    proto.applyFont = function () {\r\n        var childElement = this.firstElementChild,\r\n            jqrefItemTitle = $(childElement).find(' .ni-row-title');\r\n\r\n        var fontSize = $(this).css('font-size');\r\n        var fontFamily = $(this).css('font-family');\r\n        var fontWeight = $(this).css('font-weight');\r\n        var fontStyle = $(this).css('font-style');\r\n        jqrefItemTitle.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        var that = this;\r\n\r\n        switch (propertyName) {\r\n            case 'graphName':\r\n                // should never change\r\n                this.helpers.graphName = this.graphName;\r\n                break;\r\n            case 'isInEditMode':\r\n                // this changes once after the element is created\r\n                this.helpers.isInEditMode = this.isInEditMode;\r\n                $(this.tbl).find('.ni-lock-button').each(function () {\r\n                    $(this).jqxToggleButton({ disabled: that.isInEditMode });\r\n                });\r\n                $(this.tbl).find('.ni-scale-once-icon').each(function () {\r\n                    $(this).prop('disabled', that.isInEditMode);\r\n                });\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-scale-legend', 'HTMLNIScaleLegend');\r\n}(NationalInstruments.HtmlVI.Elements.ScaleLegend, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// Scale Legend Helpers Prototype\r\n// DOM Registration: Not an element\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Elements.ScaleLegendHelpers = function () {\r\n        this.graphName = '';\r\n        this.isInEditMode = false;\r\n        this.scales = [];\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    var child = NationalInstruments.HtmlVI.Elements.ScaleLegendHelpers;\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addScale = function () {\r\n    };\r\n\r\n    proto.clearScale = function (index) {\r\n        this.scales[index] = null;\r\n    };\r\n\r\n    proto.getScale = function (index) {\r\n        var i = 0;\r\n        var graph;\r\n        var scale = null;\r\n        var child;\r\n        if (this.scales[index] === null || this.scales[index] === undefined) {\r\n            graph = document.querySelector('[ni-control-id=\\'' + this.graphName + '\\']');\r\n\r\n            if (graph !== null) {\r\n                for (child in graph.childNodes) {\r\n                    if (graph.childNodes[child].localName === 'ni-cartesian-axis' ||\r\n                        graph.childNodes[child].localName === 'ni-color-scale') {\r\n                        if (i === index) {\r\n                            scale = graph.childNodes[child];\r\n                            break;\r\n                        }\r\n\r\n                        i++;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (scale === null) {\r\n                return null;\r\n            }\r\n\r\n            this.scales[index] = scale;\r\n        }\r\n\r\n        return this.scales[index];\r\n    };\r\n\r\n    proto.scaleToIndex = function (scale) {\r\n        var i = 0, index = 0, graph, child, currentScale;\r\n        graph = document.querySelector('[ni-control-id=\\'' + this.graphName + '\\']');\r\n        if (graph !== null) {\r\n            for (child in graph.childNodes) {\r\n                if (graph.childNodes[child].localName === 'ni-cartesian-axis' ||\r\n                    graph.childNodes[child].localName === 'ni-color-scale') {\r\n                    currentScale = graph.childNodes[child];\r\n                    if (currentScale === scale) {\r\n                        index = i;\r\n                        break;\r\n                    }\r\n\r\n                    i++;\r\n                }\r\n            }\r\n        }\r\n\r\n        return index;\r\n    };\r\n\r\n    proto.handleClick = function (itemName, index) {\r\n        if (this.isInEditMode !== true) {\r\n            var scale = this.getScale(index);\r\n            if (scale === null) {\r\n                return;\r\n            }\r\n\r\n            switch (itemName) {\r\n                case 'lock':\r\n                    if (scale.autoScale) {\r\n                        // turns off autoscale and sets axis min and max\r\n                        // at the current \"autoscaled\" values\r\n                        scale.scaleOnce();\r\n                    } else {\r\n                        scale.autoScale = true;\r\n                    }\r\n\r\n                    break;\r\n                case 'scaleonce':\r\n                    scale.scaleOnce();\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.getState = function (itemName, index) {\r\n        var scale = this.getScale(index);\r\n        if (scale === null) {\r\n            return undefined;\r\n        }\r\n\r\n        var state;\r\n        switch (itemName) {\r\n            case 'canLock':\r\n                state = scale.localName !== 'ni-color-scale';\r\n                break;\r\n            case 'lock':\r\n                state = scale.autoScale;\r\n                break;\r\n            case 'scaleonce':\r\n                break;\r\n            case 'name':\r\n                state = scale.label;\r\n                break;\r\n        }\r\n\r\n        return state;\r\n    };\r\n}());\r\n","//****************************************\r\n// Graph Tools Element\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.GraphTools = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\nNationalInstruments.HtmlVI.Elements.GraphTools.ModeEnum = Object.freeze({\r\n    LOCKED: 'locked',\r\n    PAN: 'pan',\r\n    ZOOM: 'zoom'\r\n});\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var MODE_ENUM = NationalInstruments.HtmlVI.Elements.GraphTools.ModeEnum;\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    var navigationStates = {};\r\n    navigationStates[MODE_ENUM.LOCKED] = [true, false, false];\r\n    navigationStates[MODE_ENUM.PAN] = [false, true, false];\r\n    navigationStates[MODE_ENUM.ZOOM] = [false, false, true];\r\n\r\n    //Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'graphName',\r\n            defaultValue: '',\r\n            fireEvent: false,\r\n            addNonSignalingProperty: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'isInEditMode',\r\n            defaultValue: false,\r\n            fireEvent: false,\r\n            addNonSignalingProperty: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'mode',\r\n            defaultValue: MODE_ENUM.PAN,\r\n            fireEvent: false,\r\n            addNonSignalingProperty: false\r\n        });\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n        this._parentGraph = undefined;\r\n    };\r\n\r\n    proto.attachToGraph = function (graphElement) {\r\n        this._parentGraph = graphElement;\r\n        graphElement.registerGraphTools(this);\r\n    };\r\n\r\n    /* The result of user interactions (pan, zoom, ..) are often modified axes\r\n    parameters in the flot datastructures.\r\n    When needed, call this function to update the ni-cartesian-axis elements to have te new values */\r\n    proto.updateCartesianAxesFromFlot = function () {\r\n        this._parentGraph.axes.forEach(function (axis) {\r\n            if (axis instanceof NationalInstruments.HtmlVI.Elements.CartesianAxis) {\r\n                axis.syncWithFlot();\r\n            }\r\n        });\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            childElement,\r\n            that = this;\r\n\r\n        if (firstCall === true) {\r\n            childElement = document.createElement('div');\r\n            childElement.id = 'div' + NI_SUPPORT.uniqueId();\r\n            childElement.style.width = '100%';\r\n            childElement.style.height = '100%';\r\n            this.appendChild(childElement);\r\n            this.table = document.createElement('table');\r\n            this.table.className = 'ni-graph-tools-box';\r\n            childElement.appendChild(this.table);\r\n\r\n            this.addEventListener('ni-cartesian-graph-box-selected', function (evt) {\r\n                // a rectangle selection was made on the graph, zoom into that selection\r\n                // info about the selection box is passed in the event details (ranges)\r\n                var ranges = evt.detail.originalSource.ranges;\r\n                var plot = that._parentGraph.graph;\r\n\r\n                // set the visible ranges for x axes\r\n                // TODO cipix: fix this for multiple axes\r\n                $.each(plot.getXAxes(), function (_, axis) {\r\n                    var opts = axis.options;\r\n                    opts.min = ranges.xaxis.from;\r\n                    opts.max = ranges.xaxis.to;\r\n                });\r\n                // set the visible ranges for y axes\r\n                // TODO cipix: fix this for multiple axes\r\n                $.each(plot.getYAxes(), function (_, axis) {\r\n                    var opts = axis.options;\r\n                    opts.min = ranges.yaxis.from;\r\n                    opts.max = ranges.yaxis.to;\r\n                });\r\n                // redraw plot\r\n                plot.setupGrid();\r\n                plot.draw();\r\n                plot.clearSelection();\r\n\r\n                this.updateCartesianAxesFromFlot();\r\n            });\r\n\r\n            this.addEventListener('ni-cartesian-graph-interaction', function () {\r\n                this.updateCartesianAxesFromFlot();\r\n            });\r\n\r\n            this.addEventListener('ni-cartesian-graph-reCenter', function () {\r\n                var plot = that._parentGraph.graph;\r\n\r\n                $.each(plot.getAxes(), function (_, axis) {\r\n                    var opts = axis.options;\r\n                    // set flot axis options to autoscale\r\n                    // flot doesn't have an autoscale property, the way to set autoscale is to have undefined min and max\r\n                    opts.min = undefined;\r\n                    opts.max = undefined;\r\n                });\r\n\r\n                // redraw plot\r\n                plot.setupGrid();\r\n                plot.draw();\r\n\r\n                this.updateCartesianAxesFromFlot();\r\n            });\r\n\r\n            this.createRow(this.table);\r\n\r\n            var graph = document.querySelector('[ni-control-id=\\'' + this.graphName + '\\']');\r\n            if (graph !== null && graph instanceof NationalInstruments.HtmlVI.Elements.CartesianGraphBase) {\r\n                this.attachToGraph(graph);\r\n            }\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.createRow = function (tbl) {\r\n        var that = this;\r\n        var tr, td1, td2, td3, td4, navNone, btnPan, btnZoom, btnZoomOut;\r\n\r\n        function setNavButtonsState(locked, pan, zoom) {\r\n            $(navNone).jqxToggleButton({ disabled: locked });\r\n            $(btnPan).jqxToggleButton({ disabled: pan });\r\n            $(btnZoom).jqxToggleButton({ disabled: zoom });\r\n        }\r\n\r\n        function setMode(mode) {\r\n            var states =  navigationStates[mode];\r\n\r\n            if (states) {\r\n                setNavButtonsState.apply(null, states);\r\n                that.mode = mode;\r\n            }\r\n        }\r\n\r\n        tr = document.createElement('tr');\r\n        tbl.appendChild(tr);\r\n        td1 = document.createElement('td');\r\n        td1.className = 'ni-button-box';\r\n        tr.appendChild(td1);\r\n        navNone = document.createElement('button');\r\n        navNone.type = 'button';\r\n        navNone.className = 'ni-locked-icon ni-button';\r\n        $(navNone).jqxToggleButton();\r\n        $(navNone).on('click', function () {\r\n            setMode(MODE_ENUM.LOCKED);\r\n        });\r\n        td1.appendChild(navNone);\r\n\r\n        td2 = document.createElement('td');\r\n        td2.className = 'ni-button-box';\r\n        tr.appendChild(td2);\r\n        btnPan = document.createElement('button');\r\n        btnPan.type = 'button';\r\n        btnPan.className = 'ni-pan-icon ni-button';\r\n        $(btnPan).jqxToggleButton();\r\n        $(btnPan).on('click', function () {\r\n            setMode(MODE_ENUM.PAN);\r\n        });\r\n        td2.appendChild(btnPan);\r\n\r\n        td3 = document.createElement('td');\r\n        td3.className = 'ni-button-box';\r\n        tr.appendChild(td3);\r\n        btnZoom = document.createElement('button');\r\n        btnZoom.type = 'button';\r\n        btnZoom.className = 'ni-zoom-region-icon ni-button';\r\n        $(btnZoom).on('click', function () {\r\n            setMode(MODE_ENUM.ZOOM);\r\n        });\r\n        td3.appendChild(btnZoom);\r\n\r\n        setMode(this.mode); // initialize the \"navigation radio butons\" in the default mode\r\n        td4 = document.createElement('td');\r\n        td4.className = 'ni-button-box';\r\n        tr.appendChild(td4);\r\n        btnZoomOut = document.createElement('button');\r\n        btnZoomOut.type = 'button';\r\n        btnZoomOut.className = 'ni-zoom-out-icon ni-button';\r\n        $(btnZoomOut).jqxButton({ disabled: false });\r\n        $(btnZoomOut).on('click', function () {\r\n            that._parentGraph.axes.forEach(function (axis) {\r\n                axis.scaleOnce();\r\n            });\r\n        });\r\n        td4.appendChild(btnZoomOut);\r\n    };\r\n\r\n    proto.allowsScrollWheelZoom = function () {\r\n        return this.mode === MODE_ENUM.PAN || this.mode === MODE_ENUM.ZOOM;\r\n    };\r\n\r\n    proto.allowsPan = function () {\r\n        return this.mode === MODE_ENUM.PAN;\r\n    };\r\n\r\n    proto.sendEventToParentGraph = function (name) {\r\n        var eventConfig;\r\n\r\n        if (this._parentGraph !== undefined) {\r\n            eventConfig = {\r\n                bubbles: true,\r\n                cancelable: true,\r\n                detail: {\r\n                    element: this\r\n                }\r\n            };\r\n\r\n            this._parentGraph.dispatchEvent(new CustomEvent(name, eventConfig));\r\n        }\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        var that = this;\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n            case 'graphName':\r\n                // should never change\r\n                //this.helpers.graphName = this.graphName;\r\n                break;\r\n            case 'isInEditMode':\r\n                // this changes once after the element is created\r\n\r\n                $(this.table).find('.ni-locked-icon').each(function () {\r\n                    $(this).jqxToggleButton({ disabled: that.isInEditMode });\r\n                });\r\n                $(this.table).find('.ni-pan-icon').each(function () {\r\n                    $(this).prop('disabled', that.isInEditMode);\r\n                });\r\n                $(this.table).find('.ni-zoom-region-icon').each(function () {\r\n                    $(this).prop('disabled', that.isInEditMode);\r\n                });\r\n                break;\r\n            case 'mode':\r\n                this.sendEventToParentGraph('ni-graph-tools-changed');\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-graph-tools', 'HTMLNIGraphTools');\r\n}(NationalInstruments.HtmlVI.Elements.GraphTools, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//**************************************\r\n// OpaqueRefnum Control Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2014\r\n//**************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.OpaqueRefnum = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    // None\r\n\r\n    proto.defineElementInfo(proto, 'ni-opaque-refnum', 'HTMLNIOpaqueRefnum');\r\n}(NationalInstruments.HtmlVI.Elements.OpaqueRefnum, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// Tab Control Prototype\r\n// DOM Registration: HTMLNITabControl\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.TabControl = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'selectedIndex',\r\n            defaultValue: 0,\r\n            fireEvent: true,\r\n            addNonSignalingProperty: true,\r\n            isElementValueProperty: true\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'tabStripPlacement',\r\n            defaultValue: 'top'\r\n        });\r\n\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        this._validTabHeadersLength = 0;\r\n    };\r\n\r\n    // This function does not rely on instance properties of child TagItems\r\n    // so can be used before child TagItems have been upgraded\r\n    proto.findNonUpgradedChildTabItems = function () {\r\n        var myChildTabItems = [],\r\n            tabItemName = NationalInstruments.HtmlVI.Elements.TabItem.prototype.elementInfo.tagName.toUpperCase(),\r\n            i;\r\n\r\n        for (i = 0; i < this.children.length; i++) {\r\n            if (this.children[i].tagName === tabItemName && this.children[i] instanceof NationalInstruments.HtmlVI.Elements.TabItem === false) {\r\n                myChildTabItems.push(this.children[i]);\r\n            }\r\n        }\r\n\r\n        return myChildTabItems;\r\n    };\r\n\r\n    proto.createHeaderContainer = function (tabItemToIgnore) {\r\n        // TODO mraj tabItemToIgnore needed because PhantomJS 1.9.8 calls the detached callback before removing the element from the DOM while PhantomJS 2+ and all modern browsers call detached after removing the element from the DOM\r\n\r\n        // Generated DOM:\r\n        //<div ni-data-container ni-data-valid-tab-headers-length=\"n\">\r\n        //    <ul ni-data-headers>\r\n        //        <li>Tab Header 1</li>\r\n        //        ...\r\n        //    </ul>\r\n        //    <div ni-data-frames>\r\n        //        <div><!-- Empty Tab 1 --></div>\r\n        //        ...\r\n        //    </div>\r\n        //</div>\r\n\r\n        var container = document.createElement('div');\r\n        container.id = NI_SUPPORT.uniqueId();\r\n        var tabHeaders, tabFrames;\r\n\r\n        var i, currHeader, validTabHeadersLength;\r\n        var headers = [];\r\n\r\n        for (i = 0; i < this.children.length; i++) {\r\n            if (this.children[i] instanceof NationalInstruments.HtmlVI.Elements.TabItem && this.children[i] !== tabItemToIgnore) {\r\n                if (headers[this.children[i].tabPosition] === undefined) {\r\n                    headers[this.children[i].tabPosition] = this.children[i].header;\r\n                } else {\r\n                    // If error, reset header and stop iteration\r\n                    NI_SUPPORT.infoVerbose('TabControl has multiple TabItems with tabPosition (' + this.children[i].tabPosition + ')');\r\n                    headers = [];\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        tabHeaders = document.createElement('ul');\r\n        tabFrames = document.createElement('div');\r\n        if (headers.length > 0) {\r\n            for (i = 0; i < headers.length; i++) {\r\n                if (typeof headers[i] === 'string') {\r\n                    currHeader = document.createElement('li');\r\n                    currHeader.textContent = headers[i];\r\n                    tabHeaders.appendChild(currHeader);\r\n                    tabFrames.appendChild(document.createElement('div'));\r\n                } else {\r\n                    // If error, reset headers + frames and stop iteration\r\n                    NI_SUPPORT.infoVerbose('TabControl is missing TabItem at tabPosition (' + i + ')');\r\n                    tabHeaders = document.createElement('ul');\r\n                    tabFrames = document.createElement('div');\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (tabHeaders.children.length === 0 || tabFrames.children.length === 0) {\r\n            currHeader = document.createElement('li');\r\n            currHeader.innerHTML = '&nbsp;';\r\n            tabHeaders.appendChild(currHeader);\r\n            tabFrames.appendChild(document.createElement('div'));\r\n            NI_SUPPORT.infoVerbose('TabControl has no valid TabItems to render, creating dummy so jqxRibbon does not error');\r\n            validTabHeadersLength = 0;\r\n        } else {\r\n            // tabHeaders and tabFrames should be the same length\r\n            validTabHeadersLength = tabHeaders.children.length;\r\n        }\r\n\r\n        container.appendChild(tabHeaders);\r\n        container.appendChild(tabFrames);\r\n        container.setAttribute('ni-data-container', '');\r\n        container.setAttribute('ni-data-valid-tab-headers-length', validTabHeadersLength);\r\n        tabHeaders.setAttribute('ni-data-headers', '');\r\n        tabHeaders.classList.add('ni-headers-box');\r\n        tabFrames.setAttribute('ni-data-frames', '');\r\n\r\n        return container;\r\n    };\r\n\r\n    proto.getHeaderContainer = function () {\r\n        var i;\r\n\r\n        for (i = 0; i < this.children.length; i++) {\r\n            if (this.children[i].getAttribute('ni-data-container') !== null) {\r\n                return this.children[i];\r\n            }\r\n        }\r\n\r\n        return undefined;\r\n    };\r\n\r\n    proto.attachHeaderContainer = function (tabItemToIgnore) {\r\n        var widgetSettings = {},\r\n            childElement,\r\n            jqref,\r\n            oldContainer,\r\n            that = this;\r\n\r\n        oldContainer = this.getHeaderContainer();\r\n        if (oldContainer !== undefined) {\r\n            this.removeChild(oldContainer);\r\n        }\r\n\r\n        widgetSettings.width = '100%';\r\n        widgetSettings.height = '100%';\r\n        widgetSettings.animationType = 'none';\r\n        widgetSettings.position = this.tabStripPlacement.toLowerCase();\r\n\r\n        childElement = this.createHeaderContainer(tabItemToIgnore);\r\n\r\n        this._validTabHeadersLength = parseFloat(childElement.getAttribute('ni-data-valid-tab-headers-length'));\r\n\r\n        if (this.firstElementChild !== null) {\r\n            this.insertBefore(childElement, this.firstElementChild);\r\n        } else {\r\n            this.appendChild(childElement);\r\n        }\r\n\r\n        jqref = $(childElement);\r\n        jqref.jqxRibbon(widgetSettings);\r\n        // Adding CSS class names\r\n        $('#' + childElement.id + ' .jqx-ribbon-item').addClass('ni-header');\r\n        $('#' + childElement.id + ' .ni-header').css('font-size', $(this).css('font-size'));\r\n        $('#' + childElement.id + ' .ni-header').css('font-family', $(this).css('font-family'));\r\n        $('#' + childElement.id + ' .ni-header').css('font-weight', $(this).css('font-weight'));\r\n        $('#' + childElement.id + ' .ni-header').css('font-style', $(this).css('font-style'));\r\n\r\n        jqref.on('select', function (evt) {\r\n            that.selectedIndex = evt.args.selectedIndex;\r\n        });\r\n\r\n        this.applySelectedIndex();\r\n    };\r\n\r\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle) {\r\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqrefContent = $('#' + childElement.id + ' .ni-header');\r\n\r\n        jqrefContent.css({ 'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle });\r\n    };\r\n\r\n    proto.addTabItemListeners = function (initialTabItemsToWaitFor) {\r\n        var that = this;\r\n\r\n        that.addEventListener('ni-tab-item-attached', function (evt) {\r\n            var i;\r\n\r\n            if (evt.target === that) {\r\n                for (i = 0; i < initialTabItemsToWaitFor.length; i++) {\r\n                    if (initialTabItemsToWaitFor[i] === evt.detail.element) {\r\n                        initialTabItemsToWaitFor.splice(i, 1);\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                if (initialTabItemsToWaitFor.length === 0) {\r\n                    that.attachHeaderContainer();\r\n                }\r\n            }\r\n        });\r\n\r\n        that.addEventListener('ni-tab-item-detached', function (evt) {\r\n            if (evt.target === that) {\r\n                that.attachHeaderContainer(evt.detail.element);\r\n            }\r\n        });\r\n\r\n        that.addEventListener('ni-tab-item-header-updated', function (evt) {\r\n            var childElement = that.getHeaderContainer(),\r\n                jqref;\r\n            if (evt.target === that && childElement !== undefined) {\r\n                jqref = $(childElement);\r\n                jqref.jqxRibbon('updateAt', evt.detail.element.tabPosition, {\r\n                    newTitle: evt.detail.element.header\r\n                });\r\n            }\r\n        });\r\n\r\n        that.addEventListener('ni-tab-item-position-updated', function (evt) {\r\n            if (evt.target === that) {\r\n                that.attachHeaderContainer();\r\n            }\r\n        });\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n        var initialTabItemsToWaitFor;\r\n\r\n        if (firstCall === true) {\r\n            initialTabItemsToWaitFor = this.findNonUpgradedChildTabItems();\r\n\r\n            if (initialTabItemsToWaitFor.length === 0) {\r\n                this.attachHeaderContainer();\r\n            }\r\n\r\n            this.addTabItemListeners(initialTabItemsToWaitFor);\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.applySelectedIndex = function () {\r\n        var childElement, jqref, i;\r\n\r\n        if (this._validTabHeadersLength > 0 && this.selectedIndex >= 0 && this.selectedIndex < this._validTabHeadersLength) {\r\n            childElement = this.getHeaderContainer();\r\n            jqref = $(childElement);\r\n            jqref.jqxRibbon({\r\n                selectedIndex: this.selectedIndex\r\n            });\r\n\r\n            for (i = 0; i < this.children.length; i++) {\r\n                if (this.children[i] instanceof NationalInstruments.HtmlVI.Elements.TabItem) {\r\n                    if (this.children[i].tabPosition === this.selectedIndex) {\r\n                        this.children[i].classList.remove('ni-hidden');\r\n                    } else {\r\n                        this.children[i].classList.add('ni-hidden');\r\n                    }\r\n                }\r\n            }\r\n\r\n        } else {\r\n            NI_SUPPORT.infoVerbose('TabControl was provided invalid selectedIndex (' + this.selectedIndex + ') when the number of valid tab items is (' + this._validTabHeadersLength + ')');\r\n        }\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n        case 'selectedIndex':\r\n            this.applySelectedIndex();\r\n            break;\r\n        case 'tabStripPlacement':\r\n            // TODO mraj changing the position of the jqxRibbon header causes render problems in jqx, so instead recreate the whole header.\r\n            this.attachHeaderContainer();\r\n            break;\r\n        default:\r\n            break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-tab-control', 'HTMLNITabControl');\r\n}(NationalInstruments.HtmlVI.Elements.TabControl, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// Tab Item Prototype\r\n// DOM Registration: HTMLNITabItem\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.TabItem = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'tabPosition',\r\n            defaultValue: -1\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'header',\r\n            defaultValue: 'TabItem'\r\n        });\r\n\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        this._parentTabControl = undefined;\r\n    };\r\n\r\n    proto.sendEventToParentTabControl = function (name) {\r\n        var eventConfig;\r\n\r\n        if (this._parentTabControl !== undefined) {\r\n            eventConfig = {\r\n                bubbles: true,\r\n                cancelable: true,\r\n                detail: {\r\n                    element: this\r\n                }\r\n            };\r\n\r\n            this._parentTabControl.dispatchEvent(new CustomEvent(name, eventConfig));\r\n        }\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n\r\n        if (this.parentElement instanceof NationalInstruments.HtmlVI.Elements.TabControl) {\r\n            this._parentTabControl = this.parentElement;\r\n            this.sendEventToParentTabControl('ni-tab-item-attached');\r\n        } else {\r\n            NI_SUPPORT.error('Tab Item does not have a parent Tab Control', this);\r\n            this._parentTabControl = undefined;\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n        case 'header':\r\n            this.sendEventToParentTabControl('ni-tab-item-header-updated');\r\n            break;\r\n        case 'tabPosition':\r\n            this.sendEventToParentTabControl('ni-tab-item-position-updated');\r\n            break;\r\n        default:\r\n            break;\r\n        }\r\n    };\r\n\r\n    proto.detachedCallback = function () {\r\n        parent.prototype.detachedCallback.call(this);\r\n\r\n        this.sendEventToParentTabControl('ni-tab-item-detached');\r\n        this._parentTabControl = undefined;\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-tab-item', 'HTMLNITabItem');\r\n}(NationalInstruments.HtmlVI.Elements.TabItem, NationalInstruments.HtmlVI.Elements.VisualComponent));\r\n","//****************************************\r\n// Layout Panel Prototype\r\n// DOM Registration: HTMLNILayoutPanel\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.LayoutPanel = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    // None\r\n\r\n    proto.defineElementInfo(proto, 'ni-layout-panel', 'HTMLNILayoutPanel');\r\n}(NationalInstruments.HtmlVI.Elements.LayoutPanel, NationalInstruments.HtmlVI.Elements.Visual));\r\n","/*jslint nomen: true, devel:true*/\r\n/*global NationalInstruments*/\r\n//****************************************\r\n// Color scale Custom Element\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.ColorScale = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'show',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'axisPosition',\r\n            defaultValue: 'right'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'showLabel',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'highColor',\r\n            defaultValue: '#ffffff'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'lowColor',\r\n            defaultValue: '#000000'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'markers',\r\n            defaultValue: '' // json string for array of markers\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'autoScale',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'minimum',\r\n            defaultValue: 0\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'maximum',\r\n            defaultValue: 1\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'label',\r\n            defaultValue: ''\r\n        });\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        this._parentGraph = undefined;\r\n    };\r\n\r\n    proto.sendEventToParentGraph = function (name) {\r\n        var eventConfig;\r\n\r\n        if (this._parentGraph !== undefined) {\r\n            eventConfig = {\r\n                bubbles: true,\r\n                cancelable: true,\r\n                detail: {\r\n                    element: this\r\n                }\r\n            };\r\n\r\n            this._parentGraph.dispatchEvent(new CustomEvent(name, eventConfig));\r\n        }\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n\r\n        if (this.parentElement instanceof NationalInstruments.HtmlVI.Elements.IntensityGraph) {\r\n            this._parentGraph = this.parentElement;\r\n            this.sendEventToParentGraph('ni-cartesian-axis-attached');\r\n        } else {\r\n            NI_SUPPORT.error('Color scale with following id does not have a parentGraph', this.niControlId);\r\n            this._parentGraph = undefined;\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        this.sendEventToParentGraph('ni-axis-changed');\r\n    };\r\n\r\n    proto.detachedCallback = function () {\r\n        parent.prototype.detachedCallback.call(this);\r\n\r\n        this.sendEventToParentGraph('ni-cartesian-axis-detached');\r\n        this._parentGraph = undefined;\r\n    };\r\n\r\n    // getViewConfig transforms the configuration from the one used by the custom element to the one understood by Flot */\r\n    proto.getViewConfig = function () {\r\n        return {\r\n            'axisLabel': this.showLabel ? this.label : undefined,\r\n            'show': this.show,\r\n            'autoScale': this.autoScale,\r\n            'min': this.minimum,\r\n            'max': this.maximum,\r\n            'position': this.axisPosition,\r\n            'lowColor': this.lowColor,\r\n            'highColor': this.highColor,\r\n            'markers': this.markers\r\n        };\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-color-scale', 'HTMLNIColorScale');\r\n}(NationalInstruments.HtmlVI.Elements.ColorScale, NationalInstruments.HtmlVI.Elements.Visual));\r\n","/*global NationalInstruments*/\r\n//****************************************\r\n// Numeric Value Selector Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.NumericValueSelector = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var NUM_VAL_CONVERTER = NationalInstruments.HtmlVI.ValueConverters.NumericValueConverter;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'value',\r\n            defaultValue: { stringValue: '0', numberValue: 0 },\r\n            fireEvent: true,\r\n            addNonSignalingProperty: true,\r\n            isElementValueProperty: true\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'valueType',\r\n            defaultValue: NationalInstruments.HtmlVI.NINumerics.ValueTypes.UINT32\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'items',\r\n            defaultValue: '[]'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'popupEnabled',\r\n            defaultValue: false\r\n        });\r\n    };\r\n\r\n    proto.compareIndexValue = function (value1, value2) {\r\n        if (typeof value1 === typeof value2) {\r\n            return value1 === value2;\r\n        } else {\r\n            // todo\r\n            return parseFloat(value1) === parseFloat(value2);\r\n        }\r\n    };\r\n\r\n    proto.itemsCache = function () {\r\n        var that = this;\r\n        if (!that.itemsArray) {\r\n            that.itemsArray = JSON.parse(that.items);\r\n        }\r\n\r\n        function updateItemsArray() {\r\n            that.itemsArray = JSON.parse(that.items);\r\n        }\r\n\r\n        function pushItem(newItem) {\r\n            that.itemsArray.push(newItem);\r\n            that.items = JSON.stringify(that.itemsArray);\r\n        }\r\n\r\n        return {\r\n            itemsArray: that.itemsArray,\r\n            cacheDirty: updateItemsArray,\r\n            writeThrough: pushItem\r\n        };\r\n    };\r\n\r\n    // create the source array from the items which contain both ringvalue and ringindex. we may need to insert new dropdown item when necessary\r\n    // and then calculate the selectedIndex based on the ringIndex which coud be very different from the index of the dropdown item.\r\n    // the format of the ring source is [{value:3, displayvalue:'first'}, {value:7, displayvalue:'second'},..]\r\n    proto.getSourceAndSelectedIndexFromSource = function (allowCreateNewSelectedItem) {\r\n\r\n        var result = {};\r\n        var source = [];\r\n        var selectedIndex = -1;\r\n        var numericIndex = NUM_VAL_CONVERTER.convertBack(this.value, this.valueType);\r\n        var itemsArray = this.itemsCache().itemsArray;\r\n        for (var i = 0; i < itemsArray.length; i++) {\r\n            var item = itemsArray[i];\r\n            source.push(item.displayValue);\r\n            if (this.compareIndexValue(item.value, numericIndex)) {\r\n                selectedIndex = i;\r\n            }\r\n        }\r\n\r\n        if (allowCreateNewSelectedItem) {\r\n            if (selectedIndex < 0) {\r\n                source.push('<' + numericIndex + '>');\r\n                selectedIndex = source.length - 1;\r\n            }\r\n        }\r\n\r\n        result.source = source;\r\n        result.selectedIndex = selectedIndex;\r\n        return result;\r\n    };\r\n\r\n    // handler to update the property when the dropdown selection changed\r\n    proto.selectChangedHandler = function (selectValue) {\r\n        var itemsArray = this.itemsCache().itemsArray;\r\n        var numericIndex;\r\n        for (var i = 0; i < itemsArray.length; i++) {\r\n            var item = itemsArray[i];\r\n            if (item.displayValue === selectValue) {\r\n                numericIndex = item.value;\r\n                this.value = NUM_VAL_CONVERTER.convert(numericIndex, this.valueType, true);\r\n                break;\r\n            }\r\n        }\r\n\r\n        return numericIndex;\r\n    };\r\n\r\n    proto.propertyUpdatedHelper = function (propertyName, jqref) {\r\n        switch (propertyName) {\r\n            case 'items':\r\n                this.itemsCache().cacheDirty();\r\n                var data = this.getSourceAndSelectedIndexFromSource(false);\r\n                var selectedIndex = data.selectedIndex;\r\n                var source = data.source;\r\n                jqref.jqxDropDownList({ source: source, selectedIndex: selectedIndex });\r\n                break;\r\n            case 'value':\r\n                data = this.getSourceAndSelectedIndexFromSource(true);\r\n                source = data.source;\r\n                selectedIndex = data.selectedIndex;\r\n                if (source.length === jqref.jqxDropDownList('source').length) {\r\n                    jqref.jqxDropDownList({ selectedIndex: selectedIndex });\r\n                } else {\r\n                    var newItem = { value: NUM_VAL_CONVERTER.convertBack(this.value, this.valueType), displayValue: source[source.length - 1] };\r\n                    this.itemsCache().writeThrough(newItem);\r\n                    jqref.jqxDropDownList({ source: source, selectedIndex: selectedIndex });\r\n                }\r\n\r\n                break;\r\n            case 'readOnly':\r\n                jqref.jqxDropDownList({ disabled: this.readOnly });\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n}(NationalInstruments.HtmlVI.Elements.NumericValueSelector, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// EnumSelector Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.EnumSelector = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            widgetSettings,\r\n            jqref,\r\n            that = this;\r\n\r\n        if (firstCall === true) {\r\n            widgetSettings = {};\r\n            var dropDownChildElement = document.createElement('div');\r\n            dropDownChildElement.style.width = '100%';\r\n            dropDownChildElement.style.height = '100%';\r\n            dropDownChildElement.style.fontSize = $(this).css('font-size');\r\n            dropDownChildElement.style.fontFamily = $(this).css('font-family');\r\n            dropDownChildElement.style.fontWeight = $(this).css('font-weight');\r\n            dropDownChildElement.style.fontStyle = $(this).css('font-style');\r\n            this.appendChild(dropDownChildElement);\r\n            jqref = $(dropDownChildElement);\r\n\r\n            var data = this.getSourceAndSelectedIndexFromSource();\r\n            widgetSettings.selectedIndex = data.selectedIndex;\r\n            widgetSettings.source = data.source;\r\n            widgetSettings.autoDropDownHeight = true;\r\n            widgetSettings.disabled = this.readOnly;\r\n\r\n            jqref.jqxDropDownList(widgetSettings);\r\n            jqref.on('change', function (event) {\r\n                var args = event.args;\r\n                if (args) {\r\n                    var displayValue = args.item.value;\r\n                    that.selectChangedHandler(displayValue);\r\n                }\r\n            });\r\n            // TODO: gleon check with jqWidgets about this hack.\r\n            if (this.popupEnabled === false) {\r\n                jqref.on('open', function () {\r\n                    jqref.jqxDropDownList('close');\r\n                });\r\n                jqref.jqxDropDownList({animationType: 'none'});\r\n            }\r\n\r\n            // Add CSS class names\r\n            jqref.addClass('ni-expand-button');\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.forceResize = function (size) {\r\n        parent.prototype.forceResize.call(this, size);\r\n        $(this.firstElementChild).jqxDropDownList(size);\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n        var jqref = $(this.firstElementChild);\r\n        switch (propertyName) {\r\n            case 'items':\r\n            case 'value':\r\n            case 'readOnly':\r\n                this.propertyUpdatedHelper.call(this, propertyName, jqref);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-enum-selector', 'HTMLNIEnumSelector');\r\n}(NationalInstruments.HtmlVI.Elements.EnumSelector, NationalInstruments.HtmlVI.Elements.NumericValueSelector));\r\n","//****************************************\r\n// RingSelector Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.RingSelector = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static private reference aliases\r\n    var NUM_VAL_CONVERTER = NationalInstruments.HtmlVI.ValueConverters.NumericValueConverter;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'allowUndefined',\r\n            defaultValue: false\r\n        });\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            widgetSettings, jqref, jqrefNumeric,\r\n            that = this;\r\n\r\n        if (firstCall === true) {\r\n            widgetSettings = {};\r\n\r\n            var dropDownContainer = document.createElement('div');\r\n            dropDownContainer.style.fontSize = $(this).css('font-size');\r\n            dropDownContainer.style.fontFamily = $(this).css('font-family');\r\n            dropDownContainer.style.fontWeight = $(this).css('font-weight');\r\n            dropDownContainer.style.fontStyle = $(this).css('font-style');\r\n            this.appendChild(dropDownContainer);\r\n\r\n            jqref = $(dropDownContainer);\r\n            jqref.jqxDropDownList(widgetSettings);\r\n\r\n            var numericInput = document.createElement('input');\r\n            numericInput.type = 'text';\r\n            this.appendChild(numericInput);\r\n\r\n            jqrefNumeric = $(numericInput);\r\n            var numericWidgetSettings = {};\r\n            numericWidgetSettings.readOnly = this.readOnly;\r\n            numericWidgetSettings.spinButtons = false;\r\n\r\n            jqrefNumeric.jqxFormattedInput(numericWidgetSettings);\r\n\r\n            var data = this.getSourceAndSelectedIndexFromSource();\r\n            var selectedIndex = data.selectedIndex;\r\n            var source = data.source;\r\n\r\n            jqref.jqxDropDownList({ source: source, selectedIndex: selectedIndex, autoDropDownHeight: true, disabled: this.readOnly });\r\n            // TODO: gleon check with jqWidgets about this hack.\r\n            if (this.popupEnabled === false) {\r\n                jqref.on('open', function () {\r\n                    jqref.jqxDropDownList('close');\r\n                });\r\n                jqref.jqxDropDownList({animationType: 'none'});\r\n            }\r\n\r\n            jqref.on('change', function (event) {\r\n                var args = event.args;\r\n                if (args) {\r\n                    var displayValue = args.item.value;\r\n                    var numericIndex = that.selectChangedHandler(displayValue);\r\n                    jqrefNumeric.jqxFormattedInput('val', numericIndex);\r\n                }\r\n            });\r\n            jqrefNumeric.on('valueChanged', function (event) {\r\n                that.value = NUM_VAL_CONVERTER.convert(event.args.value, that.valueType, true);\r\n            });\r\n\r\n            // Add CSS class names\r\n            jqref.addClass('ni-expand-button');\r\n            jqrefNumeric.addClass('ni-ring-numeric-input');\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.forceResize = function (size) {\r\n        parent.prototype.forceResize.call(this, size);\r\n        var jqref = $(this.firstElementChild),\r\n            jqrefNumeric = $(this.querySelector('input'));\r\n\r\n        if (this.allowUndefined) {\r\n            size.width *= 0.7;\r\n            jqrefNumeric.trigger('resize');\r\n        }\r\n\r\n        jqref.jqxDropDownList(size);\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n        var jqref = $(this.firstElementChild),\r\n            jqrefNumeric = $(this.querySelector('input'));\r\n\r\n        switch (propertyName) {\r\n            case 'items':\r\n            case 'readOnly':\r\n                this.propertyUpdatedHelper(propertyName, jqref);\r\n                break;\r\n            case 'value':\r\n                this.propertyUpdatedHelper(propertyName, jqref);\r\n\r\n                var numericWidgetSettings = {\r\n                    value: NUM_VAL_CONVERTER.convertBack(this.value, this.valueType)\r\n                };\r\n                jqrefNumeric.jqxFormattedInput(numericWidgetSettings);\r\n                break;\r\n            case 'allowUndefined':\r\n                var width = $(this).width();\r\n                if (this.allowUndefined) {\r\n                    width *= 0.7;\r\n                }\r\n\r\n                jqref.jqxDropDownList({ width: width });\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-ring-selector', 'HTMLNIRingSelector');\r\n}(NationalInstruments.HtmlVI.Elements.RingSelector, NationalInstruments.HtmlVI.Elements.NumericValueSelector));\r\n","﻿//****************************************\r\n// Radio Button Group Prototype\r\n// DOM Registration: HTMLNIRadioButtonGroup\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\nNationalInstruments.HtmlVI.Elements.RadioButtonGroup = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\nNationalInstruments.HtmlVI.Elements.RadioButtonGroup.Orientation = {\r\n    horizontal: 'horizontal',\r\n    vertical: 'vertical'\r\n};\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var radioButtonClassName = 'ni-radio-item';\r\n    var thisClass = NationalInstruments.HtmlVI.Elements.RadioButtonGroup;\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    var getWidgetSettings = function () {\r\n        return {\r\n            animationShowDelay: 0,\r\n            animationHideDelay: 0\r\n        };\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'orientation',\r\n            defaultValue: thisClass.Orientation.vertical\r\n        });\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n\r\n        if (firstCall === true) {\r\n            var radioButtonGroupElement = document.createElement('div');\r\n            radioButtonGroupElement.style.width = '100%';\r\n            radioButtonGroupElement.style.height = '100%';\r\n            radioButtonGroupElement.style.fontSize = $(this).css('font-size');\r\n            radioButtonGroupElement.style.fontFamily = $(this).css('font-family');\r\n            radioButtonGroupElement.style.fontWeight = $(this).css('font-weight');\r\n            radioButtonGroupElement.style.fontStyle = $(this).css('font-style');\r\n            this.appendChild(radioButtonGroupElement);\r\n            this.setRadioButtons();\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.forceResize = function (size) {\r\n        parent.prototype.forceResize.call(this, size);\r\n        var radioButtonGroupElement = this.firstElementChild;\r\n        var buttonCnt = $(radioButtonGroupElement).children('.' + radioButtonClassName).length;\r\n        var height, width;\r\n        if (this.orientation === thisClass.Orientation.horizontal) {\r\n            width = size.width / buttonCnt;\r\n            height = size.height;\r\n        } else {\r\n            height = size.height / buttonCnt;\r\n            width = size.width;\r\n        }\r\n\r\n        $(radioButtonGroupElement).children('.' + radioButtonClassName).width(width);\r\n        $(radioButtonGroupElement).children('.' + radioButtonClassName).height(height);\r\n    };\r\n\r\n    proto.setOrientation = function () {\r\n        if (this.orientation === thisClass.Orientation.horizontal) {\r\n            $(this).addClass('ni-horizontal');\r\n        } else {\r\n            $(this).removeClass('ni-horizontal');\r\n        }\r\n\r\n        var size = { width: $(this).width(), height: $(this).height() };\r\n        this.forceResize(size);\r\n    };\r\n\r\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle) {\r\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle);\r\n        this.setChildrenButtonFont();\r\n    };\r\n\r\n    proto.setChildrenButtonFont = function () {\r\n        var fontObject = $(this).css(['font-family', 'font-weight', 'font-style', 'font-size']);\r\n        $(this.firstElementChild).children('.' + radioButtonClassName).css(fontObject);\r\n    };\r\n\r\n    proto.createCheckedHandler = function (displayValue) {\r\n        var that = this;\r\n        return function () {\r\n            that.selectChangedHandler(displayValue);\r\n        };\r\n    };\r\n\r\n    proto.setRadioButtons = function () {\r\n        var radioButtonGroupElement = this.firstElementChild;\r\n        $(radioButtonGroupElement).empty();\r\n        var data = this.getSourceAndSelectedIndexFromSource();\r\n        var selectedIndex = data.selectedIndex;\r\n        var source = data.source;\r\n        var groupId = NI_SUPPORT.uniqueId();\r\n        var that = this;\r\n        var disabled = this.readOnly;\r\n        var tempSettings;\r\n        for (var i = 0; i < source.length; i++) {\r\n            var displayValue = source[i];\r\n            var radioButtonElement = document.createElement('div');\r\n            $(radioButtonElement).text(displayValue);\r\n            tempSettings = getWidgetSettings();\r\n            tempSettings.groupName = groupId;\r\n            tempSettings.disabled = disabled;\r\n            $(radioButtonElement).addClass(radioButtonClassName);\r\n            if (selectedIndex === i) {\r\n                tempSettings.checked = true;\r\n            }\r\n\r\n            $(radioButtonElement).jqxRadioButton(tempSettings);\r\n            $(radioButtonElement).on('checked', that.createCheckedHandler(displayValue));\r\n            radioButtonGroupElement.appendChild(radioButtonElement);\r\n        }\r\n\r\n        this.setChildrenButtonFont();\r\n        this.setOrientation();\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n        var data, source, selectedIndex;\r\n        switch (propertyName) {\r\n            case 'items':\r\n                this.itemsCache().cacheDirty();\r\n                this.setRadioButtons();\r\n                break;\r\n            case 'value':\r\n                data = this.getSourceAndSelectedIndexFromSource(true);\r\n                source = data.source;\r\n                selectedIndex = data.selectedIndex;\r\n                var radioButtonGroupElement = this.firstElementChild;\r\n                var radioButtonElement = $(radioButtonGroupElement).children()[selectedIndex];\r\n                $(radioButtonElement).jqxRadioButton({ checked: true });\r\n                break;\r\n            case 'orientation':\r\n                this.setOrientation();\r\n                break;\r\n            case 'readOnly':\r\n                radioButtonGroupElement = this.firstElementChild;\r\n                $(radioButtonGroupElement).children('.' + radioButtonClassName).jqxRadioButton({ disabled: this.readOnly });\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-radio-button-group', 'HTMLNIRadioButtonGroup');\r\n}(NationalInstruments.HtmlVI.Elements.RadioButtonGroup, NationalInstruments.HtmlVI.Elements.NumericValueSelector));\r\n"]}